var $c=Object.defineProperty;var Uc=(t,e,s)=>e in t?$c(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Lr=(t,e,s)=>Uc(t,typeof e!="symbol"?e+"":e,s);import{r as Wc,b as Zc,a as fo,c as m,L as ie,B as po,d as go,e as pe,N as er,R as Ne,u as Os,f as qc,h as Tn,i as Hc}from"./react-vendor-DQy62pII.js";import{c as Yc,_ as Or}from"./auth-vendor-B4VC9ecp.js";import{c as Pn}from"./state-vendor-BATXlTbd.js";import{r as Kc}from"./map-vendor--SRgJ61u.js";import{f as Ht}from"./date-vendor-CBpsKyOP.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();var Br={exports:{}},rs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai;function Gc(){if(Ai)return rs;Ai=1;var t=Wc(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var u,h={},f=null,g=null;d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(g=c.ref);for(u in c)r.call(c,u)&&!a.hasOwnProperty(u)&&(h[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:e,type:l,key:f,ref:g,props:h,_owner:n.current}}return rs.Fragment=s,rs.jsx=o,rs.jsxs=o,rs}var Ti;function Jc(){return Ti||(Ti=1,Br.exports=Gc()),Br.exports}var i=Jc(),Ys={},Pi;function Xc(){if(Pi)return Ys;Pi=1;var t=Zc();return Ys.createRoot=t.createRoot,Ys.hydrateRoot=t.hydrateRoot,Ys}var Qc=Xc();const ed=fo(Qc);function td(t,e){let s;try{s=t()}catch{return}return{getItem:n=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),l=(a=s.getItem(n))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,a)=>s.setItem(n,JSON.stringify(a,void 0)),removeItem:n=>s.removeItem(n)}}const nn=t=>e=>{try{const s=t(e);return s instanceof Promise?s:{then(r){return nn(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return nn(r)(s)}}}},sd=(t,e)=>(s,r,n)=>{let a={storage:td(()=>localStorage),partialize:x=>x,version:0,merge:(x,_)=>({..._,...x}),...e},o=!1;const l=new Set,c=new Set;let d=a.storage;if(!d)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),s(...x)},r,n);const u=()=>{const x=a.partialize({...r()});return d.setItem(a.name,{state:x,version:a.version})},h=n.setState;n.setState=(x,_)=>{h(x,_),u()};const f=t((...x)=>{s(...x),u()},r,n);n.getInitialState=()=>f;let g;const v=()=>{var x,_;if(!d)return;o=!1,l.forEach(b=>{var j;return b((j=r())!=null?j:f)});const N=((_=a.onRehydrateStorage)==null?void 0:_.call(a,(x=r())!=null?x:f))||void 0;return nn(d.getItem.bind(d))(a.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==a.version){if(a.migrate){const j=a.migrate(b.state,b.version);return j instanceof Promise?j.then(T=>[!0,T]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var j;const[T,C]=b;if(g=a.merge(C,(j=r())!=null?j:f),s(g,!0),T)return u()}).then(()=>{N==null||N(g,void 0),g=r(),o=!0,c.forEach(b=>b(g))}).catch(b=>{N==null||N(void 0,b)})};return n.persist={setOptions:x=>{a={...a,...x},x.storage&&(d=x.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},a.skipHydration||v(),g||f},xo=sd,rd="https://kcubenpipsrohabhomuc.supabase.co",nd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjdWJlbnBpcHNyb2hhYmhvbXVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA2MDY1MjcsImV4cCI6MjA1NjE4MjUyN30.asDzTRAbOpBob3CnAC3WZOp4pRpcF2OlRuXJpyeKTAI",X=Yc(rd,nd,{auth:{persistSession:!0,autoRefreshToken:!0},db:{schema:"public"}});X.auth.onAuthStateChange((t,e)=>{var s;t==="SIGNED_OUT"?console.log("User signed out"):t==="SIGNED_IN"&&console.log("User signed in:",(s=e==null?void 0:e.user)==null?void 0:s.email)});const Ke=Pn()(xo(t=>({user:null,isLoading:!1,error:null,signIn:async(e,s)=>{try{t({isLoading:!0,error:null});const{data:r,error:n}=await X.auth.signInWithPassword({email:e,password:s});if(n)throw n;t({user:r.user})}catch(r){t({error:r.message})}finally{t({isLoading:!1})}},signUp:async(e,s)=>{try{t({isLoading:!0,error:null});const{data:r,error:n}=await X.auth.signUp({email:e,password:s});if(n)throw n;t({user:r.user})}catch(r){t({error:r.message})}finally{t({isLoading:!1})}},signOut:async()=>{try{t({isLoading:!0,error:null});const{error:e}=await X.auth.signOut();if(e)throw e;t({user:null})}catch(e){t({error:e.message})}finally{t({isLoading:!1})}},resetPassword:async e=>{try{t({isLoading:!0,error:null});const{error:s}=await X.auth.resetPasswordForEmail(e);if(s)throw s}catch(s){t({error:s.message})}finally{t({isLoading:!1})}},setUser:e=>t({user:e})}),{name:"auth-storage",partialize:t=>({user:t.user})}));/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yo=(...t)=>t.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ad={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:a,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...ad,width:e,height:e,stroke:t,strokeWidth:r?Number(s)*24/Number(e):s,className:yo("lucide",n),...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(t,e)=>{const s=m.forwardRef(({className:r,...n},a)=>m.createElement(od,{ref:a,iconNode:e,className:yo(`lucide-${id(t)}`,r),...n}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vo=ne("ArrowLeft",ld);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],dd=ne("Banknote",cd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],hd=ne("Briefcase",ud);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],fd=ne("Camera",md);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Me=ne("Car",pd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xd=ne("ChevronDown",gd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vd=ne("ChevronUp",yd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],wd=ne("CircleUser",bd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],En=ne("Clock",jd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],kr=ne("CreditCard",Nd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],_d=ne("Download",kd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],bo=ne("ExternalLink",Cd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Ad=ne("Gauge",Sd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Pd=ne("House",Td);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rt=ne("MapPin",Ed);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Dd=ne("Map",Rd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Fd=ne("MessageSquare",Md);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Vd=ne("Mic",Id);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Od=ne("Navigation",Ld);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],zd=ne("Send",Bd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ud=ne("ShieldCheck",$d);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Zd=ne("Shield",Wd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wo=ne("Star",qd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Yd=ne("Users",Hd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Gd=ne("Wallet",Kd);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xd=ne("X",Jd);let Qd={data:""},eu=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Qd,tu=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,su=/\/\*[^]*?\*\/|  +/g,Ei=/\n+/g,ut=(t,e)=>{let s="",r="",n="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?s=a+" "+o+";":r+=a[1]=="f"?ut(o,a):a+"{"+ut(o,a[1]=="k"?"":e)+"}":typeof o=="object"?r+=ut(o,e?e.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=ut.p?ut.p(a,o):a+":"+o+";")}return s+(e&&n?e+"{"+n+"}":n)+r},Xe={},jo=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+jo(t[s]);return e}return t},ru=(t,e,s,r,n)=>{let a=jo(t),o=Xe[a]||(Xe[a]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(a));if(!Xe[o]){let c=a!==t?t:(d=>{let u,h,f=[{}];for(;u=tu.exec(d.replace(su,""));)u[4]?f.shift():u[3]?(h=u[3].replace(Ei," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace(Ei," ").trim();return f[0]})(t);Xe[o]=ut(n?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&Xe.g?Xe.g:null;return s&&(Xe.g=Xe[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Xe[o],e,r,l),o},nu=(t,e,s)=>t.reduce((r,n,a)=>{let o=e[a];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":ut(l,""):l===!1?"":l}return r+n+(o??"")},"");function _r(t){let e=this||{},s=t.call?t(e.p):t;return ru(s.unshift?s.raw?nu(s,[].slice.call(arguments,1),e.p):s.reduce((r,n)=>Object.assign(r,n&&n.call?n(e.p):n),{}):s,eu(e.target),e.g,e.o,e.k)}let No,an,on;_r.bind({g:1});let at=_r.bind({k:1});function iu(t,e,s,r){ut.p=e,No=t,an=s,on=r}function bt(t,e){let s=this||{};return function(){let r=arguments;function n(a,o){let l=Object.assign({},a),c=l.className||n.className;s.p=Object.assign({theme:an&&an()},l),s.o=/ *go\d+/.test(c),l.className=_r.apply(s,r)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),on&&d[0]&&on(l),No(d,l)}return n}}var au=t=>typeof t=="function",ys=(t,e)=>au(t)?t(e):t,ou=(()=>{let t=0;return()=>(++t).toString()})(),ko=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),lu=20,_o=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,lu)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:s}=e;return _o(t,{type:t.toasts.find(a=>a.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let n=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+n}))}}},tr=[],_t={toasts:[],pausedAt:void 0},Mt=t=>{_t=_o(_t,t),tr.forEach(e=>{e(_t)})},cu={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Co=(t={})=>{let[e,s]=m.useState(_t),r=m.useRef(_t);m.useEffect(()=>(r.current!==_t&&s(_t),tr.push(s),()=>{let a=tr.indexOf(s);a>-1&&tr.splice(a,1)}),[]);let n=e.toasts.map(a=>{var o,l,c;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||cu[a.type],style:{...t.style,...(c=t[a.type])==null?void 0:c.style,...a.style}}});return{...e,toasts:n}},du=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||ou()}),Bs=t=>(e,s)=>{let r=du(e,t,s);return Mt({type:2,toast:r}),r.id},ue=(t,e)=>Bs("blank")(t,e);ue.error=Bs("error");ue.success=Bs("success");ue.loading=Bs("loading");ue.custom=Bs("custom");ue.dismiss=t=>{Mt({type:3,toastId:t})};ue.remove=t=>Mt({type:4,toastId:t});ue.promise=(t,e,s)=>{let r=ue.loading(e.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(n=>{let a=e.success?ys(e.success,n):void 0;return a?ue.success(a,{id:r,...s,...s==null?void 0:s.success}):ue.dismiss(r),n}).catch(n=>{let a=e.error?ys(e.error,n):void 0;a?ue.error(a,{id:r,...s,...s==null?void 0:s.error}):ue.dismiss(r)}),t};var uu=(t,e)=>{Mt({type:1,toast:{id:t,height:e}})},hu=()=>{Mt({type:5,time:Date.now()})},ms=new Map,mu=1e3,fu=(t,e=mu)=>{if(ms.has(t))return;let s=setTimeout(()=>{ms.delete(t),Mt({type:4,toastId:t})},e);ms.set(t,s)},So=t=>{let{toasts:e,pausedAt:s}=Co(t);m.useEffect(()=>{if(s)return;let a=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&ue.dismiss(l.id);return}return setTimeout(()=>ue.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,s]);let r=m.useCallback(()=>{s&&Mt({type:6,time:Date.now()})},[s]),n=m.useCallback((a,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=o||{},u=e.filter(g=>(g.position||d)===(a.position||d)&&g.height),h=u.findIndex(g=>g.id===a.id),f=u.filter((g,v)=>v<h&&g.visible).length;return u.filter(g=>g.visible).slice(...l?[f+1]:[0,f]).reduce((g,v)=>g+(v.height||0)+c,0)},[e]);return m.useEffect(()=>{e.forEach(a=>{if(a.dismissed)fu(a.id,a.removeDelay);else{let o=ms.get(a.id);o&&(clearTimeout(o),ms.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:uu,startPause:hu,endPause:r,calculateOffset:n}}},pu=at`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gu=at`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xu=at`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ao=bt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pu} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gu} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xu} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,yu=at`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,To=bt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${yu} 1s linear infinite;
`,vu=at`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bu=at`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Po=bt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vu} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bu} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wu=bt("div")`
  position: absolute;
`,ju=bt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Nu=at`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ku=bt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Nu} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Eo=({toast:t})=>{let{icon:e,type:s,iconTheme:r}=t;return e!==void 0?typeof e=="string"?m.createElement(ku,null,e):e:s==="blank"?null:m.createElement(ju,null,m.createElement(To,{...r}),s!=="loading"&&m.createElement(wu,null,s==="error"?m.createElement(Ao,{...r}):m.createElement(Po,{...r})))},_u=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Cu=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Su="0%{opacity:0;} 100%{opacity:1;}",Au="0%{opacity:1;} 100%{opacity:0;}",Tu=bt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Pu=bt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Eu=(t,e)=>{let s=t.includes("top")?1:-1,[r,n]=ko()?[Su,Au]:[_u(s),Cu(s)];return{animation:e?`${at(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${at(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ro=m.memo(({toast:t,position:e,style:s,children:r})=>{let n=t.height?Eu(t.position||e||"top-center",t.visible):{opacity:0},a=m.createElement(Eo,{toast:t}),o=m.createElement(Pu,{...t.ariaProps},ys(t.message,t));return m.createElement(Tu,{className:t.className,style:{...n,...s,...t.style}},typeof r=="function"?r({icon:a,message:o}):m.createElement(m.Fragment,null,a,o))});iu(m.createElement);var Ru=({id:t,className:e,style:s,onHeightUpdate:r,children:n})=>{let a=m.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return m.createElement("div",{ref:a,className:e,style:s},n)},Du=(t,e)=>{let s=t.includes("top"),r=s?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ko()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(s?1:-1)}px)`,...r,...n}},Mu=_r`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ks=16,Do=({reverseOrder:t,position:e="top-center",toastOptions:s,gutter:r,children:n,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=So(s);return m.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ks,left:Ks,right:Ks,bottom:Ks,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let u=d.position||e,h=c.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),f=Du(u,h);return m.createElement(Ru,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?Mu:"",style:f},d.type==="custom"?ys(d.message,d):n?n(d):m.createElement(Ro,{toast:d,position:u}))}))},Pt=ue;const zr=Object.freeze(Object.defineProperty({__proto__:null,CheckmarkIcon:Po,ErrorIcon:Ao,LoaderIcon:To,ToastBar:Ro,ToastIcon:Eo,Toaster:Do,default:Pt,resolveValue:ys,toast:ue,useToaster:So,useToasterStore:Co},Symbol.toStringTag,{value:"Module"})),Rn=m.createContext({});function Dn(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const Cr=m.createContext(null),Mn=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Fu extends m.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const r=s.offsetParent,n=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft,a.right=n-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Iu({children:t,isPresent:e,anchorX:s}){const r=m.useId(),n=m.useRef(null),a=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=m.useContext(Mn);return m.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:u,right:h}=a.current;if(e||!n.current||!l||!c)return;const f=s==="left"?`left: ${u}`:`right: ${h}`;n.current.dataset.motionPopId=r;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),i.jsx(Fu,{isPresent:e,childRef:n,sizeRef:a,children:m.cloneElement(t,{ref:n})})}const Vu=({children:t,initial:e,isPresent:s,onExitComplete:r,custom:n,presenceAffectsLayout:a,mode:o,anchorX:l})=>{const c=Dn(Lu),d=m.useId(),u=m.useCallback(f=>{c.set(f,!0);for(const g of c.values())if(!g)return;r&&r()},[c,r]),h=m.useMemo(()=>({id:d,initial:e,isPresent:s,custom:n,onExitComplete:u,register:f=>(c.set(f,!1),()=>c.delete(f))}),a?[Math.random(),u]:[s,u]);return m.useMemo(()=>{c.forEach((f,g)=>c.set(g,!1))},[s]),m.useEffect(()=>{!s&&!c.size&&r&&r()},[s]),o==="popLayout"&&(t=i.jsx(Iu,{isPresent:s,anchorX:l,children:t})),i.jsx(Cr.Provider,{value:h,children:t})};function Lu(){return new Map}function Mo(t=!0){const e=m.useContext(Cr);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:n}=e,a=m.useId();m.useEffect(()=>{if(t)return n(a)},[t]);const o=m.useCallback(()=>t&&r&&r(a),[a,r,t]);return!s&&r?[!1,o]:[!0]}const Gs=t=>t.key||"";function Ri(t){const e=[];return m.Children.forEach(t,s=>{m.isValidElement(s)&&e.push(s)}),e}const Fn=typeof window<"u",Fo=Fn?m.useLayoutEffect:m.useEffect,zs=({children:t,custom:e,initial:s=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:a="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=Mo(o),u=m.useMemo(()=>Ri(t),[t]),h=o&&!c?[]:u.map(Gs),f=m.useRef(!0),g=m.useRef(u),v=Dn(()=>new Map),[x,_]=m.useState(u),[N,b]=m.useState(u);Fo(()=>{f.current=!1,g.current=u;for(let C=0;C<N.length;C++){const k=Gs(N[C]);h.includes(k)?v.delete(k):v.get(k)!==!0&&v.set(k,!1)}},[N,h.length,h.join("-")]);const j=[];if(u!==x){let C=[...u];for(let k=0;k<N.length;k++){const E=N[k],V=Gs(E);h.includes(V)||(C.splice(k,0,E),j.push(E))}return a==="wait"&&j.length&&(C=j),b(Ri(C)),_(u),null}const{forceRender:T}=m.useContext(Rn);return i.jsx(i.Fragment,{children:N.map(C=>{const k=Gs(C),E=o&&!c?!1:u===N||h.includes(k),V=()=>{if(v.has(k))v.set(k,!0);else return;let Q=!0;v.forEach(G=>{G||(Q=!1)}),Q&&(T==null||T(),b(g.current),o&&(d==null||d()),r&&r())};return i.jsx(Vu,{isPresent:E,initial:!f.current||s?void 0:!1,custom:e,presenceAffectsLayout:n,mode:a,onExitComplete:E?void 0:V,anchorX:l,children:C},k)})})},Te=t=>t;let Io=Te;function In(t){let e;return()=>(e===void 0&&(e=t()),e)}const Yt=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r},nt=t=>t*1e3,it=t=>t/1e3,Ou={useManualTiming:!1},Js=["read","resolveKeyframes","update","preRender","render","postRender"],Di={value:null};function Bu(t,e){let s=new Set,r=new Set,n=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),t()),c++,h(l)}const u={schedule:(h,f=!1,g=!1)=>{const x=g&&n?s:r;return f&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,n){a=!0;return}n=!0,[s,r]=[r,s],s.forEach(d),e&&Di.value&&Di.value.frameloop[e].push(c),c=0,s.clear(),n=!1,a&&(a=!1,u.process(h))}};return u}const zu=40;function Vo(t,e){let s=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=Js.reduce((N,b)=>(N[b]=Bu(a,e?b:void 0),N),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:f}=o,g=()=>{const N=performance.now();s=!1,n.delta=r?1e3/60:Math.max(Math.min(N-n.timestamp,zu),1),n.timestamp=N,n.isProcessing=!0,l.process(n),c.process(n),d.process(n),u.process(n),h.process(n),f.process(n),n.isProcessing=!1,s&&e&&(r=!1,t(g))},v=()=>{s=!0,r=!0,n.isProcessing||t(g)};return{schedule:Js.reduce((N,b)=>{const j=o[b];return N[b]=(T,C=!1,k=!1)=>(s||v(),j.schedule(T,C,k)),N},{}),cancel:N=>{for(let b=0;b<Js.length;b++)o[Js[b]].cancel(N)},state:n,steps:o}}const{schedule:re,cancel:ft,state:ye,steps:$r}=Vo(typeof requestAnimationFrame<"u"?requestAnimationFrame:Te,!0),Lo=m.createContext({strict:!1}),Mi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kt={};for(const t in Mi)Kt[t]={isEnabled:e=>Mi[t].some(s=>!!e[s])};function $u(t){for(const e in t)Kt[e]={...Kt[e],...t[e]}}const Uu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function or(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Uu.has(t)}let Oo=t=>!or(t);function Wu(t){t&&(Oo=e=>e.startsWith("on")?!or(e):t(e))}try{Wu(require("@emotion/is-prop-valid").default)}catch{}function Zu(t,e,s){const r={};for(const n in t)n==="values"&&typeof t.values=="object"||(Oo(n)||s===!0&&or(n)||!e&&!or(n)||t.draggable&&n.startsWith("onDrag"))&&(r[n]=t[n]);return r}function qu(t){if(typeof Proxy>"u")return t;const e=new Map,s=(...r)=>t(...r);return new Proxy(s,{get:(r,n)=>n==="create"?t:(e.has(n)||e.set(n,t(n)),e.get(n))})}const Sr=m.createContext({});function Ar(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vs(t){return typeof t=="string"||Array.isArray(t)}const Vn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ln=["initial",...Vn];function Tr(t){return Ar(t.animate)||Ln.some(e=>vs(t[e]))}function Bo(t){return!!(Tr(t)||t.variants)}function Hu(t,e){if(Tr(t)){const{initial:s,animate:r}=t;return{initial:s===!1||vs(s)?s:void 0,animate:vs(r)?r:void 0}}return t.inherit!==!1?e:{}}function Yu(t){const{initial:e,animate:s}=Hu(t,m.useContext(Sr));return m.useMemo(()=>({initial:e,animate:s}),[Fi(e),Fi(s)])}function Fi(t){return Array.isArray(t)?t.join(" "):t}const Ku=Symbol.for("motionComponentSymbol");function Ot(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Gu(t,e,s){return m.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):Ot(s)&&(s.current=r))},[e])}const On=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ju="framerAppearId",zo="data-"+On(Ju),{schedule:Bn}=Vo(queueMicrotask,!1),$o=m.createContext({});function Xu(t,e,s,r,n){var a,o;const{visualElement:l}=m.useContext(Sr),c=m.useContext(Lo),d=m.useContext(Cr),u=m.useContext(Mn).reducedMotion,h=m.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,g=m.useContext($o);f&&!f.projection&&n&&(f.type==="html"||f.type==="svg")&&Qu(h.current,s,n,g);const v=m.useRef(!1);m.useInsertionEffect(()=>{f&&v.current&&f.update(s,d)});const x=s[zo],_=m.useRef(!!x&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return Fo(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Bn.render(f.render),_.current&&f.animationState&&f.animationState.animateChanges())}),m.useEffect(()=>{f&&(!_.current&&f.animationState&&f.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,x)}),_.current=!1))}),f}function Qu(t,e,s,r){const{layoutId:n,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:Uo(t.parent)),t.projection.setOptions({layoutId:n,layout:a,alwaysMeasureLayout:!!o||l&&Ot(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:d})}function Uo(t){if(t)return t.options.allowProjection!==!1?t.projection:Uo(t.parent)}function eh({preloadedFeatures:t,createVisualElement:e,useRender:s,useVisualState:r,Component:n}){var a,o;t&&$u(t);function l(d,u){let h;const f={...m.useContext(Mn),...d,layoutId:th(d)},{isStatic:g}=f,v=Yu(d),x=r(d,g);if(!g&&Fn){sh();const _=rh(f);h=_.MeasureLayout,v.visualElement=Xu(n,x,f,e,_.ProjectionNode)}return i.jsxs(Sr.Provider,{value:v,children:[h&&v.visualElement?i.jsx(h,{visualElement:v.visualElement,...f}):null,s(n,d,Gu(x,v.visualElement,u),x,g,v.visualElement)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${(o=(a=n.displayName)!==null&&a!==void 0?a:n.name)!==null&&o!==void 0?o:""})`}`;const c=m.forwardRef(l);return c[Ku]=n,c}function th({layoutId:t}){const e=m.useContext(Rn).id;return e&&t!==void 0?e+"-"+t:t}function sh(t,e){m.useContext(Lo).strict}function rh(t){const{drag:e,layout:s}=Kt;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Wo=t=>e=>typeof e=="string"&&e.startsWith(t),zn=Wo("--"),nh=Wo("var(--"),$n=t=>nh(t)?ih.test(t.split("/*")[0].trim()):!1,ih=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bs={};function ah(t){for(const e in t)bs[e]=t[e],zn(e)&&(bs[e].isCSSVariable=!0)}const ts=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ft=new Set(ts);function Zo(t,{layout:e,layoutId:s}){return Ft.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!bs[t]||t==="opacity")}const be=t=>!!(t&&t.getVelocity),qo=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ot=(t,e,s)=>s>e?e:s<t?t:s,ss={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ws={...ss,transform:t=>ot(0,1,t)},Xs={...ss,default:1},$s=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),dt=$s("deg"),Ue=$s("%"),U=$s("px"),oh=$s("vh"),lh=$s("vw"),Ii={...Ue,parse:t=>Ue.parse(t)/100,transform:t=>Ue.transform(t*100)},ch={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U},dh={rotate:dt,rotateX:dt,rotateY:dt,rotateZ:dt,scale:Xs,scaleX:Xs,scaleY:Xs,scaleZ:Xs,skew:dt,skewX:dt,skewY:dt,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:ws,originX:Ii,originY:Ii,originZ:U},Vi={...ss,transform:Math.round},Un={...ch,...dh,zIndex:Vi,size:U,fillOpacity:ws,strokeOpacity:ws,numOctaves:Vi},uh={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hh=ts.length;function mh(t,e,s){let r="",n=!0;for(let a=0;a<hh;a++){const o=ts[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=qo(l,Un[o]);if(!c){n=!1;const u=uh[o]||o;r+=`${u}(${d}) `}s&&(e[o]=d)}}return r=r.trim(),s?r=s(e,n?"":r):n&&(r="none"),r}function Wn(t,e,s){const{style:r,vars:n,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Ft.has(c)){o=!0;continue}else if(zn(c)){n[c]=d;continue}else{const u=qo(d,Un[c]);c.startsWith("origin")?(l=!0,a[c]=u):r[c]=u}}if(e.transform||(o||s?r.transform=mh(e,t.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;r.transformOrigin=`${c} ${d} ${u}`}}const Zn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ho(t,e,s){for(const r in e)!be(e[r])&&!Zo(r,s)&&(t[r]=e[r])}function fh({transformTemplate:t},e){return m.useMemo(()=>{const s=Zn();return Wn(s,e,t),Object.assign({},s.vars,s.style)},[e])}function ph(t,e){const s=t.style||{},r={};return Ho(r,s,t),Object.assign(r,fh(t,e)),r}function gh(t,e){const s={},r=ph(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const xh=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qn(t){return typeof t!="string"||t.includes("-")?!1:!!(xh.indexOf(t)>-1||/[A-Z]/u.test(t))}const yh={offset:"stroke-dashoffset",array:"stroke-dasharray"},vh={offset:"strokeDashoffset",array:"strokeDasharray"};function bh(t,e,s=1,r=0,n=!0){t.pathLength=1;const a=n?yh:vh;t[a.offset]=U.transform(-r);const o=U.transform(e),l=U.transform(s);t[a.array]=`${o} ${l}`}function Li(t,e,s){return typeof t=="string"?t:U.transform(e+s*t)}function wh(t,e,s){const r=Li(e,t.x,t.width),n=Li(s,t.y,t.height);return`${r} ${n}`}function Hn(t,{attrX:e,attrY:s,attrScale:r,originX:n,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(Wn(t,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:v}=t;f.transform&&(v&&(g.transform=f.transform),delete f.transform),v&&(n!==void 0||a!==void 0||g.transform)&&(g.transformOrigin=wh(v,n!==void 0?n:.5,a!==void 0?a:.5)),e!==void 0&&(f.x=e),s!==void 0&&(f.y=s),r!==void 0&&(f.scale=r),o!==void 0&&bh(f,o,l,c,!1)}const Yo=()=>({...Zn(),attrs:{}}),Yn=t=>typeof t=="string"&&t.toLowerCase()==="svg";function jh(t,e,s,r){const n=m.useMemo(()=>{const a=Yo();return Hn(a,e,Yn(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Ho(a,t.style,t),n.style={...a,...n.style}}return n}function Nh(t=!1){return(s,r,n,{latestValues:a},o)=>{const c=(qn(s)?jh:gh)(r,a,o,s),d=Zu(r,typeof s=="string",t),u=s!==m.Fragment?{...d,...c,ref:n}:{},{children:h}=r,f=m.useMemo(()=>be(h)?h.get():h,[h]);return m.createElement(s,{...u,children:f})}}function Oi(t){const e=[{},{}];return t==null||t.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function Kn(t,e,s,r){if(typeof e=="function"){const[n,a]=Oi(r);e=e(s!==void 0?s:t.custom,n,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[n,a]=Oi(r);e=e(s!==void 0?s:t.custom,n,a)}return e}const ln=t=>Array.isArray(t),kh=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),_h=t=>ln(t)?t[t.length-1]||0:t;function sr(t){const e=be(t)?t.get():t;return kh(e)?e.toValue():e}function Ch({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:s},r,n,a){const o={latestValues:Sh(r,n,a,t),renderState:e()};return s&&(o.onMount=l=>s({props:r,current:l,...o}),o.onUpdate=l=>s(l)),o}const Ko=t=>(e,s)=>{const r=m.useContext(Sr),n=m.useContext(Cr),a=()=>Ch(t,e,r,n);return s?a():Dn(a)};function Sh(t,e,s,r){const n={},a=r(t,{});for(const f in a)n[f]=sr(a[f]);let{initial:o,animate:l}=t;const c=Tr(t),d=Bo(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Ar(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const v=Kn(t,f[g]);if(v){const{transitionEnd:x,transition:_,...N}=v;for(const b in N){let j=N[b];if(Array.isArray(j)){const T=u?j.length-1:0;j=j[T]}j!==null&&(n[b]=j)}for(const b in x)n[b]=x[b]}}}return n}function Gn(t,e,s){var r;const{style:n}=t,a={};for(const o in n)(be(n[o])||e.style&&be(e.style[o])||Zo(o,t)||((r=s==null?void 0:s.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const Ah={useVisualState:Ko({scrapeMotionValuesFromProps:Gn,createRenderState:Zn})};function Go(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function Jo(t,{style:e,vars:s},r,n){Object.assign(t.style,e,n&&n.getProjectionStyles(r));for(const a in s)t.style.setProperty(a,s[a])}const Xo=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Qo(t,e,s,r){Jo(t,e,void 0,r);for(const n in e.attrs)t.setAttribute(Xo.has(n)?n:On(n),e.attrs[n])}function el(t,e,s){const r=Gn(t,e,s);for(const n in t)if(be(t[n])||be(e[n])){const a=ts.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=t[n]}return r}const Bi=["x","y","width","height","cx","cy","r"],Th={useVisualState:Ko({scrapeMotionValuesFromProps:el,createRenderState:Yo,onUpdate:({props:t,prevProps:e,current:s,renderState:r,latestValues:n})=>{if(!s)return;let a=!!t.drag;if(!a){for(const l in n)if(Ft.has(l)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let l=0;l<Bi.length;l++){const c=Bi[l];t[c]!==e[c]&&(o=!0)}o&&re.read(()=>{Go(s,r),re.render(()=>{Hn(r,n,Yn(s.tagName),t.transformTemplate),Qo(s,r)})})}})};function Ph(t,e){return function(r,{forwardMotionProps:n}={forwardMotionProps:!1}){const o={...qn(r)?Th:Ah,preloadedFeatures:t,useRender:Nh(n),createVisualElement:e,Component:r};return eh(o)}}function js(t,e,s){const r=t.getProps();return Kn(r,e,s!==void 0?s:r.custom,t)}const Eh=In(()=>window.ScrollTimeline!==void 0);class Rh{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,s){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=s}attachTimeline(e,s){const r=this.animations.map(n=>{if(Eh()&&n.attachTimeline)return n.attachTimeline(e);if(typeof s=="function")return s(n)});return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let s=0;s<this.animations.length;s++)e=Math.max(e,this.animations[s].duration);return e}runAll(e){this.animations.forEach(s=>s[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Dh extends Rh{then(e,s){return Promise.all(this.animations).then(e).catch(s)}}function Jn(t,e){return t?t[e]||t.default||t:void 0}const cn=2e4;function tl(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<cn;)e+=s,r=t.next(e);return e>=cn?1/0:e}function Xn(t){return typeof t=="function"}function zi(t,e){t.timeline=e,t.onfinish=null}const Qn=t=>Array.isArray(t)&&typeof t[0]=="number",Mh={linearEasing:void 0};function Fh(t,e){const s=In(t);return()=>{var r;return(r=Mh[e])!==null&&r!==void 0?r:s()}}const lr=Fh(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sl=(t,e,s=10)=>{let r="";const n=Math.max(Math.round(e/s),2);for(let a=0;a<n;a++)r+=t(Yt(0,n-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function rl(t){return!!(typeof t=="function"&&lr()||!t||typeof t=="string"&&(t in dn||lr())||Qn(t)||Array.isArray(t)&&t.every(rl))}const ls=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,dn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ls([0,.65,.55,1]),circOut:ls([.55,0,1,.45]),backIn:ls([.31,.01,.66,-.59]),backOut:ls([.33,1.53,.69,.99])};function nl(t,e){if(t)return typeof t=="function"&&lr()?sl(t,e):Qn(t)?ls(t):Array.isArray(t)?t.map(s=>nl(s,e)||dn.easeOut):dn[t]}const Fe={x:!1,y:!1};function il(){return Fe.x||Fe.y}function Ih(t,e,s){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=(r=void 0)!==null&&r!==void 0?r:n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function al(t,e){const s=Ih(t),r=new AbortController,n={passive:!0,...e,signal:r.signal};return[s,n,()=>r.abort()]}function $i(t){return!(t.pointerType==="touch"||il())}function Vh(t,e,s={}){const[r,n,a]=al(t,s),o=l=>{if(!$i(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{$i(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,n)};return r.forEach(l=>{l.addEventListener("pointerenter",o,n)}),a}function cr(t,e){const s=`${e}PointerCapture`;if(t.target instanceof Element&&s in t.target&&t.pointerId!==void 0)try{t.target[s](t.pointerId)}catch{}}const ol=(t,e)=>e?t===e?!0:ol(t,e.parentElement):!1,ei=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Lh=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Oh(t){return Lh.has(t.tagName)||t.tabIndex!==-1}const cs=new WeakSet;function Ui(t){return e=>{e.key==="Enter"&&t(e)}}function Ur(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Bh=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=Ui(()=>{if(cs.has(s))return;Ur(s,"down");const n=Ui(()=>{Ur(s,"up")}),a=()=>Ur(s,"cancel");s.addEventListener("keyup",n,e),s.addEventListener("blur",a,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function Wi(t){return ei(t)&&!il()}function zh(t,e,s={}){const[r,n,a]=al(t,s),o=l=>{const c=l.currentTarget;if(!c||!Wi(l)||cs.has(c))return;cs.add(c),cr(l,"set");const d=e(c,l),u=(g,v)=>{c.removeEventListener("pointerup",h),c.removeEventListener("pointercancel",f),cr(g,"release"),!(!Wi(g)||!cs.has(c))&&(cs.delete(c),typeof d=="function"&&d(g,{success:v}))},h=g=>{(g.isTrusted?$h(g,c instanceof Element?c.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?u(g,!1):u(g,!(c instanceof Element)||ol(c,g.target))},f=g=>{u(g,!1)};c.addEventListener("pointerup",h,n),c.addEventListener("pointercancel",f,n),c.addEventListener("lostpointercapture",f,n)};return r.forEach(l=>{l=s.useGlobalTarget?window:l;let c=!1;l instanceof HTMLElement&&(c=!0,!Oh(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0)),l.addEventListener("pointerdown",o,n),c&&l.addEventListener("focus",d=>Bh(d,n),n)}),a}function $h(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function Uh(t){return t==="x"||t==="y"?Fe[t]?null:(Fe[t]=!0,()=>{Fe[t]=!1}):Fe.x||Fe.y?null:(Fe.x=Fe.y=!0,()=>{Fe.x=Fe.y=!1})}const ll=new Set(["width","height","top","left","right","bottom",...ts]);let rr;function Wh(){rr=void 0}const We={now:()=>(rr===void 0&&We.set(ye.isProcessing||Ou.useManualTiming?ye.timestamp:performance.now()),rr),set:t=>{rr=t,queueMicrotask(Wh)}};function ti(t,e){t.indexOf(e)===-1&&t.push(e)}function si(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}class ri{constructor(){this.subscriptions=[]}add(e){return ti(this.subscriptions,e),()=>si(this.subscriptions,e)}notify(e,s,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](e,s,r);else for(let a=0;a<n;a++){const o=this.subscriptions[a];o&&o(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function cl(t,e){return e?t*(1e3/e):0}const Zi=30,Zh=t=>!isNaN(parseFloat(t));class qh{constructor(e,s={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,n=!0)=>{const a=We.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=We.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Zh(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new ri);const r=this.events[e].add(s);return e==="change"?()=>{r(),re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=We.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Zi)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Zi);return cl(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ns(t,e){return new qh(t,e)}function Hh(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,Ns(s))}function Yh(t,e){const s=js(t,e);let{transitionEnd:r={},transition:n={},...a}=s||{};a={...a,...r};for(const o in a){const l=_h(a[o]);Hh(t,o,l)}}function Kh(t){return!!(be(t)&&t.add)}function un(t,e){const s=t.getValue("willChange");if(Kh(s))return s.add(e)}function dl(t){return t.props[zo]}const ul=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,Gh=1e-7,Jh=12;function Xh(t,e,s,r,n){let a,o,l=0;do o=e+(s-e)/2,a=ul(o,r,n)-t,a>0?s=o:e=o;while(Math.abs(a)>Gh&&++l<Jh);return o}function Us(t,e,s,r){if(t===e&&s===r)return Te;const n=a=>Xh(a,0,1,t,s);return a=>a===0||a===1?a:ul(n(a),e,r)}const hl=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ml=t=>e=>1-t(1-e),fl=Us(.33,1.53,.69,.99),ni=ml(fl),pl=hl(ni),gl=t=>(t*=2)<1?.5*ni(t):.5*(2-Math.pow(2,-10*(t-1))),ii=t=>1-Math.sin(Math.acos(t)),xl=ml(ii),yl=hl(ii),vl=t=>/^0[^.\s]+$/u.test(t);function Qh(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vl(t):!0}const fs=t=>Math.round(t*1e5)/1e5,ai=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function em(t){return t==null}const tm=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oi=(t,e)=>s=>!!(typeof s=="string"&&tm.test(s)&&s.startsWith(t)||e&&!em(s)&&Object.prototype.hasOwnProperty.call(s,e)),bl=(t,e,s)=>r=>{if(typeof r!="string")return r;const[n,a,o,l]=r.match(ai);return{[t]:parseFloat(n),[e]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},sm=t=>ot(0,255,t),Wr={...ss,transform:t=>Math.round(sm(t))},Ct={test:oi("rgb","red"),parse:bl("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+Wr.transform(t)+", "+Wr.transform(e)+", "+Wr.transform(s)+", "+fs(ws.transform(r))+")"};function rm(t){let e="",s="",r="",n="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),n=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),n=t.substring(4,5),e+=e,s+=s,r+=r,n+=n),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const hn={test:oi("#"),parse:rm,transform:Ct.transform},Bt={test:oi("hsl","hue"),parse:bl("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ue.transform(fs(e))+", "+Ue.transform(fs(s))+", "+fs(ws.transform(r))+")"},ve={test:t=>Ct.test(t)||hn.test(t)||Bt.test(t),parse:t=>Ct.test(t)?Ct.parse(t):Bt.test(t)?Bt.parse(t):hn.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ct.transform(t):Bt.transform(t)},nm=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function im(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ai))===null||e===void 0?void 0:e.length)||0)+(((s=t.match(nm))===null||s===void 0?void 0:s.length)||0)>0}const wl="number",jl="color",am="var",om="var(",qi="${}",lm=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ks(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},n=[];let a=0;const l=e.replace(lm,c=>(ve.test(c)?(r.color.push(a),n.push(jl),s.push(ve.parse(c))):c.startsWith(om)?(r.var.push(a),n.push(am),s.push(c)):(r.number.push(a),n.push(wl),s.push(parseFloat(c))),++a,qi)).split(qi);return{values:s,split:l,indexes:r,types:n}}function Nl(t){return ks(t).values}function kl(t){const{split:e,types:s}=ks(t),r=e.length;return n=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],n[o]!==void 0){const l=s[o];l===wl?a+=fs(n[o]):l===jl?a+=ve.transform(n[o]):a+=n[o]}return a}}const cm=t=>typeof t=="number"?0:t;function dm(t){const e=Nl(t);return kl(t)(e.map(cm))}const pt={test:im,parse:Nl,createTransformer:kl,getAnimatableNone:dm},um=new Set(["brightness","contrast","saturate","opacity"]);function hm(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(ai)||[];if(!r)return t;const n=s.replace(r,"");let a=um.has(e)?1:0;return r!==s&&(a*=100),e+"("+a+n+")"}const mm=/\b([a-z-]*)\(.*?\)/gu,mn={...pt,getAnimatableNone:t=>{const e=t.match(mm);return e?e.map(hm).join(" "):t}},fm={...Un,color:ve,backgroundColor:ve,outlineColor:ve,fill:ve,stroke:ve,borderColor:ve,borderTopColor:ve,borderRightColor:ve,borderBottomColor:ve,borderLeftColor:ve,filter:mn,WebkitFilter:mn},li=t=>fm[t];function _l(t,e){let s=li(t);return s!==mn&&(s=pt),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const pm=new Set(["auto","none","0"]);function gm(t,e,s){let r=0,n;for(;r<t.length&&!n;){const a=t[r];typeof a=="string"&&!pm.has(a)&&ks(a).values.length&&(n=t[r]),r++}if(n&&s)for(const a of e)t[a]=_l(s,n)}const Hi=t=>t===ss||t===U,Yi=(t,e)=>parseFloat(t.split(", ")[e]),Ki=(t,e)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const n=r.match(/^matrix3d\((.+)\)$/u);if(n)return Yi(n[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?Yi(a[1],t):0}},xm=new Set(["x","y","z"]),ym=ts.filter(t=>!xm.has(t));function vm(t){const e=[];return ym.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const Gt={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ki(4,13),y:Ki(5,14)};Gt.translateX=Gt.x;Gt.translateY=Gt.y;const At=new Set;let fn=!1,pn=!1;function Cl(){if(pn){const t=Array.from(At).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const n=vm(r);n.length&&(s.set(r,n),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const n=s.get(r);n&&n.forEach(([a,o])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pn=!1,fn=!1,At.forEach(t=>t.complete()),At.clear()}function Sl(){At.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(pn=!0)})}function bm(){Sl(),Cl()}class ci{constructor(e,s,r,n,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=n,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(At.add(this),fn||(fn=!0,re.read(Sl),re.resolveKeyframes(Cl))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:n}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=n==null?void 0:n.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&s){const c=r.readValue(s,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),n&&o===void 0&&n.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),At.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,At.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Al=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),wm=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jm(t){const e=wm.exec(t);if(!e)return[,];const[,s,r,n]=e;return[`--${s??r}`,n]}function Tl(t,e,s=1){const[r,n]=jm(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return Al(o)?parseFloat(o):o}return $n(n)?Tl(n,e,s+1):n}const Pl=t=>e=>e.test(t),Nm={test:t=>t==="auto",parse:t=>t},El=[ss,U,Ue,dt,lh,oh,Nm],Gi=t=>El.find(Pl(t));class Rl extends ci{constructor(e,s,r,n,a){super(e,s,r,n,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),$n(d))){const u=Tl(d,s.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!ll.has(r)||e.length!==2)return;const[n,a]=e,o=Gi(n),l=Gi(a);if(o!==l)if(Hi(o)&&Hi(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let n=0;n<e.length;n++)Qh(e[n])&&r.push(n);r.length&&gm(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gt[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const n=s[s.length-1];n!==void 0&&e.getValue(r,n).jump(n,!1)}measureEndState(){var e;const{element:s,name:r,unresolvedKeyframes:n}=this;if(!s||!s.current)return;const a=s.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=n.length-1,l=n[o];n[o]=Gt[r](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const Ji=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pt.test(t)||t==="0")&&!t.startsWith("url("));function km(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function _m(t,e,s,r){const n=t[0];if(n===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=Ji(n,e),l=Ji(a,e);return!o||!l?!1:km(t)||(s==="spring"||Xn(s))&&r}const Cm=t=>t!==null;function Pr(t,{repeat:e,repeatType:s="loop"},r){const n=t.filter(Cm),a=e&&s!=="loop"&&e%2===1?0:n.length-1;return!a||r===void 0?n[a]:r}const Sm=40;class Dl{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=We.now(),this.options={autoplay:e,delay:s,type:r,repeat:n,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Sm?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&bm(),this._resolved}onKeyframesResolved(e,s){this.resolvedAt=We.now(),this.hasAttemptedResolve=!0;const{name:r,type:n,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!_m(e,r,n,a))if(o)this.options.duration=0;else{c&&c(Pr(e,this.options,s)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,s);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:s,...u},this.onPostResolved())}onPostResolved(){}then(e,s){return this.currentFinishedPromise.then(e,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const le=(t,e,s)=>t+(e-t)*s;function Zr(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function Am({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let n=0,a=0,o=0;if(!e)n=a=o=s;else{const l=s<.5?s*(1+e):s+e-s*e,c=2*s-l;n=Zr(c,l,t+1/3),a=Zr(c,l,t),o=Zr(c,l,t-1/3)}return{red:Math.round(n*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function dr(t,e){return s=>s>0?e:t}const qr=(t,e,s)=>{const r=t*t,n=s*(e*e-r)+r;return n<0?0:Math.sqrt(n)},Tm=[hn,Ct,Bt],Pm=t=>Tm.find(e=>e.test(t));function Xi(t){const e=Pm(t);if(!e)return!1;let s=e.parse(t);return e===Bt&&(s=Am(s)),s}const Qi=(t,e)=>{const s=Xi(t),r=Xi(e);if(!s||!r)return dr(t,e);const n={...s};return a=>(n.red=qr(s.red,r.red,a),n.green=qr(s.green,r.green,a),n.blue=qr(s.blue,r.blue,a),n.alpha=le(s.alpha,r.alpha,a),Ct.transform(n))},Em=(t,e)=>s=>e(t(s)),Ws=(...t)=>t.reduce(Em),gn=new Set(["none","hidden"]);function Rm(t,e){return gn.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function Dm(t,e){return s=>le(t,e,s)}function di(t){return typeof t=="number"?Dm:typeof t=="string"?$n(t)?dr:ve.test(t)?Qi:Im:Array.isArray(t)?Ml:typeof t=="object"?ve.test(t)?Qi:Mm:dr}function Ml(t,e){const s=[...t],r=s.length,n=t.map((a,o)=>di(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)s[o]=n[o](a);return s}}function Mm(t,e){const s={...t,...e},r={};for(const n in s)t[n]!==void 0&&e[n]!==void 0&&(r[n]=di(t[n])(t[n],e[n]));return n=>{for(const a in r)s[a]=r[a](n);return s}}function Fm(t,e){var s;const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],l=t.indexes[o][n[o]],c=(s=t.values[l])!==null&&s!==void 0?s:0;r[a]=c,n[o]++}return r}const Im=(t,e)=>{const s=pt.createTransformer(e),r=ks(t),n=ks(e);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?gn.has(t)&&!n.values.length||gn.has(e)&&!r.values.length?Rm(t,e):Ws(Ml(Fm(r,n),n.values),s):dr(t,e)};function Fl(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?le(t,e,s):di(t)(t,e)}const Vm=5;function Il(t,e,s){const r=Math.max(e-Vm,0);return cl(s-t(r),e-r)}const ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ea=.001;function Lm({duration:t=ce.duration,bounce:e=ce.bounce,velocity:s=ce.velocity,mass:r=ce.mass}){let n,a,o=1-e;o=ot(ce.minDamping,ce.maxDamping,o),t=ot(ce.minDuration,ce.maxDuration,it(t)),o<1?(n=d=>{const u=d*o,h=u*t,f=u-s,g=xn(d,o),v=Math.exp(-h);return ea-f/g*v},a=d=>{const h=d*o*t,f=h*s+s,g=Math.pow(o,2)*Math.pow(d,2)*t,v=Math.exp(-h),x=xn(Math.pow(d,2),o);return(-n(d)+ea>0?-1:1)*((f-g)*v)/x}):(n=d=>{const u=Math.exp(-d*t),h=(d-s)*t+1;return-.001+u*h},a=d=>{const u=Math.exp(-d*t),h=(s-d)*(t*t);return u*h});const l=5/t,c=Bm(n,a,l);if(t=nt(t),isNaN(c))return{stiffness:ce.stiffness,damping:ce.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const Om=12;function Bm(t,e,s){let r=s;for(let n=1;n<Om;n++)r=r-t(r)/e(r);return r}function xn(t,e){return t*Math.sqrt(1-e*e)}const zm=["duration","bounce"],$m=["stiffness","damping","mass"];function ta(t,e){return e.some(s=>t[s]!==void 0)}function Um(t){let e={velocity:ce.velocity,stiffness:ce.stiffness,damping:ce.damping,mass:ce.mass,isResolvedFromDuration:!1,...t};if(!ta(t,$m)&&ta(t,zm))if(t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),n=r*r,a=2*ot(.05,1,1-(t.bounce||0))*Math.sqrt(n);e={...e,mass:ce.mass,stiffness:n,damping:a}}else{const s=Lm(t);e={...e,...s,mass:ce.mass},e.isResolvedFromDuration=!0}return e}function Vl(t=ce.visualDuration,e=ce.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:n}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:g}=Um({...s,velocity:-it(s.velocity||0)}),v=f||0,x=d/(2*Math.sqrt(c*u)),_=o-a,N=it(Math.sqrt(c/u)),b=Math.abs(_)<5;r||(r=b?ce.restSpeed.granular:ce.restSpeed.default),n||(n=b?ce.restDelta.granular:ce.restDelta.default);let j;if(x<1){const C=xn(N,x);j=k=>{const E=Math.exp(-x*N*k);return o-E*((v+x*N*_)/C*Math.sin(C*k)+_*Math.cos(C*k))}}else if(x===1)j=C=>o-Math.exp(-N*C)*(_+(v+N*_)*C);else{const C=N*Math.sqrt(x*x-1);j=k=>{const E=Math.exp(-x*N*k),V=Math.min(C*k,300);return o-E*((v+x*N*_)*Math.sinh(V)+C*_*Math.cosh(V))/C}}const T={calculatedDuration:g&&h||null,next:C=>{const k=j(C);if(g)l.done=C>=h;else{let E=0;x<1&&(E=C===0?nt(v):Il(j,C,k));const V=Math.abs(E)<=r,Q=Math.abs(o-k)<=n;l.done=V&&Q}return l.value=l.done?o:k,l},toString:()=>{const C=Math.min(tl(T),cn),k=sl(E=>T.next(C*E).value,C,30);return C+"ms "+k}};return T}function sa({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},g=V=>l!==void 0&&V<l||c!==void 0&&V>c,v=V=>l===void 0?c:c===void 0||Math.abs(l-V)<Math.abs(c-V)?l:c;let x=s*e;const _=h+x,N=o===void 0?_:o(_);N!==_&&(x=N-h);const b=V=>-x*Math.exp(-V/r),j=V=>N+b(V),T=V=>{const Q=b(V),G=j(V);f.done=Math.abs(Q)<=d,f.value=f.done?N:G};let C,k;const E=V=>{g(f.value)&&(C=V,k=Vl({keyframes:[f.value,v(f.value)],velocity:Il(j,V,f.value),damping:n,stiffness:a,restDelta:d,restSpeed:u}))};return E(0),{calculatedDuration:null,next:V=>{let Q=!1;return!k&&C===void 0&&(Q=!0,T(V),E(V)),C!==void 0&&V>=C?k.next(V-C):(!Q&&T(V),f)}}}const Wm=Us(.42,0,1,1),Zm=Us(0,0,.58,1),Ll=Us(.42,0,.58,1),qm=t=>Array.isArray(t)&&typeof t[0]!="number",Hm={linear:Te,easeIn:Wm,easeInOut:Ll,easeOut:Zm,circIn:ii,circInOut:yl,circOut:xl,backIn:ni,backInOut:pl,backOut:fl,anticipate:gl},ra=t=>{if(Qn(t)){Io(t.length===4);const[e,s,r,n]=t;return Us(e,s,r,n)}else if(typeof t=="string")return Hm[t];return t};function Ym(t,e,s){const r=[],n=s||Fl,a=t.length-1;for(let o=0;o<a;o++){let l=n(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Te:e;l=Ws(c,l)}r.push(l)}return r}function Km(t,e,{clamp:s=!0,ease:r,mixer:n}={}){const a=t.length;if(Io(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Ym(e,r,n),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=Yt(t[h],t[h+1],u);return l[h](f)};return s?u=>d(ot(t[0],t[a-1],u)):d}function Gm(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const n=Yt(0,e,r);t.push(le(s,1,n))}}function Jm(t){const e=[0];return Gm(e,t.length-1),e}function Xm(t,e){return t.map(s=>s*e)}function Qm(t,e){return t.map(()=>e||Ll).splice(0,t.length-1)}function ur({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const n=qm(r)?r.map(ra):ra(r),a={done:!1,value:e[0]},o=Xm(s&&s.length===e.length?s:Jm(e),t),l=Km(o,e,{ease:Array.isArray(n)?n:Qm(e,n)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const ef=t=>{const e=({timestamp:s})=>t(s);return{start:()=>re.update(e,!0),stop:()=>ft(e),now:()=>ye.isProcessing?ye.timestamp:We.now()}},tf={decay:sa,inertia:sa,tween:ur,keyframes:ur,spring:Vl},sf=t=>t/100;class ui extends Dl{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:r,element:n,keyframes:a}=this.options,o=(n==null?void 0:n.KeyframeResolver)||ci,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(a,l,s,r,n),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:s="keyframes",repeat:r=0,repeatDelay:n=0,repeatType:a,velocity:o=0}=this.options,l=Xn(s)?s:tf[s]||ur;let c,d;l!==ur&&typeof e[0]!="number"&&(c=Ws(sf,Fl(e[0],e[1])),e=[0,100]);const u=l({...this.options,keyframes:e});a==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=tl(u));const{calculatedDuration:h}=u,f=h+n,g=f*(r+1)-n;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,s=!1){const{resolved:r}=this;if(!r){const{keyframes:V}=this.options;return{done:!0,value:V[V.length-1]}}const{finalKeyframe:n,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return a.next(0);const{delay:f,repeat:g,repeatType:v,repeatDelay:x,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),s?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?N<0:N>u;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let j=this.currentTime,T=a;if(g){const V=Math.min(this.currentTime,u)/h;let Q=Math.floor(V),G=V%1;!G&&V>=1&&(G=1),G===1&&Q--,Q=Math.min(Q,g+1),!!(Q%2)&&(v==="reverse"?(G=1-G,x&&(G-=x/h)):v==="mirror"&&(T=o)),j=ot(0,1,G)*h}const C=b?{done:!1,value:c[0]}:T.next(j);l&&(C.value=l(C.value));let{done:k}=C;!b&&d!==null&&(k=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return E&&n!==void 0&&(C.value=Pr(c,this.options,n)),_&&_(C.value),E&&this.finish(),C}get duration(){const{resolved:e}=this;return e?it(e.calculatedDuration):0}get time(){return it(this.currentTime)}set time(e){e=nt(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=it(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ef,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),s&&s();const n=this.driver.now();this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=n):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const rf=new Set(["opacity","clipPath","filter","transform"]);function nf(t,e,s,{delay:r=0,duration:n=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[e]:s};c&&(d.offset=c);const u=nl(l,n);return Array.isArray(u)&&(d.easing=u),t.animate(d,{delay:r,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const af=In(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hr=10,of=2e4;function lf(t){return Xn(t.type)||t.type==="spring"||!rl(t.ease)}function cf(t,e){const s=new ui({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const n=[];let a=0;for(;!r.done&&a<of;)r=s.sample(a),n.push(r.value),a+=hr;return{times:void 0,keyframes:n,duration:a-hr,ease:"linear"}}const Ol={anticipate:gl,backInOut:pl,circInOut:yl};function df(t){return t in Ol}class na extends Dl{constructor(e){super(e);const{name:s,motionValue:r,element:n,keyframes:a}=this.options;this.resolver=new Rl(a,(o,l)=>this.onKeyframesResolved(o,l),s,r,n),this.resolver.scheduleResolve()}initPlayback(e,s){let{duration:r=300,times:n,ease:a,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&lr()&&df(a)&&(a=Ol[a]),lf(this.options)){const{onComplete:h,onUpdate:f,motionValue:g,element:v,...x}=this.options,_=cf(e,x);e=_.keyframes,e.length===1&&(e[1]=e[0]),r=_.duration,n=_.times,a=_.ease,o="keyframes"}const u=nf(l.owner.current,c,e,{...this.options,duration:r,times:n,ease:a});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(zi(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(Pr(e,this.options,s)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:n,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:s}=e;return it(s)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:s}=e;return it(s.currentTime||0)}set time(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=nt(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:s}=e;return s.playbackRate}set speed(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:s}=e;return s.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:s}=e;return s.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:s}=this;if(!s)return Te;const{animation:r}=s;zi(r,e)}return Te}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:s,keyframes:r,duration:n,type:a,ease:o,times:l}=e;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:f,...g}=this.options,v=new ui({...g,keyframes:r,duration:n,type:a,ease:o,times:l,isGenerator:!0}),x=nt(this.time);d.setWithVelocity(v.sample(x-hr).value,v.sample(x).value,hr)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:s,name:r,repeatDelay:n,repeatType:a,damping:o,type:l}=e;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=s.owner.getProps();return af()&&r&&rf.has(r)&&!c&&!d&&!n&&a!=="mirror"&&o!==0&&l!=="inertia"}}const uf={type:"spring",stiffness:500,damping:25,restSpeed:10},hf=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mf={type:"keyframes",duration:.8},ff={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pf=(t,{keyframes:e})=>e.length>2?mf:Ft.has(t)?t.startsWith("scale")?hf(e[1]):uf:ff;function gf({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:n,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const hi=(t,e,s,r={},n,a)=>o=>{const l=Jn(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-nt(c);let u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:n};gf(l)||(u={...u,...pf(t,u)}),u.duration&&(u.duration=nt(u.duration)),u.repeatDelay&&(u.repeatDelay=nt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!a&&e.get()!==void 0){const f=Pr(u.keyframes,l);if(f!==void 0)return re.update(()=>{u.onUpdate(f),u.onComplete()}),new Dh([])}return!a&&na.supports(u)?new na(u):new ui(u)};function xf({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function Bl(t,e,{delay:s=0,transitionOverride:r,type:n}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const d=[],u=n&&t.animationState&&t.animationState.getState()[n];for(const h in c){const f=t.getValue(h,(a=t.latestValues[h])!==null&&a!==void 0?a:null),g=c[h];if(g===void 0||u&&xf(u,h))continue;const v={delay:s,...Jn(o||{},h)};let x=!1;if(window.MotionHandoffAnimation){const N=dl(t);if(N){const b=window.MotionHandoffAnimation(N,h,re);b!==null&&(v.startTime=b,x=!0)}}un(t,h),f.start(hi(h,f,g,t.shouldReduceMotion&&ll.has(h)?{type:!1}:v,t,x));const _=f.animation;_&&d.push(_)}return l&&Promise.all(d).then(()=>{re.update(()=>{l&&Yh(t,l)})}),d}function yn(t,e,s={}){var r;const n=js(t,e,s.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(a=s.transitionOverride);const o=n?()=>Promise.all(Bl(t,n,s)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=a;return yf(t,e,u+d,h,f,s)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(s.delay)])}function yf(t,e,s=0,r=0,n=1,a){const o=[],l=(t.variantChildren.size-1)*r,c=n===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(vf).forEach((d,u)=>{d.notify("AnimationStart",e),o.push(yn(d,e,{...a,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function vf(t,e){return t.sortNodePosition(e)}function bf(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const n=e.map(a=>yn(t,a,s));r=Promise.all(n)}else if(typeof e=="string")r=yn(t,e,s);else{const n=typeof e=="function"?js(t,e,s.custom):e;r=Promise.all(Bl(t,n,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}function zl(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}const wf=Ln.length;function $l(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?$l(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<wf;s++){const r=Ln[s],n=t.props[r];(vs(n)||n===!1)&&(e[r]=n)}return e}const jf=[...Vn].reverse(),Nf=Vn.length;function kf(t){return e=>Promise.all(e.map(({animation:s,options:r})=>bf(t,s,r)))}function _f(t){let e=kf(t),s=ia(),r=!0;const n=c=>(d,u)=>{var h;const f=js(t,u,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:v,...x}=f;d={...d,...x,...v}}return d};function a(c){e=c(t)}function o(c){const{props:d}=t,u=$l(t.parent)||{},h=[],f=new Set;let g={},v=1/0;for(let _=0;_<Nf;_++){const N=jf[_],b=s[N],j=d[N]!==void 0?d[N]:u[N],T=vs(j),C=N===c?b.isActive:null;C===!1&&(v=_);let k=j===u[N]&&j!==d[N]&&T;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),b.protectedKeys={...g},!b.isActive&&C===null||!j&&!b.prevProp||Ar(j)||typeof j=="boolean")continue;const E=Cf(b.prevProp,j);let V=E||N===c&&b.isActive&&!k&&T||_>v&&T,Q=!1;const G=Array.isArray(j)?j:[j];let $=G.reduce(n(N),{});C===!1&&($={});const{prevResolvedValues:L={}}=b,q={...L,...$},A=te=>{V=!0,f.has(te)&&(Q=!0,f.delete(te)),b.needsAnimating[te]=!0;const je=t.getValue(te);je&&(je.liveStyle=!1)};for(const te in q){const je=$[te],Ge=L[te];if(g.hasOwnProperty(te))continue;let Je=!1;ln(je)&&ln(Ge)?Je=!zl(je,Ge):Je=je!==Ge,Je?je!=null?A(te):f.add(te):je!==void 0&&f.has(te)?A(te):b.protectedKeys[te]=!0}b.prevProp=j,b.prevResolvedValues=$,b.isActive&&(g={...g,...$}),r&&t.blockInitialAnimation&&(V=!1),V&&(!(k&&E)||Q)&&h.push(...G.map(te=>({animation:te,options:{type:N}})))}if(f.size){const _={};if(typeof d.initial!="boolean"){const N=js(t,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(_.transition=N.transition)}f.forEach(N=>{const b=t.getBaseTarget(N),j=t.getValue(N);j&&(j.liveStyle=!0),_[N]=b??null}),h.push({animation:_})}let x=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function l(c,d){var u;if(s[c].isActive===d)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(c,d)}),s[c].isActive=d;const h=o(c);for(const f in s)s[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=ia(),r=!0}}}function Cf(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zl(e,t):!1}function jt(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ia(){return{animate:jt(!0),whileInView:jt(),whileHover:jt(),whileTap:jt(),whileDrag:jt(),whileFocus:jt(),exit:jt()}}class wt{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Sf extends wt{constructor(e){super(e),e.animationState||(e.animationState=_f(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ar(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Af=0;class Tf extends wt{constructor(){super(...arguments),this.id=Af++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const n=this.node.animationState.setActive("exit",!e);s&&!e&&n.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Pf={animation:{Feature:Sf},exit:{Feature:Tf}};function _s(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}function Zs(t){return{point:{x:t.pageX,y:t.pageY}}}const Ef=t=>e=>ei(e)&&t(e,Zs(e));function zt(t,e,s,r){return _s(t,e,Ef(s),r)}function Ul({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function Rf({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Df(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}const Wl=1e-4,Mf=1-Wl,Ff=1+Wl,Zl=.01,If=0-Zl,Vf=0+Zl;function Ce(t){return t.max-t.min}function Lf(t,e,s){return Math.abs(t-e)<=s}function aa(t,e,s,r=.5){t.origin=r,t.originPoint=le(e.min,e.max,t.origin),t.scale=Ce(s)/Ce(e),t.translate=le(s.min,s.max,t.origin)-t.originPoint,(t.scale>=Mf&&t.scale<=Ff||isNaN(t.scale))&&(t.scale=1),(t.translate>=If&&t.translate<=Vf||isNaN(t.translate))&&(t.translate=0)}function ps(t,e,s,r){aa(t.x,e.x,s.x,r?r.originX:void 0),aa(t.y,e.y,s.y,r?r.originY:void 0)}function oa(t,e,s){t.min=s.min+e.min,t.max=t.min+Ce(e)}function Of(t,e,s){oa(t.x,e.x,s.x),oa(t.y,e.y,s.y)}function la(t,e,s){t.min=e.min-s.min,t.max=t.min+Ce(e)}function gs(t,e,s){la(t.x,e.x,s.x),la(t.y,e.y,s.y)}const ca=()=>({translate:0,scale:1,origin:0,originPoint:0}),$t=()=>({x:ca(),y:ca()}),da=()=>({min:0,max:0}),de=()=>({x:da(),y:da()});function De(t){return[t("x"),t("y")]}function Hr(t){return t===void 0||t===1}function vn({scale:t,scaleX:e,scaleY:s}){return!Hr(t)||!Hr(e)||!Hr(s)}function kt(t){return vn(t)||ql(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ql(t){return ua(t.x)||ua(t.y)}function ua(t){return t&&t!=="0%"}function mr(t,e,s){const r=t-s,n=e*r;return s+n}function ha(t,e,s,r,n){return n!==void 0&&(t=mr(t,n,r)),mr(t,s,r)+e}function bn(t,e=0,s=1,r,n){t.min=ha(t.min,e,s,r,n),t.max=ha(t.max,e,s,r,n)}function Hl(t,{x:e,y:s}){bn(t.x,e.translate,e.scale,e.originPoint),bn(t.y,s.translate,s.scale,s.originPoint)}const ma=.999999999999,fa=1.0000000000001;function Bf(t,e,s,r=!1){const n=s.length;if(!n)return;e.x=e.y=1;let a,o;for(let l=0;l<n;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Wt(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Hl(t,o)),r&&kt(a.latestValues)&&Wt(t,a.latestValues))}e.x<fa&&e.x>ma&&(e.x=1),e.y<fa&&e.y>ma&&(e.y=1)}function Ut(t,e){t.min=t.min+e,t.max=t.max+e}function pa(t,e,s,r,n=.5){const a=le(t.min,t.max,n);bn(t,e,s,a,r)}function Wt(t,e){pa(t.x,e.x,e.scaleX,e.scale,e.originX),pa(t.y,e.y,e.scaleY,e.scale,e.originY)}function Yl(t,e){return Ul(Df(t.getBoundingClientRect(),e))}function zf(t,e,s){const r=Yl(t,s),{scroll:n}=e;return n&&(Ut(r.x,n.offset.x),Ut(r.y,n.offset.y)),r}const ga=(t,e)=>Math.abs(t-e);function $f(t,e){const s=ga(t.x,e.x),r=ga(t.y,e.y);return Math.sqrt(s**2+r**2)}class Kl{constructor(e,s,{transformPagePoint:r,dragSnapToOrigin:n=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Kr(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=$f(u.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:g}=u,{timestamp:v}=ye;this.history.push({...g,timestamp:v});const{onStart:x,onMove:_}=this.handlers;h||(x&&x(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{if(u.target instanceof Element&&u.target.hasPointerCapture&&u.pointerId!==void 0)try{if(!u.target.hasPointerCapture(u.pointerId))return}catch{}this.lastMoveEvent=u,this.lastMoveEventInfo=Yr(h,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{cr(u,"release"),this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Kr(u.type==="pointercancel"||u.type==="lostpointercapture"?this.lastMoveEventInfo:Yr(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,x),g&&g(u,x)},!ei(e))return;this.dragSnapToOrigin=n,this.handlers=s,this.transformPagePoint=r;const a=Zs(e),o=Yr(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=ye;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=s;d&&d(e,Kr(o,this.history)),cr(e,"set"),this.removeListeners=Ws(zt(e.currentTarget,"pointermove",this.handlePointerMove),zt(e.currentTarget,"pointerup",this.handlePointerUp),zt(e.currentTarget,"pointercancel",this.handlePointerUp),zt(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ft(this.updatePoint)}}function Yr(t,e){return e?{point:e(t.point)}:t}function xa(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kr({point:t},e){return{point:t,delta:xa(t,Gl(e)),offset:xa(t,Uf(e)),velocity:Wf(e,.1)}}function Uf(t){return t[0]}function Gl(t){return t[t.length-1]}function Wf(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const n=Gl(t);for(;s>=0&&(r=t[s],!(n.timestamp-r.timestamp>nt(e)));)s--;if(!r)return{x:0,y:0};const a=it(n.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(n.x-r.x)/a,y:(n.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zf(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?le(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?le(s,t,r.max):Math.min(t,s)),t}function ya(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function qf(t,{top:e,left:s,bottom:r,right:n}){return{x:ya(t.x,s,n),y:ya(t.y,e,r)}}function va(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function Hf(t,e){return{x:va(t.x,e.x),y:va(t.y,e.y)}}function Yf(t,e){let s=.5;const r=Ce(t),n=Ce(e);return n>r?s=Yt(e.min,e.max-r,t.min):r>n&&(s=Yt(t.min,t.max-n,e.min)),ot(0,1,s)}function Kf(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const wn=.35;function Gf(t=wn){return t===!1?t=0:t===!0&&(t=wn),{x:ba(t,"left","right"),y:ba(t,"top","bottom")}}function ba(t,e,s){return{min:wa(t,e),max:wa(t,s)}}function wa(t,e){return typeof t=="number"?t:t[e]||0}const Jf=new WeakMap;class Xf{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=de(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const n=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Zs(u).point)},a=(u,h)=>{const{drag:f,dragPropagation:g,onDragStart:v}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Uh(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),De(_=>{let N=this.getAxisMotionValue(_).get()||0;if(Ue.test(N)){const{projection:b}=this.visualElement;if(b&&b.layout){const j=b.layout.layoutBox[_];j&&(N=Ce(j)*(parseFloat(N)/100))}}this.originPoint[_]=N}),v&&re.postRender(()=>v(u,h)),un(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:v,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:_}=h;if(g&&this.currentDirection===null){this.currentDirection=Qf(_),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),x&&x(u,h)},l=(u,h)=>this.stop(u,h),c=()=>De(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Kl(e,{onSessionStart:n,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d})}stop(e,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=s;this.startAnimation(n);const{onDragEnd:a}=this.getProps();a&&re.postRender(()=>a(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:n}=this.getProps();if(!r||!Qs(e,n,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Zf(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;s&&Ot(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&n?this.constraints=qf(n.layoutBox,s):this.constraints=!1,this.elastic=Gf(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&De(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Kf(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Ot(e))return!1;const r=e.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const a=zf(r,n.root,this.visualElement.getTransformPagePoint());let o=Hf(n.layout.layoutBox,a);if(s){const l=s(Rf(o));this.hasMutatedConstraints=!!l,l&&(o=Ul(l))}return o}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:n,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=De(u=>{if(!Qs(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=n?200:1e6,g=n?40:1e7,v={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,v)});return Promise.all(d).then(l)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return un(this.visualElement,e),r.start(hi(e,r,0,s,this.visualElement,!1))}stopAnimation(){De(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){De(e=>{var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),n=r[s];return n||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){De(s=>{const{drag:r}=this.getProps();if(!Qs(s,r,this.currentDirection))return;const{projection:n}=this.visualElement,a=this.getAxisMotionValue(s);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[s];a.set(e[s]-le(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Ot(s)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};De(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();n[o]=Yf({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),De(o=>{if(!Qs(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(le(c,d,n[o]))})}addListeners(){if(!this.visualElement.current)return;Jf.set(this.visualElement,this);const e=this.visualElement.current,s=zt(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ot(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,a=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),re.read(r);const o=_s(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(De(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:a=!1,dragElastic:o=wn,dragMomentum:l=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:n,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Qs(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function Qf(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class ep extends wt{constructor(e){super(e),this.removeGroupControls=Te,this.removeListeners=Te,this.controls=new Xf(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Te}unmount(){this.removeGroupControls(),this.removeListeners()}}const ja=t=>(e,s)=>{t&&re.postRender(()=>t(e,s))};class tp extends wt{constructor(){super(...arguments),this.removePointerDownListener=Te}onPointerDown(e){this.session=new Kl(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:ja(e),onStart:ja(s),onMove:r,onEnd:(a,o)=>{delete this.session,n&&re.postRender(()=>n(a,o))}}}mount(){this.removePointerDownListener=zt(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Na(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ns={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(U.test(t))t=parseFloat(t);else return t;const s=Na(t,e.target.x),r=Na(t,e.target.y);return`${s}% ${r}%`}},sp={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,n=pt.parse(t);if(n.length>5)return r;const a=pt.createTransformer(t),o=typeof n[0]!="number"?1:0,l=s.x.scale*e.x,c=s.y.scale*e.y;n[0+o]/=l,n[1+o]/=c;const d=le(l,c,.5);return typeof n[2+o]=="number"&&(n[2+o]/=d),typeof n[3+o]=="number"&&(n[3+o]/=d),a(n)}};class rp extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:n}=this.props,{projection:a}=e;ah(np),a&&(s.group&&s.group.add(a),r&&r.register&&n&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),nr.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:n,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,n||e.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||re.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bn.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Jl(t){const[e,s]=Mo(),r=m.useContext(Rn);return i.jsx(rp,{...t,layoutGroup:r,switchLayoutGroup:m.useContext($o),isPresent:e,safeToRemove:s})}const np={borderRadius:{...ns,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ns,borderTopRightRadius:ns,borderBottomLeftRadius:ns,borderBottomRightRadius:ns,boxShadow:sp};function ip(t,e,s){const r=be(t)?t:Ns(t);return r.start(hi("",r,e,s)),r.animation}function ap(t){return t instanceof SVGElement&&t.tagName!=="svg"}const op=(t,e)=>t.depth-e.depth;class lp{constructor(){this.children=[],this.isDirty=!1}add(e){ti(this.children,e),this.isDirty=!0}remove(e){si(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(op),this.isDirty=!1,this.children.forEach(e)}}function cp(t,e){const s=We.now(),r=({timestamp:n})=>{const a=n-s;a>=e&&(ft(r),t(a-e))};return re.read(r,!0),()=>ft(r)}const Xl=["TopLeft","TopRight","BottomLeft","BottomRight"],dp=Xl.length,ka=t=>typeof t=="string"?parseFloat(t):t,_a=t=>typeof t=="number"||U.test(t);function up(t,e,s,r,n,a){n?(t.opacity=le(0,s.opacity!==void 0?s.opacity:1,hp(r)),t.opacityExit=le(e.opacity!==void 0?e.opacity:1,0,mp(r))):a&&(t.opacity=le(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let o=0;o<dp;o++){const l=`border${Xl[o]}Radius`;let c=Ca(e,l),d=Ca(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||_a(c)===_a(d)?(t[l]=Math.max(le(ka(c),ka(d),r),0),(Ue.test(d)||Ue.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||s.rotate)&&(t.rotate=le(e.rotate||0,s.rotate||0,r))}function Ca(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hp=Ql(0,.5,xl),mp=Ql(.5,.95,Te);function Ql(t,e,s){return r=>r<t?0:r>e?1:s(Yt(t,e,r))}function Sa(t,e){t.min=e.min,t.max=e.max}function Ee(t,e){Sa(t.x,e.x),Sa(t.y,e.y)}function Aa(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ta(t,e,s,r,n){return t-=e,t=mr(t,1/s,r),n!==void 0&&(t=mr(t,1/n,r)),t}function fp(t,e=0,s=1,r=.5,n,a=t,o=t){if(Ue.test(e)&&(e=parseFloat(e),e=le(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=le(a.min,a.max,r);t===a&&(l-=e),t.min=Ta(t.min,e,s,l,n),t.max=Ta(t.max,e,s,l,n)}function Pa(t,e,[s,r,n],a,o){fp(t,e[s],e[r],e[n],e.scale,a,o)}const pp=["x","scaleX","originX"],gp=["y","scaleY","originY"];function Ea(t,e,s,r){Pa(t.x,e,pp,s?s.x:void 0,r?r.x:void 0),Pa(t.y,e,gp,s?s.y:void 0,r?r.y:void 0)}function Ra(t){return t.translate===0&&t.scale===1}function ec(t){return Ra(t.x)&&Ra(t.y)}function Da(t,e){return t.min===e.min&&t.max===e.max}function xp(t,e){return Da(t.x,e.x)&&Da(t.y,e.y)}function Ma(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tc(t,e){return Ma(t.x,e.x)&&Ma(t.y,e.y)}function Fa(t){return Ce(t.x)/Ce(t.y)}function Ia(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class yp{constructor(){this.members=[]}add(e){ti(this.members,e),e.scheduleRender()}remove(e){if(si(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(n=>e===n);if(s===0)return!1;let r;for(let n=s;n>=0;n--){const a=this.members[n];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vp(t,e,s){let r="";const n=t.x.translate/e.x,a=t.y.translate/e.y,o=(s==null?void 0:s.z)||0;if((n||a||o)&&(r=`translate3d(${n}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:g,skewY:v}=s;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Gr=["","X","Y","Z"],bp={visibility:"hidden"},Va=1e3;let wp=0;function Jr(t,e,s,r){const{latestValues:n}=e;n[t]&&(s[t]=n[t],e.setStaticValue(t,0),r&&(r[t]=0))}function sc(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=dl(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:n,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",re,!(n||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&sc(r)}function rc({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(o={},l=e==null?void 0:e()){this.id=wp++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kp),this.nodes.forEach(Tp),this.nodes.forEach(Pp),this.nodes.forEach(_p)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new lp)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ri),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ap(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=cp(f,250),nr.hasAnimatedSinceResize&&(nr.hasAnimatedSinceResize=!1,this.nodes.forEach(Oa))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||Fp,{onLayoutAnimationStart:_,onLayoutAnimationComplete:N}=u.getProps(),b=!this.targetLayout||!tc(this.targetLayout,v),j=!f&&g;if(this.options.layoutRoot||this.resumeFrom||j||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,j);const T={...Jn(x,"layout"),onPlay:_,onComplete:N};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else f||Oa(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ft(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ep),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(La);return}this.isUpdating||this.nodes.forEach(Sp),this.isUpdating=!1,this.nodes.forEach(Ap),this.nodes.forEach(jp),this.nodes.forEach(Np),this.clearAllSnapshots();const l=We.now();ye.delta=ot(0,1e3/60,l-ye.timestamp),ye.timestamp=l,ye.isProcessing=!0,$r.update.process(ye),$r.preRender.process(ye),$r.render.process(ye),ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Cp),this.sharedNodes.forEach(Rp)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ce(this.snapshot.measuredBox.x)&&!Ce(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=de(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!ec(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||kt(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Ip(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return de();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Vp))){const{scroll:u}=this.root;u&&(Ut(c.x,u.offset.x),Ut(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=de();if(Ee(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Ee(c,o),Ut(c.x,h.offset.x),Ut(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=de();Ee(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Wt(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),kt(u.latestValues)&&Wt(c,u.latestValues)}return kt(this.latestValues)&&Wt(c,this.latestValues),c}removeTransform(o){const l=de();Ee(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!kt(d.latestValues))continue;vn(d.latestValues)&&d.updateSnapshot();const u=de(),h=d.measurePageBox();Ee(u,h),Ea(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return kt(this.latestValues)&&Ea(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=ye.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=de(),this.relativeTargetOrigin=de(),gs(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ee(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=de(),this.targetWithTransforms=de()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Of(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ee(this.target,this.layout.layoutBox),Hl(this.target,this.targetDelta)):Ee(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=de(),this.relativeTargetOrigin=de(),gs(this.relativeTargetOrigin,this.target,g.target),Ee(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vn(this.parent.latestValues)||ql(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ye.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Ee(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;Bf(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=de());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Aa(this.prevProjectionDelta.x,this.projectionDelta.x),Aa(this.prevProjectionDelta.y,this.projectionDelta.y)),ps(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!Ia(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ia(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$t(),this.projectionDelta=$t(),this.projectionDeltaWithTransform=$t()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=$t();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=de(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,x=g!==v,_=this.getStack(),N=!_||_.members.length<=1,b=!!(x&&!N&&this.options.crossfade===!0&&!this.path.some(Mp));this.animationProgress=0;let j;this.mixTargetDelta=T=>{const C=T/1e3;Ba(h.x,o.x,C),Ba(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dp(this.relativeTarget,this.relativeTargetOrigin,f,C),j&&xp(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=de()),Ee(j,this.relativeTarget)),x&&(this.animationValues=u,up(u,d,this.latestValues,C,b,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ft(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{nr.hasAnimatedSinceResize=!0,this.currentAnimation=ip(0,Va,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Va),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&nc(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||de();const h=Ce(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Ce(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Ee(l,c),Wt(l,u),ps(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new yp),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Jr("z",o,d,this.animationValues);for(let u=0;u<Gr.length;u++)Jr(`rotate${Gr[u]}`,o,d,this.animationValues),Jr(`skew${Gr[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return bp;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=sr(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=sr(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!kt(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=vp(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:g,y:v}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in bs){if(f[x]===void 0)continue;const{correct:_,applyTo:N,isCSSVariable:b}=bs[x],j=d.transform==="none"?f[x]:_(f[x],h);if(N){const T=N.length;for(let C=0;C<T;C++)d[N[C]]=j}else b?this.options.visualElement.renderState.vars[x]=j:d[x]=j}return this.options.layoutId&&(d.pointerEvents=h===this?sr(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(La),this.root.sharedNodes.clear()}}}function jp(t){t.updateLayout()}function Np(t){var e;const s=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:a}=t.options,o=s.source!==t.layout.source;a==="size"?De(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],g=Ce(f);f.min=r[h].min,f.max=f.min+g}):nc(a,s.layoutBox,r)&&De(h=>{const f=o?s.measuredBox[h]:s.layoutBox[h],g=Ce(r[h]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const l=$t();ps(l,r,s.layoutBox);const c=$t();o?ps(c,t.applyTransform(n,!0),s.measuredBox):ps(c,r,s.layoutBox);const d=!ec(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const v=de();gs(v,s.layoutBox,f.layoutBox);const x=de();gs(x,r,g.layoutBox),tc(v,x)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function kp(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _p(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Cp(t){t.clearSnapshot()}function La(t){t.clearMeasurements()}function Sp(t){t.isLayoutDirty=!1}function Ap(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Oa(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Tp(t){t.resolveTargetDelta()}function Pp(t){t.calcProjection()}function Ep(t){t.resetSkewAndRotation()}function Rp(t){t.removeLeadSnapshot()}function Ba(t,e,s){t.translate=le(e.translate,0,s),t.scale=le(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function za(t,e,s,r){t.min=le(e.min,s.min,r),t.max=le(e.max,s.max,r)}function Dp(t,e,s,r){za(t.x,e.x,s.x,r),za(t.y,e.y,s.y,r)}function Mp(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Fp={duration:.45,ease:[.4,0,.1,1]},$a=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ua=$a("applewebkit/")&&!$a("chrome/")?Math.round:Te;function Wa(t){t.min=Ua(t.min),t.max=Ua(t.max)}function Ip(t){Wa(t.x),Wa(t.y)}function nc(t,e,s){return t==="position"||t==="preserve-aspect"&&!Lf(Fa(e),Fa(s),.2)}function Vp(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Lp=rc({attachResizeListener:(t,e)=>_s(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xr={current:void 0},ic=rc({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xr.current){const t=new Lp({});t.mount(window),t.setOptions({layoutScroll:!0}),Xr.current=t}return Xr.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Op={pan:{Feature:tp},drag:{Feature:ep,ProjectionNode:ic,MeasureLayout:Jl}};function Za(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const n="onHover"+s,a=r[n];a&&re.postRender(()=>a(e,Zs(e)))}class Bp extends wt{mount(){const{current:e}=this.node;e&&(this.unmount=Vh(e,(s,r)=>(Za(this.node,r,"Start"),n=>Za(this.node,n,"End"))))}unmount(){}}class zp extends wt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ws(_s(this.node.current,"focus",()=>this.onFocus()),_s(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qa(t,e,s){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const n="onTap"+(s==="End"?"":s),a=r[n];a&&re.postRender(()=>a(e,Zs(e)))}class $p extends wt{mount(){const{current:e}=this.node;e&&(this.unmount=zh(e,(s,r)=>(qa(this.node,r,"Start"),(n,{success:a})=>qa(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jn=new WeakMap,Qr=new WeakMap,Up=t=>{const e=jn.get(t.target);e&&e(t)},Wp=t=>{t.forEach(Up)};function Zp({root:t,...e}){const s=t||document;Qr.has(s)||Qr.set(s,{});const r=Qr.get(s),n=JSON.stringify(e);return r[n]||(r[n]=new IntersectionObserver(Wp,{root:t,...e})),r[n]}function qp(t,e,s){const r=Zp(e);return jn.set(t,s),r.observe(t),()=>{jn.delete(t),r.unobserve(t)}}const Hp={some:0,all:1};class Yp extends wt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:n="some",once:a}=e,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:Hp[n]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return qp(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(Kp(e,s))&&this.startObserver()}unmount(){}}function Kp({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const Gp={inView:{Feature:Yp},tap:{Feature:$p},focus:{Feature:zp},hover:{Feature:Bp}},Jp={layout:{ProjectionNode:ic,MeasureLayout:Jl}},Nn={current:null},ac={current:!1};function Xp(){if(ac.current=!0,!!Fn)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Nn.current=t.matches;t.addListener(e),e()}else Nn.current=!1}const Qp=[...El,ve,pt],eg=t=>Qp.find(Pl(t)),tg=new WeakMap;function sg(t,e,s){for(const r in e){const n=e[r],a=s[r];if(be(n))t.addValue(r,n);else if(be(a))t.addValue(r,Ns(n,{owner:t}));else if(a!==n)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=t.getStaticValue(r);t.addValue(r,Ns(o!==void 0?o:n,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const Ha=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rg{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ci,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=We.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,re.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Tr(s),this.isVariantNode=Bo(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(s,{},this);for(const g in f){const v=f[g];c[g]!==void 0&&be(v)&&v.set(c[g],!1)}}mount(e){this.current=e,tg.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),ac.current||Xp(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Nn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ft(this.notifyUpdate),ft(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ft.has(e);r&&this.onBindTransform&&this.onBindTransform();const n=s.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&re.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{n(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kt){const s=Kt[e];if(!s)continue;const{isEnabled:r,Feature:n}=s;if(!this.features[e]&&n&&r(this.props)&&(this.features[e]=new n(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):de()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Ha.length;r++){const n=Ha[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const a="on"+n,o=e[a];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=sg(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=Ns(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){var r;let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(Al(n)||vl(n))?n=parseFloat(n):!eg(n)&&pt.test(s)&&(n=_l(e,s)),this.setBaseTarget(e,be(n)?n.get():n)),be(n)?n.get():n}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=Kn(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!be(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new ri),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class oc extends rg{constructor(){super(...arguments),this.KeyframeResolver=Rl}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;be(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function ng(t){return window.getComputedStyle(t)}class ig extends oc{constructor(){super(...arguments),this.type="html",this.renderInstance=Jo}readValueFromInstance(e,s){if(Ft.has(s)){const r=li(s);return r&&r.default||0}else{const r=ng(e),n=(zn(s)?r.getPropertyValue(s):r[s])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Yl(e,s)}build(e,s,r){Wn(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return Gn(e,s,r)}}class ag extends oc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=de,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Go(this.current,this.renderState)}}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Ft.has(s)){const r=li(s);return r&&r.default||0}return s=Xo.has(s)?s:On(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return el(e,s,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&re.postRender(this.updateDimensions)}build(e,s,r){Hn(e,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,s,r,n){Qo(e,s,r,n)}mount(e){this.isSVGTag=Yn(e.tagName),super.mount(e)}}const og=(t,e)=>qn(t)?new ag(e):new ig(e,{allowProjection:t!==m.Fragment}),lg=Ph({...Pf,...Gp,...Op,...Jp},og),B=qu(lg),cg=Pn((t,e)=>({frequentLocations:[],popularLocations:[],isLoading:!1,error:null,fetchFrequentLocations:async s=>{try{t({isLoading:!0,error:null});const{data:r,error:n}=await X.from("user_locations").select("*").eq("user_id",s).order("frequency",{ascending:!1}).order("last_used",{ascending:!1}).limit(5);if(n)throw n;t({frequentLocations:r.map(a=>({id:a.id,address:a.address,latitude:a.latitude,longitude:a.longitude,frequency:a.frequency,lastUsed:new Date(a.last_used),type:a.type}))})}catch(r){t({error:r.message})}finally{t({isLoading:!1})}},fetchPopularLocations:async()=>{try{t({isLoading:!0,error:null});const{data:s,error:r}=await X.from("popular_locations").select("*").order("total_rides",{ascending:!1}).limit(5);if(r)throw r;t({popularLocations:s.map(n=>({id:n.id,address:n.address,latitude:n.latitude,longitude:n.longitude,frequency:n.total_rides,lastUsed:new Date,type:"pickup"}))})}catch(s){t({error:s.message})}finally{t({isLoading:!1})}},addLocation:async(s,r)=>{try{t({isLoading:!0,error:null});const{data:n}=await X.from("user_locations").select("*").eq("user_id",s).eq("address",r.address).single();n?await X.from("user_locations").update({frequency:n.frequency+1,last_used:new Date().toISOString()}).eq("id",n.id):await X.from("user_locations").insert({user_id:s,address:r.address,latitude:r.latitude,longitude:r.longitude,frequency:1,last_used:new Date().toISOString(),type:r.type}),await e().fetchFrequentLocations(s)}catch(n){t({error:n.message})}finally{t({isLoading:!1})}}})),dg="https://api.mapbox.com",ug="pk.eyJ1IjoicDJwdGF4aSIsImEiOiJjbTR6d2ZzMGMxN3JyMmtyMGdzdDk5YTFwIn0.oou-Q_JkuANwR_JJp0WFLQ",lc=async t=>{const e=`${dg}/geocoding/v5/mapbox.places/${encodeURIComponent(t)}.json?access_token=${ug}&country=NL&types=address,poi&language=nl`;try{const s=await fetch(e);if(!s.ok)throw new Error("Failed to fetch locations");return(await s.json()).features.map(n=>({address:n.place_name,coordinates:n.center,placeId:n.id}))}catch(s){throw console.error("Error searching locations:",s),s}},Ya=({type:t,value:e,onSelect:s,placeholder:r,className:n="",label:a,error:o})=>{const[l,c]=m.useState(e),[d,u]=m.useState([]),[h,f]=m.useState(!1),[g,v]=m.useState(!1),x=m.useRef(null),_=m.useRef(null);m.useEffect(()=>{c(e)},[e]),m.useEffect(()=>{const T=C=>{x.current&&!x.current.contains(C.target)&&v(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const N=async T=>{if(!T.trim()){u([]);return}f(!0);try{const C=await lc(T);u(C),v(!0)}catch(C){console.error("Error searching locations:",C),u([])}finally{f(!1)}},b=T=>{const C=T.target.value;c(C),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{N(C)},300)};m.useEffect(()=>()=>{_.current&&clearTimeout(_.current)},[]);const j=T=>{c(T.address),v(!1),s(T)};return i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:a}),i.jsxs("div",{ref:x,className:`relative ${n}`,children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:l,onChange:b,onFocus:()=>d.length>0&&v(!0),placeholder:r||`Enter ${t} location`,className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary bg-white text-gray-900"}),h&&i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-primary border-t-transparent"})})]}),o&&i.jsx("p",{className:"text-sm text-red-500",children:o})]}),i.jsx(zs,{children:g&&d.length>0&&i.jsx(B.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.2},className:"absolute z-50 w-full mt-1 bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"max-h-60 overflow-y-auto",children:d.map((T,C)=>i.jsx(B.button,{whileHover:{backgroundColor:"rgb(249 250 251)"},whileTap:{scale:.99},onClick:()=>j(T),className:"w-full px-4 py-3 text-left bg-white transition-colors duration-150 border-b border-gray-100 last:border-b-0 focus:outline-none focus:bg-gray-50",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-base font-semibold text-gray-900",children:T.address.split(",")[0]}),i.jsx("span",{className:"text-sm text-gray-600 mt-0.5",children:T.address.split(",").slice(1).join(",").trim()})]})},C))})})})]})};var hg=Kc();const et=fo(hg);et.accessToken="pk.eyJ1IjoicDJwdGF4aSIsImEiOiJjbTR6d2ZzMGMxN3JyMmtyMGdzdDk5YTFwIn0.oou-Q_JkuANwR_JJp0WFLQ";const mg=({pickupLocation:t,dropoffLocation:e,className:s=""})=>{const r=m.useRef(null),n=m.useRef(null),[a,o]=m.useState(null),[l]=m.useState(!1);return m.useEffect(()=>{if(r.current)return n.current=new et.Map({container:r.current,style:"mapbox://styles/mapbox/dark-v11",center:[-74.5,40],zoom:12,attributionControl:!1}),n.current.addControl(new et.NavigationControl({showCompass:!0,showZoom:!0,visualizePitch:!0}),"top-right"),n.current.addControl(new et.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0}),"top-right"),n.current.addControl(new et.ScaleControl,"bottom-right"),()=>{var c;(c=n.current)==null||c.remove()}},[]),m.useEffect(()=>{if(!n.current)return;const c=document.getElementsByClassName("marker");for(;c[0];)c[0].remove();if(t!=null&&t.coordinates){const d=document.createElement("div");d.className="marker pickup-marker",d.innerHTML=`
        <div class="w-10 h-10 rounded-full bg-[#F7C948]/20 flex items-center justify-center transform-gpu transition-transform duration-300 hover:scale-110">
          <div class="w-5 h-5 text-[#F7C948] animate-bounce"></div>
        </div>
      `,new et.Marker(d).setLngLat([t.coordinates.lng,t.coordinates.lat]).addTo(n.current)}if(e!=null&&e.coordinates){const d=document.createElement("div");d.className="marker dropoff-marker",d.innerHTML=`
        <div class="w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center transform-gpu transition-transform duration-300 hover:scale-110">
          <div class="w-5 h-5 text-green-500 animate-bounce"></div>
        </div>
      `,new et.Marker(d).setLngLat([e.coordinates.lng,e.coordinates.lat]).addTo(n.current)}t!=null&&t.coordinates&&(e!=null&&e.coordinates)&&(a&&(n.current.removeLayer(a),n.current.removeSource(a)),fetch(`https://api.mapbox.com/directions/v5/mapbox/driving/${t.coordinates.lng},${t.coordinates.lat};${e.coordinates.lng},${e.coordinates.lat}?geometries=geojson&access_token=${et.accessToken}`).then(d=>d.json()).then(d=>{if(!n.current||!d.routes[0])return;const u=d.routes[0].geometry,h=`route-${Date.now()}`;n.current.addSource(h,{type:"geojson",data:{type:"Feature",properties:{},geometry:u}}),n.current.addLayer({id:h,type:"line",source:h,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#F7C948","line-width":4,"line-opacity":.8}}),o(h);const f=u.coordinates,g=f.reduce((v,x)=>v.extend(x),new et.LngLatBounds(f[0],f[0]));n.current.fitBounds(g,{padding:50})}))},[t,e]),i.jsxs("div",{className:`relative w-full h-full ${s}`,children:[i.jsx("div",{ref:r,className:"w-full h-full min-h-[400px] rounded-xl border border-[#F7C948]/10 bg-zinc-900/90 overflow-hidden shadow-lg",style:{minHeight:"400px"}}),l&&i.jsx("div",{className:"absolute inset-0 bg-zinc-900/50 backdrop-blur-sm flex items-center justify-center",children:i.jsx("div",{className:"w-8 h-8 border-2 border-[#F7C948] border-t-transparent rounded-full animate-spin"})})]})},fg={light:{background:"bg-white/70 backdrop-blur-md",border:"border border-white/20",shadow:"shadow-lg shadow-yellow-500/10",hover:"hover:bg-white/80 hover:shadow-yellow-500/20",gradient:"bg-gradient-to-br from-yellow-400 to-yellow-200"},dark:{background:"bg-zinc-900/70 backdrop-blur-md",border:"border border-yellow-500/20",shadow:"shadow-lg shadow-yellow-500/5",hover:"hover:bg-zinc-800/80 hover:shadow-yellow-500/10",gradient:"bg-gradient-to-br from-zinc-800 to-zinc-900"}},cc=Pn()(xo(t=>({isDarkMode:!0,toggleDarkMode:()=>{t(e=>({isDarkMode:!e.isDarkMode})),document.documentElement.classList.toggle("dark",!document.documentElement.classList.contains("dark"))}}),{name:"theme-storage"})),pg=()=>{const{isDarkMode:t}=cc();return m.useEffect(()=>{document.documentElement.classList.toggle("dark",t)},[t]),{isDarkMode:t}},gg=({children:t,className:e="",interactive:s=!1,gradient:r=!1,onClick:n,style:a,...o})=>{const{isDarkMode:l}=pg(),d=fg[l?"dark":"light"],u=[d.background,d.border,d.shadow,"rounded-xl","transition-all","duration-300","ease-in-out"];return s&&u.push(d.hover,"cursor-pointer","transform","hover:-translate-y-1"),r&&u.push(d.gradient),i.jsx("div",{className:`${u.join(" ")} ${e}`,onClick:s?n:void 0,style:a,...o,children:t})},Ka=({location:t,onSelect:e,isSelected:s=!1})=>{const r=()=>{switch(t.type){case"home":return i.jsx(Pd,{className:"w-5 h-5 text-taxi-yellow"});case"work":return i.jsx(hd,{className:"w-5 h-5 text-taxi-yellow"});case"favorite":return i.jsx(wo,{className:"w-5 h-5 text-taxi-yellow"});case"recent":return i.jsx(En,{className:"w-5 h-5 text-taxi-yellow"});default:return i.jsx(rt,{className:"w-5 h-5 text-taxi-yellow"})}};return i.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},children:i.jsx(gg,{className:`
          p-4 cursor-pointer transition-all duration-200
          ${s?"border-taxi-yellow bg-taxi-yellow/10":"hover:bg-white/5"}
        `,onClick:e,children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`
            w-10 h-10 rounded-full flex items-center justify-center
            ${s?"bg-taxi-yellow/30":"bg-taxi-yellow/10"}
            transition-colors duration-200
          `,children:r()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-medium group-hover:text-taxi-yellow transition-colors",children:t.name}),i.jsx("div",{className:"text-sm text-gray-400",children:t.address}),t.lastVisited&&i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Last used: ",new Date(t.lastVisited).toLocaleDateString()]}),t.frequency&&t.frequency>0&&i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Used ",t.frequency," time",t.frequency!==1?"s":""]})]}),s&&i.jsx(B.div,{initial:{scale:0},animate:{scale:1},className:"w-6 h-6 rounded-full bg-taxi-yellow flex items-center justify-center",children:i.jsx(rt,{className:"w-4 h-4 text-night-black"})})]})})})},xg=({formData:t,onChange:e})=>{const{user:s}=Ke(),{addLocation:r,fetchFrequentLocations:n,fetchPopularLocations:a,isLoading:o,error:l,frequentLocations:c,popularLocations:d}=cg(),[u,h]=m.useState(t.pickupLocation||null),[f,g]=m.useState(t.dropoffLocation||null),[v,x]=m.useState(null),[_,N]=m.useState("saved");m.useEffect(()=>{s!=null&&s.id&&(n(s.id),a())},[s==null?void 0:s.id,n,a]),m.useEffect(()=>{u&&f&&e({pickupLocation:u,dropoffLocation:f})},[u,f,e]);const b=async(j,T)=>{try{s!=null&&s.id&&await r(s.id,{address:T.address,latitude:T.coordinates.lat,longitude:T.coordinates.lng,type:j});const C={name:T.address,address:T.address,coordinates:{lat:T.coordinates.lat,lng:T.coordinates.lng}};j==="pickup"?((await Or(async()=>{const{default:E}=await Promise.resolve().then(()=>zr);return{default:E}},void 0)).default.success("Pickup location set"),h(C),e({pickupLocation:C}),x(null)):((await Or(async()=>{const{default:E}=await Promise.resolve().then(()=>zr);return{default:E}},void 0)).default.success("Drop-off location set"),g(C),e({dropoffLocation:C}),x(null))}catch(C){console.error("Error selecting location:",C),(await Or(async()=>{const{default:E}=await Promise.resolve().then(()=>zr);return{default:E}},void 0)).default.error("Failed to set location")}};return i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-left mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Where are you going?"}),i.jsx("p",{className:"text-gray-400",children:"Enter your pickup and drop-off locations"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ya,{type:"pickup",value:(u==null?void 0:u.address)||"",onSelect:j=>b("pickup",{address:j.address,coordinates:{lat:j.coordinates[1],lng:j.coordinates[0]}}),placeholder:"Enter pickup location",className:"w-full glass-input pl-14",label:"Pickup Location"}),i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:i.jsx("div",{className:"w-8 h-8 rounded-full bg-taxi-yellow/20 flex items-center justify-center",children:i.jsx(rt,{className:"w-4 h-4 text-taxi-yellow"})})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ya,{type:"dropoff",value:(f==null?void 0:f.address)||"",onSelect:j=>b("dropoff",{address:j.address,coordinates:{lat:j.coordinates[1],lng:j.coordinates[0]}}),placeholder:"Enter drop-off location",className:"w-full glass-input pl-14",label:"Drop-off Location"}),i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:i.jsx("div",{className:"w-8 h-8 rounded-full bg-success/20 flex items-center justify-center",children:i.jsx(rt,{className:"w-4 h-4 text-success"})})})]}),v&&i.jsx(B.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-error text-sm",children:v})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex space-x-4 border-b border-gray-700",children:[i.jsxs("button",{onClick:()=>N("saved"),className:`pb-2 px-4 text-sm font-medium transition-colors relative
                ${_==="saved"?"text-taxi-yellow":"text-gray-400 hover:text-gray-300"}`,children:["Saved Places",_==="saved"&&i.jsx(B.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-taxi-yellow"})]}),i.jsxs("button",{onClick:()=>N("recent"),className:`pb-2 px-4 text-sm font-medium transition-colors relative
                ${_==="recent"?"text-taxi-yellow":"text-gray-400 hover:text-gray-300"}`,children:["Recent Places",_==="recent"&&i.jsx(B.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-taxi-yellow"})]})]}),i.jsxs("div",{className:"space-y-3 max-h-[300px] overflow-y-auto custom-scrollbar relative min-h-[200px]",children:[o&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-night-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx("div",{className:"w-8 h-8 border-2 border-taxi-yellow border-t-transparent rounded-full animate-spin"}),i.jsx("p",{className:"text-sm text-taxi-yellow",children:"Loading locations..."})]})}),l&&i.jsx(B.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-error/10 border border-error/20 rounded-lg p-4 text-sm text-error",children:l}),!o&&!l&&_==="saved"&&c.length===0&&i.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8 text-gray-400",children:[i.jsx(rt,{className:"w-8 h-8 mx-auto mb-2 text-gray-500"}),i.jsx("p",{children:"No saved locations yet"}),i.jsx("p",{className:"text-sm",children:"Your frequent destinations will appear here"})]}),_==="saved"?c.map(j=>i.jsx(Ka,{location:{id:j.id,name:j.address.split(",")[0],address:j.address,type:"recent",coordinates:{lat:j.latitude,lng:j.longitude}},onSelect:()=>b("pickup",{address:j.address,coordinates:{lat:j.latitude,lng:j.longitude}})},j.id)):d.map(j=>i.jsx(Ka,{location:{id:j.id,name:j.address.split(",")[0],address:j.address,type:"popular",coordinates:{lat:j.latitude,lng:j.longitude}},onSelect:()=>b("pickup",{address:j.address,coordinates:{lat:j.latitude,lng:j.longitude}})},j.id))]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"h-[400px] lg:h-[500px] sticky top-0",children:i.jsx(mg,{pickupLocation:u,dropoffLocation:f,className:"w-full h-full"})}),v&&i.jsx(B.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-error/10 border border-error/20 rounded-lg p-3 text-sm text-error",children:v})]})]})},dc=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),yg=[{id:"standard",name:"Standard",description:"Comfortable and economical",basePrice:30,pricePerKm:1.5,image:"/vehicles/standard.png",features:["4 Passengers","AC","4 Luggage"],capacity:4},{id:"comfort",name:"Comfort",description:"Extra space and comfort",basePrice:45,pricePerKm:2,image:"/vehicles/comfort.png",features:["6 Passengers","AC","Extra Legroom","6 Luggage"],capacity:6},{id:"lux",name:"Luxury",description:"Premium experience",basePrice:80,pricePerKm:3,image:"/vehicles/luxury.png",features:["4 Passengers","Premium Interior","Professional Driver","Refreshments"],capacity:4},{id:"bus",name:"Taxi Bus",description:"Perfect for groups",basePrice:100,pricePerKm:4,image:"/vehicles/bus.png",features:["8+ Passengers","Large Luggage Space","AC","USB Charging"],capacity:8}],vg=({distance:t,onSelect:e,selectedCategory:s})=>{const r=(n,a)=>n+t*a;return i.jsx("div",{className:"space-y-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:yg.map(n=>{const a=r(n.basePrice,n.pricePerKm),o=s===n.id;return i.jsxs(B.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e(n),className:`
                relative overflow-hidden rounded-xl p-4 cursor-pointer
                transition-all duration-200
                ${o?"bg-[#F7C948]/20 border-[#F7C948] shadow-[0_0_20px_rgba(247,201,72,0.2)]":"bg-[rgba(42,42,42,0.7)] border-[#F7C948]/20 hover:bg-[rgba(42,42,42,0.9)]"}
                border backdrop-blur-lg
              `,children:[o&&i.jsx(B.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-[#F7C948] flex items-center justify-center",children:i.jsx(Ud,{className:"w-4 h-4 text-[#2A2A2A]"})}),i.jsx("div",{className:"relative h-32 mb-4",children:i.jsx("img",{src:n.image,alt:n.name,className:"absolute inset-0 w-full h-full object-contain"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-medium text-white",children:n.name}),i.jsx("p",{className:"text-sm text-zinc-400",children:n.description}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md bg-white/5 text-xs",children:[i.jsx(Yd,{className:"w-3 h-3"}),i.jsxs("span",{children:[n.capacity," seats"]})]}),i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md bg-white/5 text-xs",children:[i.jsx(Ad,{className:"w-3 h-3"}),i.jsxs("span",{children:[n.pricePerKm,"/km"]})]})]}),i.jsxs("div",{className:"mt-4 flex items-baseline justify-between",children:[i.jsx("span",{className:"text-2xl font-bold text-[#F7C948]",children:dc(a)}),i.jsxs("span",{className:"text-sm text-zinc-400",children:[t,"km"]})]})]})]},n.id)})})})},bg=[{id:"cash",name:"Cash",icon:i.jsx(dd,{className:"w-5 h-5"}),description:"Pay with cash after your ride",availableForScheduled:!1},{id:"token",name:"Token",icon:i.jsx(Gd,{className:"w-5 h-5"}),description:"Pay with AICABY tokens",availableForScheduled:!0},{id:"pos",name:"Card (POS)",icon:i.jsx(kr,{className:"w-5 h-5"}),description:"Pay by card after your ride",availableForScheduled:!1}],wg=({pickup:t,dropoff:e,distance:s,duration:r,selectedVehicle:n,isScheduled:a=!1,onPaymentMethodSelect:o,selectedPaymentMethod:l})=>{const c=n.basePrice+s*n.pricePerKm;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"rounded-xl bg-[rgba(42,42,42,0.7)] border border-[#F7C948]/20 backdrop-blur-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-[#F7C948] mb-4",children:"Trip Summary"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-[#F7C948]/20 flex items-center justify-center mt-1",children:i.jsx(rt,{className:"w-4 h-4 text-[#F7C948]"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-zinc-400",children:"Pickup"}),i.jsx("p",{className:"text-white",children:t.address})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-[#F7C948]/20 flex items-center justify-center mt-1",children:i.jsx(rt,{className:"w-4 h-4 text-[#F7C948]"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-zinc-400",children:"Dropoff"}),i.jsx("p",{className:"text-white",children:e.address})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[i.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[i.jsx(En,{className:"w-5 h-5 text-[#F7C948] mx-auto mb-1"}),i.jsx("span",{className:"text-sm text-zinc-400",children:"Duration"}),i.jsxs("p",{className:"text-white font-medium",children:[Math.round(r)," min"]})]}),i.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[i.jsx(Me,{className:"w-5 h-5 text-[#F7C948] mx-auto mb-1"}),i.jsx("span",{className:"text-sm text-zinc-400",children:"Distance"}),i.jsxs("p",{className:"text-white font-medium",children:[s," km"]})]}),i.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[i.jsx(kr,{className:"w-5 h-5 text-[#F7C948] mx-auto mb-1"}),i.jsx("span",{className:"text-sm text-zinc-400",children:"Total"}),i.jsx("p",{className:"text-white font-medium",children:dc(c)})]})]})]}),i.jsxs("div",{className:"rounded-xl bg-[rgba(42,42,42,0.7)] border border-[#F7C948]/20 backdrop-blur-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-[#F7C948] mb-4",children:"Payment Method"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:bg.filter(d=>!a||d.availableForScheduled).map(d=>{const u=l===d.id;return i.jsxs(B.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(d.id),className:`
                    relative p-4 rounded-lg text-left transition-all duration-200
                    ${u?"bg-[#F7C948]/20 border-[#F7C948]":"bg-white/5 border-transparent hover:bg-white/10"}
                    border
                  `,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"text-[#F7C948]",children:d.icon}),i.jsx("span",{className:"font-medium",children:d.name})]}),i.jsx("p",{className:"text-sm text-zinc-400",children:d.description})]},d.id)})})]})]})},jg=({isSearching:t,driver:e,onViewOnMap:s})=>i.jsx("div",{className:"relative min-h-[400px] rounded-xl bg-[rgba(42,42,42,0.7)] border border-[#F7C948]/20 backdrop-blur-lg p-6 flex items-center justify-center",children:t?i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-8",children:[i.jsx(B.div,{className:"absolute inset-0 border-2 border-[#F7C948] rounded-full",animate:{scale:[1,2],opacity:[.5,0]},transition:{duration:2,repeat:1/0,ease:"linear"}}),i.jsx(B.div,{className:"absolute inset-0 border-2 border-[#F7C948] rounded-full",animate:{scale:[1,2],opacity:[.5,0]},transition:{duration:2,repeat:1/0,ease:"linear",delay:1}}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx(Me,{className:"w-12 h-12 text-[#F7C948]"})})]}),i.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Finding your driver"}),i.jsx("p",{className:"text-zinc-400",children:"Searching for nearby drivers..."})]}):e?i.jsxs("div",{className:"w-full space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-xl font-medium text-[#F7C948]",children:"Driver Found!"}),i.jsx(B.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:"px-4 py-2 bg-[#F7C948]/10 hover:bg-[#F7C948]/20 rounded-lg text-[#F7C948] text-sm transition-colors",children:"View on Map"})]}),i.jsxs("div",{className:"rounded-lg bg-white/5 p-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-[#F7C948]/20 flex items-center justify-center",children:i.jsx(Me,{className:"w-8 h-8 text-[#F7C948]"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-white",children:e.name}),i.jsxs("div",{className:"flex items-center gap-1 text-[#F7C948]",children:[i.jsx(wo,{className:"w-4 h-4 fill-current"}),i.jsx("span",{children:e.rating.toFixed(1)})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-sm text-zinc-400",children:"Vehicle"}),i.jsxs("p",{className:"text-white",children:[e.vehicle.make," ",e.vehicle.model]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-sm text-zinc-400",children:"Color"}),i.jsx("p",{className:"text-white",children:e.vehicle.color})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-sm text-zinc-400",children:"Plate Number"}),i.jsx("p",{className:"text-white",children:e.vehicle.plate})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-sm text-zinc-400",children:"ETA"}),i.jsxs("p",{className:"text-white",children:[e.eta," mins"]})]})]}),i.jsx("div",{className:"relative h-48 rounded-lg overflow-hidden",children:i.jsx("img",{src:e.vehicle.image,alt:`${e.vehicle.make} ${e.vehicle.model}`,className:"absolute inset-0 w-full h-full object-cover"})})]})]}):null}),is=[{id:"location",title:"Location",icon:rt},{id:"vehicle",title:"Vehicle",icon:Me},{id:"payment",title:"Payment",icon:kr},{id:"driver",title:"Driver",icon:wd}],Ng=({onComplete:t,onCancel:e})=>{const[s,r]=m.useState(0),[n,a]=m.useState({pickupLocation:null,dropoffLocation:null,distance:0,duration:0,selectedVehicle:null,paymentMethod:null,isScheduled:!1}),[o,l]=m.useState(null),[c,d]=m.useState(!1),u=async()=>{s===is.length-2?(d(!0),setTimeout(()=>{l({id:"driver-1",name:"John Smith",rating:4.8,vehicle:{make:"Toyota",model:"Camry",color:"Silver",plate:"ABC 123",image:"/vehicles/camry.png"},eta:5,location:{lat:0,lng:0}}),d(!1),r(s+1)},3e3)):s<is.length-1?r(s+1):t(n)},h=()=>{s>0?r(s-1):e()},f=()=>{switch(s){case 0:return n.pickupLocation&&n.dropoffLocation;case 1:return n.selectedVehicle!==null;case 2:return n.paymentMethod!==null;case 3:return o!==null;default:return!1}},g=()=>{var v;switch(s){case 0:return i.jsx(xg,{formData:n,onChange:x=>{a({...n,...x,selectedVehicle:null,paymentMethod:null,pickupLocation:x.pickupLocation||null,dropoffLocation:x.dropoffLocation||null})}});case 1:return i.jsx(vg,{distance:n.distance,onSelect:x=>{a({...n,selectedVehicle:x,paymentMethod:null})},selectedCategory:(v=n.selectedVehicle)==null?void 0:v.id});case 2:return n.pickupLocation&&n.dropoffLocation&&n.selectedVehicle?i.jsx(wg,{pickup:n.pickupLocation,dropoff:n.dropoffLocation,distance:n.distance,duration:n.duration,selectedVehicle:n.selectedVehicle,isScheduled:n.isScheduled,onPaymentMethodSelect:x=>{a({...n,paymentMethod:x})},selectedPaymentMethod:n.paymentMethod||void 0}):null;case 3:return i.jsx(jg,{isSearching:c,driver:o||void 0,onViewOnMap:()=>{}});default:return null}};return i.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-xl bg-[rgba(42,42,42,0.7)] border border-[#F7C948]/20 backdrop-blur-lg p-6 my-4 w-full max-w-6xl mx-auto min-h-[600px] shadow-[0_8px_32px_rgba(247,201,72,0.1)]",children:[i.jsx("h3",{className:"text-xl font-medium text-[#F7C948] mb-4",children:"Book Your Ride"}),i.jsx("div",{className:"flex items-center justify-between mb-8",children:is.map((v,x)=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 ${s===x?"bg-[#F7C948] text-[#2A2A2A]":x<s?"bg-[#F7C948]/20 text-[#F7C948]":"bg-white/5 text-white/50"}`,children:i.jsx(v.icon,{className:"w-5 h-5"})}),x<is.length-1&&i.jsx("div",{className:`
                  w-24 h-0.5 mx-2
                  ${x<s?"bg-[#F7C948]/20":"bg-white/5"}
                `})]},v.id))}),i.jsx(zs,{mode:"wait",children:i.jsx(B.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:g()},s)}),i.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[i.jsx(B.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:h,className:"px-6 py-2 rounded-lg bg-night-black/20 text-[#F7C948] hover:bg-night-black/30",children:s===0?"Cancel":"Back"}),i.jsxs("div",{className:"flex items-center gap-2",children:[s===2&&i.jsx("button",{onClick:()=>a({...n,isScheduled:!n.isScheduled}),className:`
                px-4 py-2 rounded-lg text-sm transition-colors
                ${n.isScheduled?"bg-[#F7C948]/20 text-[#F7C948]":"bg-white/5 text-white/50 hover:bg-white/10"}
              `,children:"Schedule for Later"}),i.jsx(B.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:u,disabled:!f()||c,className:`
              px-6 py-2 rounded-lg font-medium transition-all duration-200
              ${f()&&!c?"bg-[#F7C948] text-[#2A2A2A] hover:bg-[#F7C948]/90":"bg-white/5 text-white/50 cursor-not-allowed"}
            `,children:c?"Searching...":s===is.length-1?"Complete Booking":"Next"})]})]})]})},kg=({className:t})=>i.jsxs("div",{className:`flex items-center space-x-2 ${t||""}`,children:[i.jsx("div",{className:"w-2 h-2 bg-[#F7C948] rounded-full animate-bounce [animation-delay:-0.3s]"}),i.jsx("div",{className:"w-2 h-2 bg-[#F7C948] rounded-full animate-bounce [animation-delay:-0.15s]"}),i.jsx("div",{className:"w-2 h-2 bg-[#F7C948] rounded-full animate-bounce"})]});function _g(t){const e=t.toLowerCase();return/^(hi|hello|hey|good\s*(morning|afternoon|evening))/.test(e)?{intent:"greeting"}:/(book|ride|taxi|cab|trip|journey|travel)/i.test(e)?{intent:"booking"}:/(location|address|where|place|current|here|there|somewhere|pickup|dropoff)/i.test(e)?{intent:"location"}:/(pay|payment|card|credit|debit|wallet|cash|money)/i.test(e)?{intent:"payment"}:/^(what|how|when|where|why|who|can|could|would|will|is|are|do|does|did)/i.test(e)?{intent:"query"}:{intent:"default"}}function Cg(t){return["yes","yeah","yep","sure","okay","ok","yup","y"].includes(t.toLowerCase().trim())}function Sg(t,e,s){var a,o,l;const r=e.toLowerCase().trim();if(Cg(r)&&((a=s.lastQuestion)!=null&&a.includes("pickup or dropoff")))return{content:"Would you like this to be your pickup point or dropoff point? Please type 'pickup' or 'dropoff'.",booking:s.pendingLocation?{pickupLocation:s.pendingLocation.type==="pickup"?{name:s.pendingLocation.address,address:s.pendingLocation.address,coordinates:{lat:0,lng:0}}:void 0,dropoffLocation:s.pendingLocation.type==="dropoff"?{name:s.pendingLocation.address,address:s.pendingLocation.address,coordinates:{lat:0,lng:0}}:void 0}:void 0};if(r==="pickup"||r==="dropoff"){if(!s.pendingLocation)return{content:"I'll help you set a location. Please provide the address you'd like to use."};const c=r,d=c==="pickup"?"dropoff":"pickup";return{content:`Great! I've set ${s.pendingLocation.address} as your ${c} point. Could you please provide your ${d} location?`,booking:{[`${c}Location`]:{name:s.pendingLocation.address,address:s.pendingLocation.address,coordinates:{lat:0,lng:0}}}}}const n=Tg(e);if(n)return{content:`Great! I can help you book a ride from ${(o=n.pickupLocation)==null?void 0:o.address} to ${(l=n.dropoffLocation)==null?void 0:l.address}. When would you like to be picked up?`,booking:n};if(r.match(/^[a-z0-9\s,.-]+$/i)&&!r.includes("?"))return{content:"Thanks for providing the location. Would you like to set this as your pickup or dropoff point?",booking:void 0,lastQuestion:"pickup or dropoff",pendingLocation:{address:e.trim(),type:void 0}};switch(t){case"booking":return{content:"I'll help you book a ride. Could you please tell me your pickup location?"};case"location":return{content:"I can help you set your location. Would you like to use your current location, or would you prefer to enter a specific address?"};case"payment":return{content:"I can help you with payments. We accept credit/debit cards and digital wallets. Would you like to add a new payment method or use an existing one?"};case"greeting":return{content:"Hello! I'm your AICABY assistant. I can help you book a ride, find locations, or manage payments. What would you like to do today?"};case"query":return r.includes("how")&&r.includes("book")?{content:"Booking a ride is easy! Just tell me your pickup and dropoff locations, and I'll guide you through the process. Would you like to start booking now?"}:r.includes("payment")?{content:"We accept various payment methods including credit cards, debit cards, and digital wallets. Would you like to know more about a specific payment option?"}:{content:"I'm here to help! I can assist you with booking rides, finding locations, or managing payments. What specific information would you like to know?"};default:return{content:"I'm here to help with your transportation needs. You can ask me about booking a ride, finding locations, or managing payments. What would you like to do?"}}}async function Ag(t,e={}){try{const{intent:s}=_g(t);await new Promise(n=>setTimeout(n,500+Math.random()*500));const r=await Sg(s,t,e);if(!r)throw new Error("No response from AI service");return{...r,lastQuestion:r.lastQuestion,pendingLocation:r.pendingLocation}}catch(s){throw console.error("Error in AI response generation:",s),new Error("Failed to generate AI response. Please try again.")}}function Tg(t){const e=[/from\s+([^,]+(?:,[^,]+)*)/i,/pickup\s+(?:at|from)?\s+([^,]+(?:,[^,]+)*)/i,/starting\s+(?:at|from)?\s+([^,]+(?:,[^,]+)*)/i],s=[/to\s+([^,]+(?:,[^,]+)*)/i,/drop(?:\s+off)?\s+(?:at|to)?\s+([^,]+(?:,[^,]+)*)/i,/going\s+to\s+([^,]+(?:,[^,]+)*)/i];let r=null,n=null;for(const a of e)if(r=t.match(a),r)break;for(const a of s)if(n=t.match(a),n)break;if(r&&n)return{pickupLocation:{address:r[1].trim(),name:r[1].trim(),coordinates:{lat:0,lng:0}},dropoffLocation:{address:n[1].trim(),name:n[1].trim(),coordinates:{lat:0,lng:0}}}}const Pg=()=>{const[t,e]=m.useState(!1),[s,r]=m.useState(""),[n,a]=m.useState(null),o=m.useCallback(()=>{if(!("webkitSpeechRecognition"in window)){a("Speech recognition is not supported in this browser.");return}const c=new window.webkitSpeechRecognition;return c.continuous=!1,c.interimResults=!0,c.lang="en-US",c.onstart=()=>{e(!0),a(null)},c.onresult=d=>{const u=d.resultIndex,h=d.results[u][0].transcript;r(h)},c.onerror=d=>{a(`Error occurred in recognition: ${d.error}`),e(!1)},c.onend=()=>{e(!1)},c.start(),c},[]),l=m.useCallback(c=>{c&&(c.stop(),e(!1))},[]);return{isListening:t,transcript:s,error:n,startListening:o,stopListening:l}},uc=()=>{var q;const[t,e]=m.useState("ai"),[s,r]=m.useState(""),[n,a]=m.useState([{id:"welcome",content:"Hello! I'm your AICABY assistant. How can I help you with your ride today?",sender:"ai",timestamp:new Date,type:"assistant"}]),[o,l]=m.useState(!1),[c,d]=m.useState(!1),{isListening:u,transcript:h,startListening:f,stopListening:g}=Pg(),[v,x]=m.useState(null),_=m.useRef(null),N=m.useRef(null),{user:b}=Ke(),[j,T]=m.useState(null),[C,k]=m.useState({}),E=()=>{const A=new Date().getHours();return A<12?"morning":A<17?"afternoon":"evening"};m.useEffect(()=>{(async()=>{if(b!=null&&b.id)try{const{data:H,error:ae}=await X.from("profiles").select("id, first_name, email").eq("id",b.id).single();if(ae)throw ae;T(H)}catch(H){console.error("Error fetching profile:",H)}})()},[b==null?void 0:b.id]);const V=()=>{var A;(A=_.current)==null||A.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{V()},[n]),m.useEffect(()=>{var A;o||(A=N.current)==null||A.focus()},[o]),m.useEffect(()=>{h&&r(h)},[h]);const Q=[{icon:rt,label:"Location",action:()=>{var A;r("I want to set my pickup location"),(A=N.current)==null||A.focus()}},{icon:fd,label:"Photo",action:()=>{var A;r("I need to report an issue with photos"),(A=N.current)==null||A.focus()}},{icon:Dd,label:"Map",action:()=>{var A;r("Show me the route on map"),(A=N.current)==null||A.focus()}},{icon:kr,label:"Payment",action:()=>{var A;r("I want to manage my payment methods"),(A=N.current)==null||A.focus()}}],G=()=>{if(u)g(v),x(null);else{const A=f();x(A)}},$=async()=>{if(!s.trim())return;d(!0);const A={content:s,sender:"user",timestamp:new Date};a(H=>[...H,A]),r(""),l(!0);try{const H=await Ag(s,C);k({lastQuestion:H.lastQuestion,pendingLocation:H.pendingLocation});const ae={content:H.content,sender:"ai",timestamp:new Date};a(te=>[...te,ae])}catch(H){console.error("Error getting AI response:",H);const ae={content:"I apologize, but I'm having trouble processing your request. Please try again.",sender:"ai",timestamp:new Date};a(te=>[...te,ae])}finally{l(!1)}},L=A=>{A.key==="Enter"&&!A.shiftKey&&!o&&(A.preventDefault(),$())};return i.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#2A2A2A] to-[#1A1A1A] text-white overflow-hidden flex flex-col",children:[i.jsx(Do,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#2A2A2A",color:"#fff",borderRadius:"8px",border:"1px solid rgba(247,201,72,0.2)"},success:{iconTheme:{primary:"#22c55e",secondary:"#2A2A2A"}},error:{iconTheme:{primary:"#ef4444",secondary:"#2A2A2A"}}}}),i.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-[#F7C948]/20 bg-[rgba(42,42,42,0.7)] backdrop-blur-lg",children:[i.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:i.jsx(Me,{className:"w-6 h-6 text-[#F7C948]"})}),i.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-[#F7C948] to-[#FFE17D] bg-clip-text text-transparent",children:"AICABY"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-track-[rgba(255,255,255,0.05)] scrollbar-thumb-[rgba(247,201,72,0.3)] hover:scrollbar-thumb-[rgba(247,201,72,0.5)]",children:i.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8 h-full flex flex-col",children:i.jsxs("div",{className:`space-y-4 mb-4 relative flex-1 ${c?"":"flex items-center justify-center"}`,children:[t==="ai"&&!c&&i.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-yellow-100 flex items-center justify-center mb-4",children:i.jsx("span",{className:"text-3xl",children:""})}),i.jsxs("h1",{className:"text-2xl font-medium mb-2",children:["Good ",E(),", ",(j==null?void 0:j.first_name)||((q=b==null?void 0:b.email)==null?void 0:q.split("@")[0])||"Guest"]}),i.jsx("p",{className:"text-zinc-400",children:"Start chatting to book your ride"})]}),t==="manual"?i.jsxs("div",{className:"w-full",children:[i.jsxs("button",{onClick:()=>e("ai"),className:`mb-6 px-4 py-2.5 flex items-center gap-2 bg-[rgba(247,201,72,0.1)] hover:bg-[rgba(247,201,72,0.2)] 
                           text-[#F7C948] rounded-lg transition-all duration-200 border border-[#F7C948]/20
                           shadow-[0_4px_12px_rgba(247,201,72,0.1)] hover:shadow-[0_4px_16px_rgba(247,201,72,0.2)]
                           transform hover:-translate-y-0.5`,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to AI Booking"]}),i.jsx(Ng,{onComplete:async A=>{var H;try{const{error:ae}=await X.from("bookings").insert([{user_id:b==null?void 0:b.id,pickup_location:A.pickupLocation,dropoff_location:A.dropoffLocation,distance:A.distance||0,duration:A.duration||0,vehicle_type:(H=A.selectedVehicle)==null?void 0:H.id,payment_method:A.paymentMethod,is_scheduled:A.isScheduled,scheduled_time:A.scheduledTime,status:"pending",created_at:new Date().toISOString()}]);if(ae)throw ae;Pt.success("Booking created successfully!"),e("ai")}catch(ae){console.error("Error creating booking:",ae),Pt.error("Failed to create booking. Please try again.")}},onCancel:()=>e("ai")})]}):i.jsxs("div",{className:`space-y-4 w-full ${c?"":"hidden"}`,children:[n.map((A,H)=>i.jsxs("div",{className:`flex items-end gap-2 ${A.sender==="user"?"justify-end":"justify-start"}`,children:[A.sender==="ai"&&i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#F7C948] to-[#2A2A2A] flex items-center justify-center flex-shrink-0 border border-[#F7C948]/20",children:i.jsx("span",{role:"img","aria-label":"AI Assistant",className:"text-sm",children:""})}),i.jsxs("div",{className:`
                        max-w-[80%] rounded-2xl px-4 py-3 
                        ${A.sender==="user"?"bg-gradient-to-br from-[#F7C948] to-[#2A2A2A] text-white ml-auto shadow-lg":"bg-[rgba(255,255,255,0.1)] border border-[#F7C948]/20"}
                      `,children:[i.jsx("p",{className:`
                        text-sm md:text-base tracking-wide
                        ${A.sender==="user"?"font-bold text-white/95":"font-semibold text-white/90"}
                      `,children:typeof A.content=="string"?A.content:JSON.stringify(A.content)}),i.jsx("span",{className:`
                        text-xs mt-1.5 block font-medium
                        ${A.sender==="user"?"text-white/80":"text-[#F7C948]/80"}
                      `,children:A.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),A.sender==="user"&&i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-zinc-700 to-zinc-900 flex items-center justify-center flex-shrink-0 border border-white/10",children:i.jsx("span",{role:"img","aria-label":"User",className:"text-sm",children:""})})]},A.id||H.toString())),o&&i.jsxs("div",{className:"flex justify-start items-end gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#F7C948] to-[#2A2A2A] flex items-center justify-center flex-shrink-0 border border-[#F7C948]/20",children:i.jsx("span",{role:"img","aria-label":"AI Assistant",className:"text-sm",children:""})}),i.jsx("div",{className:"max-w-[80%] rounded-2xl px-4 py-3 bg-[rgba(255,255,255,0.1)] border border-[#F7C948]/20",children:i.jsx(kg,{className:"font-semibold text-white/90"})})]}),i.jsx("div",{ref:_})]})]})})}),i.jsx("div",{className:"border-t border-[#F7C948]/20 bg-[rgba(42,42,42,0.7)] backdrop-blur-lg",children:i.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-6",children:[i.jsxs("div",{className:"mb-0",style:{display:t==="manual"?"none":"block"},children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("button",{onClick:()=>e("ai"),className:`px-4 py-2 rounded-lg text-sm transition-all duration-200 ${t==="ai"?"bg-gradient-to-r from-[#F7C948] to-[#FFE17D] text-[#1A1A1A] font-extrabold shadow-[0_4px_12px_rgba(0,0,0,0.3)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.4)]":"bg-white/5 hover:bg-[rgba(247,201,72,0.1)] text-[#F7C948] font-bold border border-[#F7C948]/20"}`,style:{color:t==="ai"?"#1A1A1A":void 0},disabled:o,children:"AI Booking"}),i.jsx("button",{onClick:()=>e("manual"),className:`px-4 py-2 rounded-lg text-sm transition-all duration-200 ${t==="manual"?"bg-[rgba(255,255,255,0.1)] text-white font-bold border-2 border-[#F7C948] shadow-[0_4px_12px_rgba(247,201,72,0.1)]":"bg-white/5 hover:bg-white/10 text-white/80 font-medium border border-white/10"}`,disabled:o,children:"Manual Booking"})]}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx("div",{className:"flex-1",children:i.jsx("input",{ref:N,type:"text",value:s,onChange:A=>r(A.target.value),onKeyPress:L,placeholder:o?"Please wait for AI's response...":"How can AICABY help you today?",className:"w-full bg-white/5 rounded-lg px-4 py-3 placeholder-[#9CA3AF] focus:outline-none focus:ring-1 focus:ring-[#F7C948]/30 border border-[#F7C948]/20 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,autoFocus:!0})}),i.jsx("button",{className:`p-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${u?"bg-[#F7C948]/20 text-[#F7C948]":"bg-white/5 hover:bg-white/10"}`,onClick:G,disabled:o,children:i.jsx(Vd,{className:`w-5 h-5 ${u?"animate-pulse":""}`})}),i.jsx("button",{onClick:$,disabled:o||!s.trim(),className:"p-3 bg-white/5 hover:bg-white/10 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(zd,{className:"w-5 h-5"})})]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-2 max-w-md mx-auto",children:Q.map((A,H)=>i.jsxs("button",{onClick:A.action,disabled:o,className:"flex items-center justify-center gap-2 px-3 py-2.5 bg-[rgba(42,42,42,0.9)] backdrop-blur-lg rounded-lg hover:bg-[rgba(247,201,72,0.1)] transition-colors border border-[#F7C948]/20 disabled:opacity-50 disabled:cursor-not-allowed group",children:[i.jsx(A.icon,{className:"w-5 h-5 text-[#F7C948]"}),i.jsx("span",{className:"text-sm text-[#F7C948] font-medium",children:A.label})]},H))})]})})]})},Eg=()=>{const[t,e]=m.useState(""),[s,r]=m.useState(""),[n,a]=m.useState(!1),o=async l=>{l.preventDefault(),a(!0);try{const{error:c}=await X.auth.signInWithPassword({email:t,password:s});if(c)throw c;Pt.success("Successfully logged in!")}catch(c){Pt.error(c.message||"Error logging in")}finally{a(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#2A2A2A] to-[#1A1A1A] px-4",children:i.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-[rgba(255,255,255,0.05)] rounded-2xl border border-[#F7C948]/20",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Welcome back"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Or"," ",i.jsx(ie,{to:"/register",className:"font-medium text-[#F7C948] hover:text-[#F7C948]/80",children:"create a new account"})]})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:o,children:[i.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),i.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:l=>e(l.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-[#F7C948]/20 placeholder-gray-500 text-white rounded-t-md focus:outline-none focus:ring-[#F7C948]/50 focus:border-[#F7C948]/50 focus:z-10 sm:text-sm bg-[rgba(255,255,255,0.05)]",placeholder:"Email address"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s,onChange:l=>r(l.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-[#F7C948]/20 placeholder-gray-500 text-white rounded-b-md focus:outline-none focus:ring-[#F7C948]/50 focus:border-[#F7C948]/50 focus:z-10 sm:text-sm bg-[rgba(255,255,255,0.05)]",placeholder:"Password"})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-black bg-[#F7C948] hover:bg-[#F7C948]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F7C948]/50 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Signing in...":"Sign in"})})]})]})})},Rg=()=>{const[t,e]=m.useState(""),[s,r]=m.useState(""),[n,a]=m.useState(""),[o,l]=m.useState(!1),c=async d=>{d.preventDefault(),l(!0);try{const{data:{user:u},error:h}=await X.auth.signUp({email:t,password:s});if(h)throw h;if(u){const{error:f}=await X.from("profiles").insert([{id:u.id,first_name:n,email:t,created_at:new Date().toISOString()}]);if(f)throw f}Pt.success("Registration successful! Please check your email to verify your account.")}catch(u){Pt.error(u.message||"Error during registration")}finally{l(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#2A2A2A] to-[#1A1A1A] px-4",children:i.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-[rgba(255,255,255,0.05)] rounded-2xl border border-[#F7C948]/20",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Create your account"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Or"," ",i.jsx(ie,{to:"/login",className:"font-medium text-[#F7C948] hover:text-[#F7C948]/80",children:"sign in to your account"})]})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[i.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"first-name",className:"sr-only",children:"First Name"}),i.jsx("input",{id:"first-name",name:"firstName",type:"text",required:!0,value:n,onChange:d=>a(d.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-[#F7C948]/20 placeholder-gray-500 text-white rounded-t-md focus:outline-none focus:ring-[#F7C948]/50 focus:border-[#F7C948]/50 focus:z-10 sm:text-sm bg-[rgba(255,255,255,0.05)]",placeholder:"First Name"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),i.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:d=>e(d.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-[#F7C948]/20 placeholder-gray-500 text-white focus:outline-none focus:ring-[#F7C948]/50 focus:border-[#F7C948]/50 focus:z-10 sm:text-sm bg-[rgba(255,255,255,0.05)]",placeholder:"Email address"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:s,onChange:d=>r(d.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-[#F7C948]/20 placeholder-gray-500 text-white rounded-b-md focus:outline-none focus:ring-[#F7C948]/50 focus:border-[#F7C948]/50 focus:z-10 sm:text-sm bg-[rgba(255,255,255,0.05)]",placeholder:"Password"})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-black bg-[#F7C948] hover:bg-[#F7C948]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F7C948]/50 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating account...":"Create account"})})]})]})})},Dg=()=>{const[t,e]=m.useState({isInstallable:!1,isInstalled:!1,isUpdateAvailable:!1}),[s,r]=m.useState(null);return m.useEffect(()=>{const o=window.matchMedia("(display-mode: standalone)").matches;e(u=>({...u,isInstalled:o}));const l=u=>{u.preventDefault(),r(u),e(h=>({...h,isInstallable:!0}))},c=()=>{e(u=>({...u,isInstalled:!0,isInstallable:!1})),r(null),ue.success("App installed successfully!")},d=()=>{e(u=>({...u,isUpdateAvailable:!0})),ue(u=>i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("div",{className:"font-medium",children:"Update Available"}),i.jsx("div",{className:"text-sm opacity-80",children:"A new version is available"}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsx("button",{onClick:()=>{window.location.reload(),ue.dismiss(u.id)},className:"px-3 py-1.5 bg-[#F7C948] text-black text-sm font-medium rounded-lg hover:bg-[#F7C948]/90 transition-colors",children:"Update Now"}),i.jsx("button",{onClick:()=>ue.dismiss(u.id),className:"px-3 py-1.5 bg-white/10 text-white text-sm font-medium rounded-lg hover:bg-white/20 transition-colors",children:"Later"})]})]}),{duration:1/0,position:"bottom-center"})};return window.addEventListener("beforeinstallprompt",l),window.addEventListener("appinstalled",c),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",d),()=>{window.removeEventListener("beforeinstallprompt",l),window.removeEventListener("appinstalled",c),"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("controllerchange",d)}},[]),{...t,installApp:async()=>{if(s)try{s.prompt();const{outcome:o}=await s.userChoice;o==="accepted"&&(e(l=>({...l,isInstalled:!0,isInstallable:!1})),r(null))}catch(o){console.error("Error installing app:",o),ue.error("Failed to install app")}},checkForUpdates:async()=>{"serviceWorker"in navigator&&await(await navigator.serviceWorker.ready).update()}}},Mg=()=>{const{isInstallable:t,isInstalled:e,installApp:s}=Dg();return!t||e?null:i.jsx(zs,{children:i.jsx(B.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{duration:.2},className:"fixed bottom-4 left-4 right-4 z-50",children:i.jsxs("div",{className:"bg-[#2A2A2A] rounded-xl p-4 shadow-xl border border-[#F7C948]/20 backdrop-blur-lg",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{src:"/icons/icon-192x192.png",alt:"AICABY",className:"w-16 h-16 rounded-xl"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:"Install AICABY"}),i.jsx("p",{className:"text-white/80 text-sm mb-4",children:"Install our app for a better experience with quick access and offline features"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-[#F7C948] text-black font-medium rounded-lg hover:bg-[#F7C948]/90 transition-colors",children:[i.jsx(_d,{className:"w-4 h-4"}),"Install Now"]}),i.jsx("button",{onClick:()=>{const r=document.querySelector(".install-prompt");r&&r.remove()},className:"px-4 py-2 bg-white/10 text-white font-medium rounded-lg hover:bg-white/20 transition-colors",children:i.jsx(Xd,{className:"w-4 h-4"})})]})]})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[i.jsx("h4",{className:"text-[#F7C948] font-medium mb-2",children:"Features:"}),i.jsxs("ul",{className:"grid grid-cols-2 gap-2 text-sm text-white/80",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-[#F7C948] rounded-full"}),"Quick access from home screen"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-[#F7C948] rounded-full"}),"Works offline"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-[#F7C948] rounded-full"}),"Push notifications"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-[#F7C948] rounded-full"}),"Faster loading times"]})]})]})]})})})},Fg=()=>{const{user:t,setUser:e}=Ke();return m.useEffect(()=>{X.auth.getSession().then(({data:{session:r}})=>{e((r==null?void 0:r.user)??null)});const{data:{subscription:s}}=X.auth.onAuthStateChange((r,n)=>{e((n==null?void 0:n.user)??null)});return()=>s.unsubscribe()},[]),i.jsx(po,{children:i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#2A2A2A] to-[#1A1A1A]",children:[i.jsx(Mg,{}),i.jsxs(go,{children:[i.jsx(pe,{path:"/",element:t?i.jsx(uc,{}):i.jsx(er,{to:"/login",replace:!0})}),i.jsx(pe,{path:"/login",element:t?i.jsx(er,{to:"/",replace:!0}):i.jsx(Eg,{})}),i.jsx(pe,{path:"/register",element:t?i.jsx(er,{to:"/",replace:!0}):i.jsx(Rg,{})})]})]})})};var qs=t=>t.type==="checkbox",St=t=>t instanceof Date,ke=t=>t==null;const hc=t=>typeof t=="object";var he=t=>!ke(t)&&!Array.isArray(t)&&hc(t)&&!St(t),Ig=t=>he(t)&&t.target?qs(t.target)?t.target.checked:t.target.value:t,Vg=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Lg=(t,e)=>t.has(Vg(e)),Og=t=>{const e=t.constructor&&t.constructor.prototype;return he(e)&&e.hasOwnProperty("isPrototypeOf")},mi=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Re(t){let e;const s=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(mi&&(t instanceof Blob||r))&&(s||he(t)))if(e=s?[]:{},!s&&!Og(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Re(t[n]));else return t;return e}var Er=t=>Array.isArray(t)?t.filter(Boolean):[],me=t=>t===void 0,I=(t,e,s)=>{if(!e||!he(t))return s;const r=Er(e.split(/[,[\].]+?/)).reduce((n,a)=>ke(n)?n:n[a],t);return me(r)||r===t?me(t[e])?s:t[e]:r},Be=t=>typeof t=="boolean",fi=t=>/^\w*$/.test(t),mc=t=>Er(t.replace(/["|']|\]/g,"").split(/\.|\[/)),se=(t,e,s)=>{let r=-1;const n=fi(e)?[e]:mc(e),a=n.length,o=a-1;for(;++r<a;){const l=n[r];let c=s;if(r!==o){const d=t[l];c=he(d)||Array.isArray(d)?d:isNaN(+n[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}return t};const Ga={BLUR:"blur",FOCUS_OUT:"focusout"},Ie={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qe={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Ne.createContext(null);var Bg=(t,e,s,r=!0)=>{const n={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(n,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Ie.all&&(e._proxyFormState[o]=!r||Ie.all),t[o]}});return n},Ae=t=>he(t)&&!Object.keys(t).length,zg=(t,e,s,r)=>{s(t);const{name:n,...a}=t;return Ae(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===Ie.all)},ir=t=>Array.isArray(t)?t:[t];function $g(t){const e=Ne.useRef(t);e.current=t,Ne.useEffect(()=>{const s=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{s&&s.unsubscribe()}},[t.disabled])}var $e=t=>typeof t=="string",Ug=(t,e,s,r,n)=>$e(t)?(r&&e.watch.add(t),I(s,t,n)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),I(s,a))):(r&&(e.watchAll=!0),s),fc=(t,e,s,r,n)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[r]:n||!0}}:{},Ja=t=>({isOnSubmit:!t||t===Ie.onSubmit,isOnBlur:t===Ie.onBlur,isOnChange:t===Ie.onChange,isOnAll:t===Ie.all,isOnTouch:t===Ie.onTouched}),Xa=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const xs=(t,e,s,r)=>{for(const n of s||Object.keys(t)){const a=I(t,n);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(xs(l,e))break}else if(he(l)&&xs(l,e))break}}};var Wg=(t,e,s)=>{const r=ir(I(t,s));return se(r,"root",e[s]),se(t,s,r),t},pi=t=>t.type==="file",ze=t=>typeof t=="function",fr=t=>{if(!mi)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ar=t=>$e(t),gi=t=>t.type==="radio",pr=t=>t instanceof RegExp;const Qa={value:!1,isValid:!1},eo={value:!0,isValid:!0};var pc=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!me(t[0].attributes.value)?me(t[0].value)||t[0].value===""?eo:{value:t[0].value,isValid:!0}:eo:Qa}return Qa};const to={isValid:!1,value:null};var gc=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,to):to;function so(t,e,s="validate"){if(ar(t)||Array.isArray(t)&&t.every(ar)||Be(t)&&!t)return{type:s,message:ar(t)?t:"",ref:e}}var It=t=>he(t)&&!pr(t)?t:{value:t,message:""},ro=async(t,e,s,r,n,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:g,validate:v,name:x,valueAsNumber:_,mount:N}=t._f,b=I(s,x);if(!N||e.has(x))return{};const j=l?l[0]:o,T=L=>{n&&j.reportValidity&&(j.setCustomValidity(Be(L)?"":L||""),j.reportValidity())},C={},k=gi(o),E=qs(o),V=k||E,Q=(_||pi(o))&&me(o.value)&&me(b)||fr(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,G=fc.bind(null,x,r,C),$=(L,q,A,H=Qe.maxLength,ae=Qe.minLength)=>{const te=L?q:A;C[x]={type:L?H:ae,message:te,ref:o,...G(L?H:ae,te)}};if(a?!Array.isArray(b)||!b.length:c&&(!V&&(Q||ke(b))||Be(b)&&!b||E&&!pc(l).isValid||k&&!gc(l).isValid)){const{value:L,message:q}=ar(c)?{value:!!c,message:c}:It(c);if(L&&(C[x]={type:Qe.required,message:q,ref:j,...G(Qe.required,q)},!r))return T(q),C}if(!Q&&(!ke(h)||!ke(f))){let L,q;const A=It(f),H=It(h);if(!ke(b)&&!isNaN(b)){const ae=o.valueAsNumber||b&&+b;ke(A.value)||(L=ae>A.value),ke(H.value)||(q=ae<H.value)}else{const ae=o.valueAsDate||new Date(b),te=Je=>new Date(new Date().toDateString()+" "+Je),je=o.type=="time",Ge=o.type=="week";$e(A.value)&&b&&(L=je?te(b)>te(A.value):Ge?b>A.value:ae>new Date(A.value)),$e(H.value)&&b&&(q=je?te(b)<te(H.value):Ge?b<H.value:ae<new Date(H.value))}if((L||q)&&($(!!L,A.message,H.message,Qe.max,Qe.min),!r))return T(C[x].message),C}if((d||u)&&!Q&&($e(b)||a&&Array.isArray(b))){const L=It(d),q=It(u),A=!ke(L.value)&&b.length>+L.value,H=!ke(q.value)&&b.length<+q.value;if((A||H)&&($(A,L.message,q.message),!r))return T(C[x].message),C}if(g&&!Q&&$e(b)){const{value:L,message:q}=It(g);if(pr(L)&&!b.match(L)&&(C[x]={type:Qe.pattern,message:q,ref:o,...G(Qe.pattern,q)},!r))return T(q),C}if(v){if(ze(v)){const L=await v(b,s),q=so(L,j);if(q&&(C[x]={...q,...G(Qe.validate,q.message)},!r))return T(q.message),C}else if(he(v)){let L={};for(const q in v){if(!Ae(L)&&!r)break;const A=so(await v[q](b,s),j,q);A&&(L={...A,...G(q,A.message)},T(A.message),r&&(C[x]=L))}if(!Ae(L)&&(C[x]={ref:j,...L},!r))return C}}return T(!0),C};function Zg(t,e){const s=e.slice(0,-1).length;let r=0;for(;r<s;)t=me(t)?r++:t[e[r++]];return t}function qg(t){for(const e in t)if(t.hasOwnProperty(e)&&!me(t[e]))return!1;return!0}function fe(t,e){const s=Array.isArray(e)?e:fi(e)?[e]:mc(e),r=s.length===1?t:Zg(t,s),n=s.length-1,a=s[n];return r&&delete r[a],n!==0&&(he(r)&&Ae(r)||Array.isArray(r)&&qg(r))&&fe(t,s.slice(0,-1)),t}var en=()=>{let t=[];return{get observers(){return t},next:n=>{for(const a of t)a.next&&a.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(a=>a!==n)}}),unsubscribe:()=>{t=[]}}},kn=t=>ke(t)||!hc(t);function ht(t,e){if(kn(t)||kn(e))return t===e;if(St(t)&&St(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(const n of s){const a=t[n];if(!r.includes(n))return!1;if(n!=="ref"){const o=e[n];if(St(a)&&St(o)||he(a)&&he(o)||Array.isArray(a)&&Array.isArray(o)?!ht(a,o):a!==o)return!1}}return!0}var xc=t=>t.type==="select-multiple",Hg=t=>gi(t)||qs(t),tn=t=>fr(t)&&t.isConnected,yc=t=>{for(const e in t)if(ze(t[e]))return!0;return!1};function gr(t,e={}){const s=Array.isArray(t);if(he(t)||s)for(const r in t)Array.isArray(t[r])||he(t[r])&&!yc(t[r])?(e[r]=Array.isArray(t[r])?[]:{},gr(t[r],e[r])):ke(t[r])||(e[r]=!0);return e}function vc(t,e,s){const r=Array.isArray(t);if(he(t)||r)for(const n in t)Array.isArray(t[n])||he(t[n])&&!yc(t[n])?me(e)||kn(s[n])?s[n]=Array.isArray(t[n])?gr(t[n],[]):{...gr(t[n])}:vc(t[n],ke(e)?{}:e[n],s[n]):s[n]=!ht(t[n],e[n]);return s}var as=(t,e)=>vc(t,e,gr(e)),bc=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:r})=>me(t)?t:e?t===""?NaN:t&&+t:s&&$e(t)?new Date(t):r?r(t):t;function sn(t){const e=t.ref;return pi(e)?e.files:gi(e)?gc(t.refs).value:xc(e)?[...e.selectedOptions].map(({value:s})=>s):qs(e)?pc(t.refs).value:bc(me(e.value)?t.ref.value:e.value,t)}var Yg=(t,e,s,r)=>{const n={};for(const a of t){const o=I(e,a);o&&se(n,a,o._f)}return{criteriaMode:s,names:[...t],fields:n,shouldUseNativeValidation:r}},os=t=>me(t)?t:pr(t)?t.source:he(t)?pr(t.value)?t.value.source:t.value:t;const no="AsyncFunction";var Kg=t=>!!t&&!!t.validate&&!!(ze(t.validate)&&t.validate.constructor.name===no||he(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===no)),Gg=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function io(t,e,s){const r=I(t,s);if(r||fi(s))return{error:r,name:s};const n=s.split(".");for(;n.length;){const a=n.join("."),o=I(e,a),l=I(t,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};n.pop()}return{name:s}}var Jg=(t,e,s,r,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(e||t):(s?r.isOnBlur:n.isOnBlur)?!t:(s?r.isOnChange:n.isOnChange)?t:!0,Xg=(t,e)=>!Er(I(t,e)).length&&fe(t,e);const Qg={mode:Ie.onSubmit,reValidateMode:Ie.onChange,shouldFocusError:!0};function ex(t={}){let e={...Qg,...t},s={submitCount:0,isDirty:!1,isLoading:ze(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},n=he(e.defaultValues)||he(e.values)?Re(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Re(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:en(),array:en(),state:en()},f=Ja(e.mode),g=Ja(e.reValidateMode),v=e.criteriaMode===Ie.all,x=p=>y=>{clearTimeout(d),d=setTimeout(p,y)},_=async p=>{if(!e.disabled&&(u.isValid||p)){const y=e.resolver?Ae((await V()).errors):await G(r,!0);y!==s.isValid&&h.state.next({isValid:y})}},N=(p,y)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((p||Array.from(l.mount)).forEach(w=>{w&&(y?se(s.validatingFields,w,y):fe(s.validatingFields,w))}),h.state.next({validatingFields:s.validatingFields,isValidating:!Ae(s.validatingFields)}))},b=(p,y=[],w,M,R=!0,P=!0)=>{if(M&&w&&!e.disabled){if(o.action=!0,P&&Array.isArray(I(r,p))){const z=w(I(r,p),M.argA,M.argB);R&&se(r,p,z)}if(P&&Array.isArray(I(s.errors,p))){const z=w(I(s.errors,p),M.argA,M.argB);R&&se(s.errors,p,z),Xg(s.errors,p)}if(u.touchedFields&&P&&Array.isArray(I(s.touchedFields,p))){const z=w(I(s.touchedFields,p),M.argA,M.argB);R&&se(s.touchedFields,p,z)}u.dirtyFields&&(s.dirtyFields=as(n,a)),h.state.next({name:p,isDirty:L(p,y),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else se(a,p,y)},j=(p,y)=>{se(s.errors,p,y),h.state.next({errors:s.errors})},T=p=>{s.errors=p,h.state.next({errors:s.errors,isValid:!1})},C=(p,y,w,M)=>{const R=I(r,p);if(R){const P=I(a,p,me(w)?I(n,p):w);me(P)||M&&M.defaultChecked||y?se(a,p,y?P:sn(R._f)):H(p,P),o.mount&&_()}},k=(p,y,w,M,R)=>{let P=!1,z=!1;const J={name:p};if(!e.disabled){const ge=!!(I(r,p)&&I(r,p)._f&&I(r,p)._f.disabled);if(!w||M){u.isDirty&&(z=s.isDirty,s.isDirty=J.isDirty=L(),P=z!==J.isDirty);const xe=ge||ht(I(n,p),y);z=!!(!ge&&I(s.dirtyFields,p)),xe||ge?fe(s.dirtyFields,p):se(s.dirtyFields,p,!0),J.dirtyFields=s.dirtyFields,P=P||u.dirtyFields&&z!==!xe}if(w){const xe=I(s.touchedFields,p);xe||(se(s.touchedFields,p,w),J.touchedFields=s.touchedFields,P=P||u.touchedFields&&xe!==w)}P&&R&&h.state.next(J)}return P?J:{}},E=(p,y,w,M)=>{const R=I(s.errors,p),P=u.isValid&&Be(y)&&s.isValid!==y;if(e.delayError&&w?(c=x(()=>j(p,w)),c(e.delayError)):(clearTimeout(d),c=null,w?se(s.errors,p,w):fe(s.errors,p)),(w?!ht(R,w):R)||!Ae(M)||P){const z={...M,...P&&Be(y)?{isValid:y}:{},errors:s.errors,name:p};s={...s,...z},h.state.next(z)}},V=async p=>{N(p,!0);const y=await e.resolver(a,e.context,Yg(p||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return N(p),y},Q=async p=>{const{errors:y}=await V(p);if(p)for(const w of p){const M=I(y,w);M?se(s.errors,w,M):fe(s.errors,w)}else s.errors=y;return y},G=async(p,y,w={valid:!0})=>{for(const M in p){const R=p[M];if(R){const{_f:P,...z}=R;if(P){const J=l.array.has(P.name),ge=R._f&&Kg(R._f);ge&&u.validatingFields&&N([M],!0);const xe=await ro(R,l.disabled,a,v,e.shouldUseNativeValidation&&!y,J);if(ge&&u.validatingFields&&N([M]),xe[P.name]&&(w.valid=!1,y))break;!y&&(I(xe,P.name)?J?Wg(s.errors,xe,P.name):se(s.errors,P.name,xe[P.name]):fe(s.errors,P.name))}!Ae(z)&&await G(z,y,w)}}return w.valid},$=()=>{for(const p of l.unMount){const y=I(r,p);y&&(y._f.refs?y._f.refs.every(w=>!tn(w)):!tn(y._f.ref))&&Mr(p)}l.unMount=new Set},L=(p,y)=>!e.disabled&&(p&&y&&se(a,p,y),!ht(yi(),n)),q=(p,y,w)=>Ug(p,l,{...o.mount?a:me(y)?n:$e(p)?{[p]:y}:y},w,y),A=p=>Er(I(o.mount?a:n,p,e.shouldUnregister?I(n,p,[]):[])),H=(p,y,w={})=>{const M=I(r,p);let R=y;if(M){const P=M._f;P&&(!P.disabled&&se(a,p,bc(y,P)),R=fr(P.ref)&&ke(y)?"":y,xc(P.ref)?[...P.ref.options].forEach(z=>z.selected=R.includes(z.value)):P.refs?qs(P.ref)?P.refs.length>1?P.refs.forEach(z=>(!z.defaultChecked||!z.disabled)&&(z.checked=Array.isArray(R)?!!R.find(J=>J===z.value):R===z.value)):P.refs[0]&&(P.refs[0].checked=!!R):P.refs.forEach(z=>z.checked=z.value===R):pi(P.ref)?P.ref.value="":(P.ref.value=R,P.ref.type||h.values.next({name:p,values:{...a}})))}(w.shouldDirty||w.shouldTouch)&&k(p,R,w.shouldTouch,w.shouldDirty,!0),w.shouldValidate&&Je(p)},ae=(p,y,w)=>{for(const M in y){const R=y[M],P=`${p}.${M}`,z=I(r,P);(l.array.has(p)||he(R)||z&&!z._f)&&!St(R)?ae(P,R,w):H(P,R,w)}},te=(p,y,w={})=>{const M=I(r,p),R=l.array.has(p),P=Re(y);se(a,p,P),R?(h.array.next({name:p,values:{...a}}),(u.isDirty||u.dirtyFields)&&w.shouldDirty&&h.state.next({name:p,dirtyFields:as(n,a),isDirty:L(p,P)})):M&&!M._f&&!ke(P)?ae(p,P,w):H(p,P,w),Xa(p,l)&&h.state.next({...s}),h.values.next({name:o.mount?p:void 0,values:{...a}})},je=async p=>{o.mount=!0;const y=p.target;let w=y.name,M=!0;const R=I(r,w),P=()=>y.type?sn(R._f):Ig(p),z=J=>{M=Number.isNaN(J)||St(J)&&isNaN(J.getTime())||ht(J,I(a,w,J))};if(R){let J,ge;const xe=P(),ct=p.type===Ga.BLUR||p.type===Ga.FOCUS_OUT,Oc=!Gg(R._f)&&!e.resolver&&!I(s.errors,w)&&!R._f.deps||Jg(ct,I(s.touchedFields,w),s.isSubmitted,g,f),Ir=Xa(w,l,ct);se(a,w,xe),ct?(R._f.onBlur&&R._f.onBlur(p),c&&c(0)):R._f.onChange&&R._f.onChange(p);const Vr=k(w,xe,ct,!1),Bc=!Ae(Vr)||Ir;if(!ct&&h.values.next({name:w,type:p.type,values:{...a}}),Oc)return u.isValid&&(e.mode==="onBlur"&&ct?_():ct||_()),Bc&&h.state.next({name:w,...Ir?{}:Vr});if(!ct&&Ir&&h.state.next({...s}),e.resolver){const{errors:Ci}=await V([w]);if(z(xe),M){const zc=io(s.errors,r,w),Si=io(Ci,r,zc.name||w);J=Si.error,w=Si.name,ge=Ae(Ci)}}else N([w],!0),J=(await ro(R,l.disabled,a,v,e.shouldUseNativeValidation))[w],N([w]),z(xe),M&&(J?ge=!1:u.isValid&&(ge=await G(r,!0)));M&&(R._f.deps&&Je(R._f.deps),E(w,ge,J,Vr))}},Ge=(p,y)=>{if(I(s.errors,y)&&p.focus)return p.focus(),1},Je=async(p,y={})=>{let w,M;const R=ir(p);if(e.resolver){const P=await Q(me(p)?p:R);w=Ae(P),M=p?!R.some(z=>I(P,z)):w}else p?(M=(await Promise.all(R.map(async P=>{const z=I(r,P);return await G(z&&z._f?{[P]:z}:z)}))).every(Boolean),!(!M&&!s.isValid)&&_()):M=w=await G(r);return h.state.next({...!$e(p)||u.isValid&&w!==s.isValid?{}:{name:p},...e.resolver||!p?{isValid:w}:{},errors:s.errors}),y.shouldFocus&&!M&&xs(r,Ge,p?R:l.mount),M},yi=p=>{const y={...o.mount?a:n};return me(p)?y:$e(p)?I(y,p):p.map(w=>I(y,w))},vi=(p,y)=>({invalid:!!I((y||s).errors,p),isDirty:!!I((y||s).dirtyFields,p),error:I((y||s).errors,p),isValidating:!!I(s.validatingFields,p),isTouched:!!I((y||s).touchedFields,p)}),Fc=p=>{p&&ir(p).forEach(y=>fe(s.errors,y)),h.state.next({errors:p?s.errors:{}})},bi=(p,y,w)=>{const M=(I(r,p,{_f:{}})._f||{}).ref,R=I(s.errors,p)||{},{ref:P,message:z,type:J,...ge}=R;se(s.errors,p,{...ge,...y,ref:M}),h.state.next({name:p,errors:s.errors,isValid:!1}),w&&w.shouldFocus&&M&&M.focus&&M.focus()},Ic=(p,y)=>ze(p)?h.values.subscribe({next:w=>p(q(void 0,y),w)}):q(p,y,!0),Mr=(p,y={})=>{for(const w of p?ir(p):l.mount)l.mount.delete(w),l.array.delete(w),y.keepValue||(fe(r,w),fe(a,w)),!y.keepError&&fe(s.errors,w),!y.keepDirty&&fe(s.dirtyFields,w),!y.keepTouched&&fe(s.touchedFields,w),!y.keepIsValidating&&fe(s.validatingFields,w),!e.shouldUnregister&&!y.keepDefaultValue&&fe(n,w);h.values.next({values:{...a}}),h.state.next({...s,...y.keepDirty?{isDirty:L()}:{}}),!y.keepIsValid&&_()},wi=({disabled:p,name:y,field:w,fields:M})=>{(Be(p)&&o.mount||p||l.disabled.has(y))&&(p?l.disabled.add(y):l.disabled.delete(y),k(y,sn(w?w._f:I(M,y)._f),!1,!1,!0))},Fr=(p,y={})=>{let w=I(r,p);const M=Be(y.disabled)||Be(e.disabled);return se(r,p,{...w||{},_f:{...w&&w._f?w._f:{ref:{name:p}},name:p,mount:!0,...y}}),l.mount.add(p),w?wi({field:w,disabled:Be(y.disabled)?y.disabled:e.disabled,name:p}):C(p,!0,y.value),{...M?{disabled:y.disabled||e.disabled}:{},...e.progressive?{required:!!y.required,min:os(y.min),max:os(y.max),minLength:os(y.minLength),maxLength:os(y.maxLength),pattern:os(y.pattern)}:{},name:p,onChange:je,onBlur:je,ref:R=>{if(R){Fr(p,y),w=I(r,p);const P=me(R.value)&&R.querySelectorAll&&R.querySelectorAll("input,select,textarea")[0]||R,z=Hg(P),J=w._f.refs||[];if(z?J.find(ge=>ge===P):P===w._f.ref)return;se(r,p,{_f:{...w._f,...z?{refs:[...J.filter(tn),P,...Array.isArray(I(n,p))?[{}]:[]],ref:{type:P.type,name:p}}:{ref:P}}}),C(p,!1,void 0,P)}else w=I(r,p,{}),w._f&&(w._f.mount=!1),(e.shouldUnregister||y.shouldUnregister)&&!(Lg(l.array,p)&&o.action)&&l.unMount.add(p)}}},ji=()=>e.shouldFocusError&&xs(r,Ge,l.mount),Vc=p=>{Be(p)&&(h.state.next({disabled:p}),xs(r,(y,w)=>{const M=I(r,w);M&&(y.disabled=M._f.disabled||p,Array.isArray(M._f.refs)&&M._f.refs.forEach(R=>{R.disabled=M._f.disabled||p}))},0,!1))},Ni=(p,y)=>async w=>{let M;w&&(w.preventDefault&&w.preventDefault(),w.persist&&w.persist());let R=Re(a);if(l.disabled.size)for(const P of l.disabled)se(R,P,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:P,values:z}=await V();s.errors=P,R=z}else await G(r);if(fe(s.errors,"root"),Ae(s.errors)){h.state.next({errors:{}});try{await p(R,w)}catch(P){M=P}}else y&&await y({...s.errors},w),ji(),setTimeout(ji);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ae(s.errors)&&!M,submitCount:s.submitCount+1,errors:s.errors}),M)throw M},Lc=(p,y={})=>{I(r,p)&&(me(y.defaultValue)?te(p,Re(I(n,p))):(te(p,y.defaultValue),se(n,p,Re(y.defaultValue))),y.keepTouched||fe(s.touchedFields,p),y.keepDirty||(fe(s.dirtyFields,p),s.isDirty=y.defaultValue?L(p,Re(I(n,p))):L()),y.keepError||(fe(s.errors,p),u.isValid&&_()),h.state.next({...s}))},ki=(p,y={})=>{const w=p?Re(p):n,M=Re(w),R=Ae(p),P=R?n:M;if(y.keepDefaultValues||(n=w),!y.keepValues){if(y.keepDirtyValues){const z=new Set([...l.mount,...Object.keys(as(n,a))]);for(const J of Array.from(z))I(s.dirtyFields,J)?se(P,J,I(a,J)):te(J,I(P,J))}else{if(mi&&me(p))for(const z of l.mount){const J=I(r,z);if(J&&J._f){const ge=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(fr(ge)){const xe=ge.closest("form");if(xe){xe.reset();break}}}}r={}}a=e.shouldUnregister?y.keepDefaultValues?Re(n):{}:Re(P),h.array.next({values:{...P}}),h.values.next({values:{...P}})}l={mount:y.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!y.keepIsValid||!!y.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:y.keepSubmitCount?s.submitCount:0,isDirty:R?!1:y.keepDirty?s.isDirty:!!(y.keepDefaultValues&&!ht(p,n)),isSubmitted:y.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:R?{}:y.keepDirtyValues?y.keepDefaultValues&&a?as(n,a):s.dirtyFields:y.keepDefaultValues&&p?as(n,p):y.keepDirty?s.dirtyFields:{},touchedFields:y.keepTouched?s.touchedFields:{},errors:y.keepErrors?s.errors:{},isSubmitSuccessful:y.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},_i=(p,y)=>ki(ze(p)?p(a):p,y);return{control:{register:Fr,unregister:Mr,getFieldState:vi,handleSubmit:Ni,setError:bi,_executeSchema:V,_getWatch:q,_getDirty:L,_updateValid:_,_removeUnmounted:$,_updateFieldArray:b,_updateDisabledField:wi,_getFieldArray:A,_reset:ki,_resetDefaultValues:()=>ze(e.defaultValues)&&e.defaultValues().then(p=>{_i(p,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:p=>{s={...s,...p}},_disableForm:Vc,_subjects:h,_proxyFormState:u,_setErrors:T,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(p){o=p},get _defaultValues(){return n},get _names(){return l},set _names(p){l=p},get _formState(){return s},set _formState(p){s=p},get _options(){return e},set _options(p){e={...e,...p}}},trigger:Je,register:Fr,handleSubmit:Ni,watch:Ic,setValue:te,getValues:yi,reset:_i,resetField:Lc,clearErrors:Fc,unregister:Mr,setError:bi,setFocus:(p,y={})=>{const w=I(r,p),M=w&&w._f;if(M){const R=M.refs?M.refs[0]:M.ref;R.focus&&(R.focus(),y.shouldSelect&&ze(R.select)&&R.select())}},getFieldState:vi}}function Jt(t={}){const e=Ne.useRef(void 0),s=Ne.useRef(void 0),[r,n]=Ne.useState({isDirty:!1,isValidating:!1,isLoading:ze(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ze(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...ex(t),formState:r});const a=e.current.control;return a._options=t,$g({subject:a._subjects.state,next:o=>{zg(o,a._proxyFormState,a._updateFormState)&&n({...a._formState})}}),Ne.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Ne.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),Ne.useEffect(()=>{t.values&&!ht(t.values,s.current)?(a._reset(t.values,a._options.resetOptions),s.current=t.values,n(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),Ne.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),Ne.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Ne.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=Bg(r,a),e.current}const ao=(t,e,s)=>{if(t&&"reportValidity"in t){const r=I(s,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},wc=(t,e)=>{for(const s in e.fields){const r=e.fields[s];r&&r.ref&&"reportValidity"in r.ref?ao(r.ref,s,t):r&&r.refs&&r.refs.forEach(n=>ao(n,s,t))}},tx=(t,e)=>{e.shouldUseNativeValidation&&wc(t,e);const s={};for(const r in t){const n=I(e.fields,r),a=Object.assign(t[r]||{},{ref:n&&n.ref});if(sx(e.names||Object.keys(t),r)){const o=Object.assign({},I(s,r));se(o,"root",a),se(s,r,o)}else se(s,r,a)}return s},sx=(t,e)=>t.some(s=>s.match(`^${e}\\.\\d+`));function rx(t,e){for(var s={};t.length;){var r=t[0],n=r.code,a=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:a,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=s[o].types,d=c&&c[r.code];s[o]=fc(o,e,s,n,d?[].concat(d,r.message):r.message)}t.shift()}return s}function Rr(t,e,s){return s===void 0&&(s={}),function(r,n,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&wc({},a),{errors:{},values:s.raw?Object.assign({},r):d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:tx(rx(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}}var ee;(function(t){t.assertEqual=n=>n;function e(n){}t.assertIs=e;function s(n){throw new Error}t.assertNever=s,t.arrayToEnum=n=>{const a={};for(const o of n)a[o]=o;return a},t.getValidEnumValues=n=>{const a=t.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of a)o[l]=n[l];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(a){return n[a]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&a.push(o);return a},t.find=(n,a)=>{for(const o of n)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function r(n,a=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(ee||(ee={}));var _n;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(_n||(_n={}));const F=ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),st=t=>{switch(typeof t){case"undefined":return F.undefined;case"string":return F.string;case"number":return isNaN(t)?F.nan:F.number;case"boolean":return F.boolean;case"function":return F.function;case"bigint":return F.bigint;case"symbol":return F.symbol;case"object":return Array.isArray(t)?F.array:t===null?F.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?F.promise:typeof Map<"u"&&t instanceof Map?F.map:typeof Set<"u"&&t instanceof Set?F.set:typeof Date<"u"&&t instanceof Date?F.date:F.object;default:return F.unknown}},S=ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),nx=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Pe extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(a){return a.message},r={_errors:[]},n=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),r}static assert(e){if(!(e instanceof Pe))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},r=[];for(const n of this.issues)n.path.length>0?(s[n.path[0]]=s[n.path[0]]||[],s[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}Pe.create=t=>new Pe(t);const Xt=(t,e)=>{let s;switch(t.code){case S.invalid_type:t.received===F.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case S.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,ee.jsonStringifyReplacer)}`;break;case S.unrecognized_keys:s=`Unrecognized key(s) in object: ${ee.joinValues(t.keys,", ")}`;break;case S.invalid_union:s="Invalid input";break;case S.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${ee.joinValues(t.options)}`;break;case S.invalid_enum_value:s=`Invalid enum value. Expected ${ee.joinValues(t.options)}, received '${t.received}'`;break;case S.invalid_arguments:s="Invalid function arguments";break;case S.invalid_return_type:s="Invalid function return type";break;case S.invalid_date:s="Invalid date";break;case S.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:ee.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case S.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case S.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case S.custom:s="Invalid input";break;case S.invalid_intersection_types:s="Intersection results could not be merged";break;case S.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case S.not_finite:s="Number must be finite";break;default:s=e.defaultError,ee.assertNever(t)}return{message:s}};let jc=Xt;function ix(t){jc=t}function xr(){return jc}const yr=t=>{const{data:e,path:s,errorMaps:r,issueData:n}=t,a=[...s,...n.path||[]],o={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...n,path:a,message:l}},ax=[];function D(t,e){const s=xr(),r=yr({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===Xt?void 0:Xt].filter(n=>!!n)});t.common.issues.push(r)}class we{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const r=[];for(const n of s){if(n.status==="aborted")return Z;n.status==="dirty"&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,s){const r=[];for(const n of s){const a=await n.key,o=await n.value;r.push({key:a,value:o})}return we.mergeObjectSync(e,r)}static mergeObjectSync(e,s){const r={};for(const n of s){const{key:a,value:o}=n;if(a.status==="aborted"||o.status==="aborted")return Z;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const Z=Object.freeze({status:"aborted"}),Zt=t=>({status:"dirty",value:t}),Se=t=>({status:"valid",value:t}),Cn=t=>t.status==="aborted",Sn=t=>t.status==="dirty",Et=t=>t.status==="valid",Cs=t=>typeof Promise<"u"&&t instanceof Promise;function vr(t,e,s,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Nc(t,e,s,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,s),s}var O;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(O||(O={}));var ds,us;class He{constructor(e,s,r,n){this._cachedPath=[],this.parent=e,this.data=s,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const oo=(t,e)=>{if(Et(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Pe(t.common.issues);return this._error=s,this._error}}};function Y(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:r,description:n}=t;if(e&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,l)=>{var c,d;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??s)!==null&&d!==void 0?d:l.defaultError}},description:n}}class K{get description(){return this._def.description}_getType(e){return st(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:st(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new we,ctx:{common:e.parent.common,data:e.data,parsedType:st(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(Cs(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const r=this.safeParse(e,s);if(r.success)return r.data;throw r.error}safeParse(e,s){var r;const n={common:{issues:[],async:(r=s==null?void 0:s.async)!==null&&r!==void 0?r:!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:st(e)},a=this._parseSync({data:e,path:n.path,parent:n});return oo(n,a)}"~validate"(e){var s,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:st(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Et(a)?{value:a.value}:{issues:n.common.issues}}catch(a){!((r=(s=a==null?void 0:a.message)===null||s===void 0?void 0:s.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Et(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,s){const r=await this.safeParseAsync(e,s);if(r.success)return r.data;throw r.error}async safeParseAsync(e,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:st(e)},n=this._parse({data:e,path:r.path,parent:r}),a=await(Cs(n)?n:Promise.resolve(n));return oo(r,a)}refine(e,s){const r=n=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(n):s;return this._refinement((n,a)=>{const o=e(n),l=()=>a.addIssue({code:S.custom,...r(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((r,n)=>e(r)?!0:(n.addIssue(typeof s=="function"?s(r,n):s),!1))}_refinement(e){return new Oe({schema:this,typeName:W.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Ze.create(this,this._def)}nullable(){return vt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Le.create(this)}promise(){return es.create(this,this._def)}or(e){return Ps.create([this,e],this._def)}and(e){return Es.create(this,e,this._def)}transform(e){return new Oe({...Y(this._def),schema:this,typeName:W.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new Is({...Y(this._def),innerType:this,defaultValue:s,typeName:W.ZodDefault})}brand(){return new xi({typeName:W.ZodBranded,type:this,...Y(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new Vs({...Y(this._def),innerType:this,catchValue:s,typeName:W.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return Hs.create(this,e)}readonly(){return Ls.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ox=/^c[^\s-]{8,}$/i,lx=/^[0-9a-z]+$/,cx=/^[0-9A-HJKMNP-TV-Z]{26}$/i,dx=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ux=/^[a-z0-9_-]{21}$/i,hx=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,mx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,px="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rn;const gx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,yx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bx=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wx=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,kc="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jx=new RegExp(`^${kc}$`);function _c(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Nx(t){return new RegExp(`^${_c(t)}$`)}function Cc(t){let e=`${kc}T${_c(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function kx(t,e){return!!((e==="v4"||!e)&&gx.test(t)||(e==="v6"||!e)&&yx.test(t))}function _x(t,e){if(!hx.test(t))return!1;try{const[s]=t.split("."),r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(r));return!(typeof n!="object"||n===null||!n.typ||!n.alg||e&&n.alg!==e)}catch{return!1}}function Cx(t,e){return!!((e==="v4"||!e)&&xx.test(t)||(e==="v6"||!e)&&vx.test(t))}class Ve extends K{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==F.string){const a=this._getOrReturnCtx(e);return D(a,{code:S.invalid_type,expected:F.string,received:a.parsedType}),Z}const r=new we;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:S.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:S.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(n=this._getOrReturnCtx(e,n),o?D(n,{code:S.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&D(n,{code:S.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")fx.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"email",code:S.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")rn||(rn=new RegExp(px,"u")),rn.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"emoji",code:S.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")dx.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"uuid",code:S.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")ux.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"nanoid",code:S.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")ox.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"cuid",code:S.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")lx.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"cuid2",code:S.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")cx.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"ulid",code:S.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),D(n,{validation:"url",code:S.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"regex",code:S.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),D(n,{code:S.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),D(n,{code:S.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),D(n,{code:S.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Cc(a).test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{code:S.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?jx.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{code:S.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Nx(a).test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{code:S.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?mx.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"duration",code:S.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?kx(e.data,a.version)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"ip",code:S.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?_x(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"jwt",code:S.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Cx(e.data,a.version)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"cidr",code:S.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?bx.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"base64",code:S.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?wx.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"base64url",code:S.invalid_string,message:a.message}),r.dirty()):ee.assertNever(a);return{status:r.value,value:e.data}}_regex(e,s,r){return this.refinement(n=>e.test(n),{validation:s,code:S.invalid_string,...O.errToObj(r)})}_addCheck(e){return new Ve({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...O.errToObj(e)})}url(e){return this._addCheck({kind:"url",...O.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...O.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...O.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...O.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...O.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...O.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...O.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...O.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...O.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...O.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...O.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...O.errToObj(e)})}datetime(e){var s,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(s=e==null?void 0:e.offset)!==null&&s!==void 0?s:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...O.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...O.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...O.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...O.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...O.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...O.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...O.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...O.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...O.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...O.errToObj(s)})}nonempty(e){return this.min(1,O.errToObj(e))}trim(){return new Ve({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ve({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ve({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Ve.create=t=>{var e;return new Ve({checks:[],typeName:W.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Y(t)})};function Sx(t,e){const s=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,n=s>r?s:r,a=parseInt(t.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return a%o/Math.pow(10,n)}class gt extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==F.number){const a=this._getOrReturnCtx(e);return D(a,{code:S.invalid_type,expected:F.number,received:a.parsedType}),Z}let r;const n=new we;for(const a of this._def.checks)a.kind==="int"?ee.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),D(r,{code:S.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),D(r,{code:S.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),D(r,{code:S.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?Sx(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),D(r,{code:S.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),D(r,{code:S.not_finite,message:a.message}),n.dirty()):ee.assertNever(a);return{status:n.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,O.toString(s))}gt(e,s){return this.setLimit("min",e,!1,O.toString(s))}lte(e,s){return this.setLimit("max",e,!0,O.toString(s))}lt(e,s){return this.setLimit("max",e,!1,O.toString(s))}setLimit(e,s,r,n){return new gt({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:O.toString(n)}]})}_addCheck(e){return new gt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:O.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:O.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:O.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:O.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:O.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:O.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:O.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:O.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:O.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ee.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(s)&&Number.isFinite(e)}}gt.create=t=>new gt({checks:[],typeName:W.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class xt extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==F.bigint)return this._getInvalidInput(e);let r;const n=new we;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),D(r,{code:S.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),D(r,{code:S.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),D(r,{code:S.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):ee.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return D(s,{code:S.invalid_type,expected:F.bigint,received:s.parsedType}),Z}gte(e,s){return this.setLimit("min",e,!0,O.toString(s))}gt(e,s){return this.setLimit("min",e,!1,O.toString(s))}lte(e,s){return this.setLimit("max",e,!0,O.toString(s))}lt(e,s){return this.setLimit("max",e,!1,O.toString(s))}setLimit(e,s,r,n){return new xt({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:O.toString(n)}]})}_addCheck(e){return new xt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:O.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:O.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:O.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:O.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:O.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}xt.create=t=>{var e;return new xt({checks:[],typeName:W.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Y(t)})};class Ss extends K{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==F.boolean){const r=this._getOrReturnCtx(e);return D(r,{code:S.invalid_type,expected:F.boolean,received:r.parsedType}),Z}return Se(e.data)}}Ss.create=t=>new Ss({typeName:W.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Y(t)});class Rt extends K{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==F.date){const a=this._getOrReturnCtx(e);return D(a,{code:S.invalid_type,expected:F.date,received:a.parsedType}),Z}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return D(a,{code:S.invalid_date}),Z}const r=new we;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:S.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:S.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ee.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Rt({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:O.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:O.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}Rt.create=t=>new Rt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:W.ZodDate,...Y(t)});class br extends K{_parse(e){if(this._getType(e)!==F.symbol){const r=this._getOrReturnCtx(e);return D(r,{code:S.invalid_type,expected:F.symbol,received:r.parsedType}),Z}return Se(e.data)}}br.create=t=>new br({typeName:W.ZodSymbol,...Y(t)});class As extends K{_parse(e){if(this._getType(e)!==F.undefined){const r=this._getOrReturnCtx(e);return D(r,{code:S.invalid_type,expected:F.undefined,received:r.parsedType}),Z}return Se(e.data)}}As.create=t=>new As({typeName:W.ZodUndefined,...Y(t)});class Ts extends K{_parse(e){if(this._getType(e)!==F.null){const r=this._getOrReturnCtx(e);return D(r,{code:S.invalid_type,expected:F.null,received:r.parsedType}),Z}return Se(e.data)}}Ts.create=t=>new Ts({typeName:W.ZodNull,...Y(t)});class Qt extends K{constructor(){super(...arguments),this._any=!0}_parse(e){return Se(e.data)}}Qt.create=t=>new Qt({typeName:W.ZodAny,...Y(t)});class Tt extends K{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Se(e.data)}}Tt.create=t=>new Tt({typeName:W.ZodUnknown,...Y(t)});class lt extends K{_parse(e){const s=this._getOrReturnCtx(e);return D(s,{code:S.invalid_type,expected:F.never,received:s.parsedType}),Z}}lt.create=t=>new lt({typeName:W.ZodNever,...Y(t)});class wr extends K{_parse(e){if(this._getType(e)!==F.undefined){const r=this._getOrReturnCtx(e);return D(r,{code:S.invalid_type,expected:F.void,received:r.parsedType}),Z}return Se(e.data)}}wr.create=t=>new wr({typeName:W.ZodVoid,...Y(t)});class Le extends K{_parse(e){const{ctx:s,status:r}=this._processInputParams(e),n=this._def;if(s.parsedType!==F.array)return D(s,{code:S.invalid_type,expected:F.array,received:s.parsedType}),Z;if(n.exactLength!==null){const o=s.data.length>n.exactLength.value,l=s.data.length<n.exactLength.value;(o||l)&&(D(s,{code:o?S.too_big:S.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&(D(s,{code:S.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&(D(s,{code:S.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>n.type._parseAsync(new He(s,o,s.path,l)))).then(o=>we.mergeArray(r,o));const a=[...s.data].map((o,l)=>n.type._parseSync(new He(s,o,s.path,l)));return we.mergeArray(r,a)}get element(){return this._def.type}min(e,s){return new Le({...this._def,minLength:{value:e,message:O.toString(s)}})}max(e,s){return new Le({...this._def,maxLength:{value:e,message:O.toString(s)}})}length(e,s){return new Le({...this._def,exactLength:{value:e,message:O.toString(s)}})}nonempty(e){return this.min(1,e)}}Le.create=(t,e)=>new Le({type:t,minLength:null,maxLength:null,exactLength:null,typeName:W.ZodArray,...Y(e)});function Vt(t){if(t instanceof oe){const e={};for(const s in t.shape){const r=t.shape[s];e[s]=Ze.create(Vt(r))}return new oe({...t._def,shape:()=>e})}else return t instanceof Le?new Le({...t._def,type:Vt(t.element)}):t instanceof Ze?Ze.create(Vt(t.unwrap())):t instanceof vt?vt.create(Vt(t.unwrap())):t instanceof Ye?Ye.create(t.items.map(e=>Vt(e))):t}class oe extends K{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=ee.objectKeys(e);return this._cached={shape:e,keys:s}}_parse(e){if(this._getType(e)!==F.object){const d=this._getOrReturnCtx(e);return D(d,{code:S.invalid_type,expected:F.object,received:d.parsedType}),Z}const{status:r,ctx:n}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof lt&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new He(n,h,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof lt){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")l.length>0&&(D(n,{code:S.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new He(n,h,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>we.mergeObjectSync(r,d)):we.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return O.errToObj,new oe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,r)=>{var n,a,o,l;const c=(o=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,s,r).message)!==null&&o!==void 0?o:r.defaultError;return s.code==="unrecognized_keys"?{message:(l=O.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new oe({...this._def,unknownKeys:"strip"})}passthrough(){return new oe({...this._def,unknownKeys:"passthrough"})}extend(e){return new oe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new oe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:W.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new oe({...this._def,catchall:e})}pick(e){const s={};return ee.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(s[r]=this.shape[r])}),new oe({...this._def,shape:()=>s})}omit(e){const s={};return ee.objectKeys(this.shape).forEach(r=>{e[r]||(s[r]=this.shape[r])}),new oe({...this._def,shape:()=>s})}deepPartial(){return Vt(this)}partial(e){const s={};return ee.objectKeys(this.shape).forEach(r=>{const n=this.shape[r];e&&!e[r]?s[r]=n:s[r]=n.optional()}),new oe({...this._def,shape:()=>s})}required(e){const s={};return ee.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])s[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Ze;)a=a._def.innerType;s[r]=a}}),new oe({...this._def,shape:()=>s})}keyof(){return Sc(ee.objectKeys(this.shape))}}oe.create=(t,e)=>new oe({shape:()=>t,unknownKeys:"strip",catchall:lt.create(),typeName:W.ZodObject,...Y(e)});oe.strictCreate=(t,e)=>new oe({shape:()=>t,unknownKeys:"strict",catchall:lt.create(),typeName:W.ZodObject,...Y(e)});oe.lazycreate=(t,e)=>new oe({shape:t,unknownKeys:"strip",catchall:lt.create(),typeName:W.ZodObject,...Y(e)});class Ps extends K{_parse(e){const{ctx:s}=this._processInputParams(e),r=this._def.options;function n(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Pe(l.ctx.common.issues));return D(s,{code:S.invalid_union,unionErrors:o}),Z}if(s.common.async)return Promise.all(r.map(async a=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(n);{let a;const o=[];for(const c of r){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Pe(c));return D(s,{code:S.invalid_union,unionErrors:l}),Z}}get options(){return this._def.options}}Ps.create=(t,e)=>new Ps({options:t,typeName:W.ZodUnion,...Y(e)});const tt=t=>t instanceof Ds?tt(t.schema):t instanceof Oe?tt(t.innerType()):t instanceof Ms?[t.value]:t instanceof yt?t.options:t instanceof Fs?ee.objectValues(t.enum):t instanceof Is?tt(t._def.innerType):t instanceof As?[void 0]:t instanceof Ts?[null]:t instanceof Ze?[void 0,...tt(t.unwrap())]:t instanceof vt?[null,...tt(t.unwrap())]:t instanceof xi||t instanceof Ls?tt(t.unwrap()):t instanceof Vs?tt(t._def.innerType):[];class Dr extends K{_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==F.object)return D(s,{code:S.invalid_type,expected:F.object,received:s.parsedType}),Z;const r=this.discriminator,n=s.data[r],a=this.optionsMap.get(n);return a?s.common.async?a._parseAsync({data:s.data,path:s.path,parent:s}):a._parseSync({data:s.data,path:s.path,parent:s}):(D(s,{code:S.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Z)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,s,r){const n=new Map;for(const a of s){const o=tt(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(n.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);n.set(l,a)}}return new Dr({typeName:W.ZodDiscriminatedUnion,discriminator:e,options:s,optionsMap:n,...Y(r)})}}function An(t,e){const s=st(t),r=st(e);if(t===e)return{valid:!0,data:t};if(s===F.object&&r===F.object){const n=ee.objectKeys(e),a=ee.objectKeys(t).filter(l=>n.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=An(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===F.array&&r===F.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=An(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return s===F.date&&r===F.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Es extends K{_parse(e){const{status:s,ctx:r}=this._processInputParams(e),n=(a,o)=>{if(Cn(a)||Cn(o))return Z;const l=An(a.value,o.value);return l.valid?((Sn(a)||Sn(o))&&s.dirty(),{status:s.value,value:l.data}):(D(r,{code:S.invalid_intersection_types}),Z)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>n(a,o)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Es.create=(t,e,s)=>new Es({left:t,right:e,typeName:W.ZodIntersection,...Y(s)});class Ye extends K{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==F.array)return D(r,{code:S.invalid_type,expected:F.array,received:r.parsedType}),Z;if(r.data.length<this._def.items.length)return D(r,{code:S.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Z;!this._def.rest&&r.data.length>this._def.items.length&&(D(r,{code:S.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new He(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>we.mergeArray(s,o)):we.mergeArray(s,a)}get items(){return this._def.items}rest(e){return new Ye({...this._def,rest:e})}}Ye.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ye({items:t,typeName:W.ZodTuple,rest:null,...Y(e)})};class Rs extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==F.object)return D(r,{code:S.invalid_type,expected:F.object,received:r.parsedType}),Z;const n=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)n.push({key:a._parse(new He(r,l,r.path,l)),value:o._parse(new He(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?we.mergeObjectAsync(s,n):we.mergeObjectSync(s,n)}get element(){return this._def.valueType}static create(e,s,r){return s instanceof K?new Rs({keyType:e,valueType:s,typeName:W.ZodRecord,...Y(r)}):new Rs({keyType:Ve.create(),valueType:e,typeName:W.ZodRecord,...Y(s)})}}class jr extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==F.map)return D(r,{code:S.invalid_type,expected:F.map,received:r.parsedType}),Z;const n=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:n._parse(new He(r,l,r.path,[d,"key"])),value:a._parse(new He(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Z;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Z;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}jr.create=(t,e,s)=>new jr({valueType:e,keyType:t,typeName:W.ZodMap,...Y(s)});class Dt extends K{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==F.set)return D(r,{code:S.invalid_type,expected:F.set,received:r.parsedType}),Z;const n=this._def;n.minSize!==null&&r.data.size<n.minSize.value&&(D(r,{code:S.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&r.data.size>n.maxSize.value&&(D(r,{code:S.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Z;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new He(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,s){return new Dt({...this._def,minSize:{value:e,message:O.toString(s)}})}max(e,s){return new Dt({...this._def,maxSize:{value:e,message:O.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}Dt.create=(t,e)=>new Dt({valueType:t,minSize:null,maxSize:null,typeName:W.ZodSet,...Y(e)});class qt extends K{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==F.function)return D(s,{code:S.invalid_type,expected:F.function,received:s.parsedType}),Z;function r(l,c){return yr({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,xr(),Xt].filter(d=>!!d),issueData:{code:S.invalid_arguments,argumentsError:c}})}function n(l,c){return yr({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,xr(),Xt].filter(d=>!!d),issueData:{code:S.invalid_return_type,returnTypeError:c}})}const a={errorMap:s.common.contextualErrorMap},o=s.data;if(this._def.returns instanceof es){const l=this;return Se(async function(...c){const d=new Pe([]),u=await l._def.args.parseAsync(c,a).catch(g=>{throw d.addIssue(r(c,g)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,a).catch(g=>{throw d.addIssue(n(h,g)),d})})}else{const l=this;return Se(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new Pe([r(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,a);if(!h.success)throw new Pe([n(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new qt({...this._def,args:Ye.create(e).rest(Tt.create())})}returns(e){return new qt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,s,r){return new qt({args:e||Ye.create([]).rest(Tt.create()),returns:s||Tt.create(),typeName:W.ZodFunction,...Y(r)})}}class Ds extends K{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Ds.create=(t,e)=>new Ds({getter:t,typeName:W.ZodLazy,...Y(e)});class Ms extends K{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return D(s,{received:s.data,code:S.invalid_literal,expected:this._def.value}),Z}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ms.create=(t,e)=>new Ms({value:t,typeName:W.ZodLiteral,...Y(e)});function Sc(t,e){return new yt({values:t,typeName:W.ZodEnum,...Y(e)})}class yt extends K{constructor(){super(...arguments),ds.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),r=this._def.values;return D(s,{expected:ee.joinValues(r),received:s.parsedType,code:S.invalid_type}),Z}if(vr(this,ds)||Nc(this,ds,new Set(this._def.values)),!vr(this,ds).has(e.data)){const s=this._getOrReturnCtx(e),r=this._def.values;return D(s,{received:s.data,code:S.invalid_enum_value,options:r}),Z}return Se(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return yt.create(e,{...this._def,...s})}exclude(e,s=this._def){return yt.create(this.options.filter(r=>!e.includes(r)),{...this._def,...s})}}ds=new WeakMap;yt.create=Sc;class Fs extends K{constructor(){super(...arguments),us.set(this,void 0)}_parse(e){const s=ee.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==F.string&&r.parsedType!==F.number){const n=ee.objectValues(s);return D(r,{expected:ee.joinValues(n),received:r.parsedType,code:S.invalid_type}),Z}if(vr(this,us)||Nc(this,us,new Set(ee.getValidEnumValues(this._def.values))),!vr(this,us).has(e.data)){const n=ee.objectValues(s);return D(r,{received:r.data,code:S.invalid_enum_value,options:n}),Z}return Se(e.data)}get enum(){return this._def.values}}us=new WeakMap;Fs.create=(t,e)=>new Fs({values:t,typeName:W.ZodNativeEnum,...Y(e)});class es extends K{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==F.promise&&s.common.async===!1)return D(s,{code:S.invalid_type,expected:F.promise,received:s.parsedType}),Z;const r=s.parsedType===F.promise?s.data:Promise.resolve(s.data);return Se(r.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}es.create=(t,e)=>new es({type:t,typeName:W.ZodPromise,...Y(e)});class Oe extends K{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===W.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:o=>{D(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const o=n.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return Z;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Z:c.status==="dirty"||s.value==="dirty"?Zt(c.value):c});{if(s.value==="aborted")return Z;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Z:l.status==="dirty"||s.value==="dirty"?Zt(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Z:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Z:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(n.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Et(o))return o;const l=n.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Et(o)?Promise.resolve(n.transform(o.value,a)).then(l=>({status:s.value,value:l})):o);ee.assertNever(n)}}Oe.create=(t,e,s)=>new Oe({schema:t,typeName:W.ZodEffects,effect:e,...Y(s)});Oe.createWithPreprocess=(t,e,s)=>new Oe({schema:e,effect:{type:"preprocess",transform:t},typeName:W.ZodEffects,...Y(s)});class Ze extends K{_parse(e){return this._getType(e)===F.undefined?Se(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ze.create=(t,e)=>new Ze({innerType:t,typeName:W.ZodOptional,...Y(e)});class vt extends K{_parse(e){return this._getType(e)===F.null?Se(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vt.create=(t,e)=>new vt({innerType:t,typeName:W.ZodNullable,...Y(e)});class Is extends K{_parse(e){const{ctx:s}=this._processInputParams(e);let r=s.data;return s.parsedType===F.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Is.create=(t,e)=>new Is({innerType:t,typeName:W.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Y(e)});class Vs extends K{_parse(e){const{ctx:s}=this._processInputParams(e),r={...s,common:{...s.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Cs(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Pe(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Pe(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Vs.create=(t,e)=>new Vs({innerType:t,typeName:W.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Y(e)});class Nr extends K{_parse(e){if(this._getType(e)!==F.nan){const r=this._getOrReturnCtx(e);return D(r,{code:S.invalid_type,expected:F.nan,received:r.parsedType}),Z}return{status:"valid",value:e.data}}}Nr.create=t=>new Nr({typeName:W.ZodNaN,...Y(t)});const Ax=Symbol("zod_brand");class xi extends K{_parse(e){const{ctx:s}=this._processInputParams(e),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class Hs extends K{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Z:a.status==="dirty"?(s.dirty(),Zt(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const n=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?Z:n.status==="dirty"?(s.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:r.path,parent:r})}}static create(e,s){return new Hs({in:e,out:s,typeName:W.ZodPipeline})}}class Ls extends K{_parse(e){const s=this._def.innerType._parse(e),r=n=>(Et(n)&&(n.value=Object.freeze(n.value)),n);return Cs(s)?s.then(n=>r(n)):r(s)}unwrap(){return this._def.innerType}}Ls.create=(t,e)=>new Ls({innerType:t,typeName:W.ZodReadonly,...Y(e)});function lo(t,e){const s=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof s=="string"?{message:s}:s}function Ac(t,e={},s){return t?Qt.create().superRefine((r,n)=>{var a,o;const l=t(r);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const h=lo(e,r),f=(u=(d=h.fatal)!==null&&d!==void 0?d:s)!==null&&u!==void 0?u:!0;n.addIssue({code:"custom",...h,fatal:f})}});if(!l){const c=lo(e,r),d=(o=(a=c.fatal)!==null&&a!==void 0?a:s)!==null&&o!==void 0?o:!0;n.addIssue({code:"custom",...c,fatal:d})}}):Qt.create()}const Tx={object:oe.lazycreate};var W;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(W||(W={}));const Px=(t,e={message:`Input not instance of ${t.name}`})=>Ac(s=>s instanceof t,e),Tc=Ve.create,Pc=gt.create,Ex=Nr.create,Rx=xt.create,Ec=Ss.create,Dx=Rt.create,Mx=br.create,Fx=As.create,Ix=Ts.create,Vx=Qt.create,Lx=Tt.create,Ox=lt.create,Bx=wr.create,zx=Le.create,$x=oe.create,Ux=oe.strictCreate,Wx=Ps.create,Zx=Dr.create,qx=Es.create,Hx=Ye.create,Yx=Rs.create,Kx=jr.create,Gx=Dt.create,Jx=qt.create,Xx=Ds.create,Qx=Ms.create,e0=yt.create,t0=Fs.create,s0=es.create,co=Oe.create,r0=Ze.create,n0=vt.create,i0=Oe.createWithPreprocess,a0=Hs.create,o0=()=>Tc().optional(),l0=()=>Pc().optional(),c0=()=>Ec().optional(),d0={string:t=>Ve.create({...t,coerce:!0}),number:t=>gt.create({...t,coerce:!0}),boolean:t=>Ss.create({...t,coerce:!0}),bigint:t=>xt.create({...t,coerce:!0}),date:t=>Rt.create({...t,coerce:!0})},u0=Z;var _e=Object.freeze({__proto__:null,defaultErrorMap:Xt,setErrorMap:ix,getErrorMap:xr,makeIssue:yr,EMPTY_PATH:ax,addIssueToContext:D,ParseStatus:we,INVALID:Z,DIRTY:Zt,OK:Se,isAborted:Cn,isDirty:Sn,isValid:Et,isAsync:Cs,get util(){return ee},get objectUtil(){return _n},ZodParsedType:F,getParsedType:st,ZodType:K,datetimeRegex:Cc,ZodString:Ve,ZodNumber:gt,ZodBigInt:xt,ZodBoolean:Ss,ZodDate:Rt,ZodSymbol:br,ZodUndefined:As,ZodNull:Ts,ZodAny:Qt,ZodUnknown:Tt,ZodNever:lt,ZodVoid:wr,ZodArray:Le,ZodObject:oe,ZodUnion:Ps,ZodDiscriminatedUnion:Dr,ZodIntersection:Es,ZodTuple:Ye,ZodRecord:Rs,ZodMap:jr,ZodSet:Dt,ZodFunction:qt,ZodLazy:Ds,ZodLiteral:Ms,ZodEnum:yt,ZodNativeEnum:Fs,ZodPromise:es,ZodEffects:Oe,ZodTransformer:Oe,ZodOptional:Ze,ZodNullable:vt,ZodDefault:Is,ZodCatch:Vs,ZodNaN:Nr,BRAND:Ax,ZodBranded:xi,ZodPipeline:Hs,ZodReadonly:Ls,custom:Ac,Schema:K,ZodSchema:K,late:Tx,get ZodFirstPartyTypeKind(){return W},coerce:d0,any:Vx,array:zx,bigint:Rx,boolean:Ec,date:Dx,discriminatedUnion:Zx,effect:co,enum:e0,function:Jx,instanceof:Px,intersection:qx,lazy:Xx,literal:Qx,map:Kx,nan:Ex,nativeEnum:t0,never:Ox,null:Ix,nullable:n0,number:Pc,object:$x,oboolean:c0,onumber:l0,optional:r0,ostring:o0,pipeline:a0,preprocess:i0,promise:s0,record:Yx,set:Gx,strictObject:Ux,string:Tc,symbol:Mx,transformer:co,tuple:Hx,undefined:Fx,union:Wx,unknown:Lx,void:Bx,NEVER:u0,ZodIssueCode:S,quotelessJson:nx,ZodError:Pe});const qe=m.forwardRef(({label:t,error:e,className:s="",...r},n)=>i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-zinc-300",children:t}),i.jsx("input",{ref:n,className:`
            w-full px-4 py-3 rounded-lg focus:outline-none transition-all duration-200
            bg-zinc-800/50
            border border-[#F7C948]/20
            text-white
            placeholder-zinc-500
            ${e?"border-red-500 focus:ring-1 focus:ring-red-500/30":"focus:ring-1 focus:ring-[#F7C948]/30 focus:border-[#F7C948]/30 hover:border-[#F7C948]/30"}
            ${s}
          `,...r}),e&&i.jsx("p",{className:"text-sm text-red-500 dark:text-red-400",children:e})]}));qe.displayName="Input";const Rc=({to:t,className:e=""})=>{const s=Os(),r=()=>{s(t||-1)};return i.jsxs("button",{onClick:r,className:`inline-flex items-center text-zinc-600 dark:text-zinc-400 hover:text-primary dark:hover:text-primary transition-colors ${e}`,children:[i.jsx(vo,{className:"w-5 h-5 mr-1"}),i.jsx("span",{children:"Back"})]})},h0=_e.object({email:_e.string().email("Please enter a valid email"),password:_e.string().min(6,"Password must be at least 6 characters"),rememberMe:_e.boolean().optional()}),m0=()=>{var u,h;const t=Os(),{signIn:e,isLoading:s,error:r}=Ke(),[n,a]=Ne.useState(null),{register:o,handleSubmit:l,formState:{errors:c}}=Jt({resolver:Rr(h0),defaultValues:{email:"",password:"",rememberMe:!1}}),d=async f=>{try{a(null),await e(f.email,f.password),t("/dashboard")}catch(g){console.error("Sign in error:",g),a("Failed to sign in. Please check your credentials.")}};return Ne.useEffect(()=>{r&&a(r)},[r]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-50 dark:bg-zinc-900 px-4 transition-colors",children:i.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-zinc-800 p-8 rounded-xl shadow-lg dark:shadow-zinc-900/50 border border-zinc-200 dark:border-zinc-700",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsx(Rc,{}),i.jsx("div",{className:"bg-primary p-2 rounded-xl inline-flex",children:i.jsx(Me,{className:"w-6 h-6 text-white"})})]}),i.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-white text-center",children:"Welcome Back!"}),i.jsx("p",{className:"mt-2 text-zinc-600 dark:text-zinc-400 text-center",children:"Sign in to continue your journey."}),i.jsx("div",{className:"mt-4 flex flex-col items-center space-y-3",children:i.jsxs(ie,{to:"/about",className:"inline-flex items-center text-sm text-zinc-600 dark:text-zinc-400 hover:text-primary dark:hover:text-primary transition-colors",children:[i.jsx(bo,{className:"w-4 h-4 mr-1"}),"Learn more about AI CABY"]})})]}),n&&i.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-4",children:i.jsx("p",{className:"text-sm text-red-600",children:n})}),i.jsxs("form",{onSubmit:l(d),className:"space-y-6",children:[i.jsx(qe,{label:"Email",type:"email",...o("email"),error:(u=c.email)==null?void 0:u.message,disabled:s}),i.jsx(qe,{label:"Password",type:"password",...o("password"),error:(h=c.password)==null?void 0:h.message,disabled:s}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",...o("rememberMe"),id:"remember-me",className:"h-4 w-4 text-primary focus:ring-primary/20 border-zinc-300 dark:border-zinc-600 rounded"}),i.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-zinc-600 dark:text-zinc-400",children:"Remember me"})]}),i.jsx(ie,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/90 hover:underline transition-colors",children:"Forgot password?"})]}),i.jsx("button",{type:"submit",disabled:s,className:`w-full py-3 px-4 text-black rounded-lg transition-all duration-200 ${s?"bg-primary/70 cursor-not-allowed":"bg-primary hover:bg-primary/90 hover:shadow-lg"}`,children:s?i.jsxs("span",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-black",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),i.jsxs("p",{className:"text-center text-sm text-zinc-600 dark:text-zinc-400 mt-6",children:["Don't have an account?"," ",i.jsx(ie,{to:"/signup",className:"text-primary hover:text-primary/90 font-medium transition-colors",children:"Sign up"})]})]})})},Dc=({type:t,message:e,duration:s=5e3,onClose:r})=>{const[n,a]=m.useState(!0);if(m.useEffect(()=>{if(s>0){const c=setTimeout(()=>{a(!1),r==null||r()},s);return()=>clearTimeout(c)}},[s,r]),!n)return null;const o={success:"bg-green-50 border-green-500 text-green-700",error:"bg-red-50 border-red-500 text-red-700",info:"bg-blue-50 border-blue-500 text-blue-700"}[t],l={success:"text-green-400",error:"text-red-400",info:"text-blue-400"}[t];return i.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md animate-fade-in",children:i.jsxs("div",{className:`${o} border-l-4 p-4 rounded-r shadow-md flex items-start`,role:"alert",children:[i.jsxs("div",{className:"flex-shrink-0",children:[t==="success"&&i.jsx("svg",{className:`h-5 w-5 ${l}`,viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t==="error"&&i.jsx("svg",{className:`h-5 w-5 ${l}`,viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),t==="info"&&i.jsx("svg",{className:`h-5 w-5 ${l}`,viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})]}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm",children:e})}),i.jsxs("button",{onClick:()=>{a(!1),r==null||r()},className:`ml-auto -mx-1.5 -my-1.5 rounded-lg focus:ring-2 p-1.5 inline-flex h-8 w-8 ${t==="success"?"hover:bg-green-100 focus:ring-green-400":t==="error"?"hover:bg-red-100 focus:ring-red-400":"hover:bg-blue-100 focus:ring-blue-400"}`,children:[i.jsx("span",{className:"sr-only",children:"Close"}),i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})})},f0=_e.object({email:_e.string().email("Please enter a valid email"),password:_e.string().min(6,"Password must be at least 6 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:_e.string()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),uo=()=>{var u,h,f;const{signUp:t,isLoading:e,error:s}=Ke(),[r,n]=m.useState(!1),{register:a,handleSubmit:o,reset:l,formState:{errors:c}}=Jt({resolver:Rr(f0),defaultValues:{email:"",password:"",confirmPassword:""}}),d=async g=>{try{await t(g.email,g.password),n(!0),l()}catch(v){console.error("Sign up error:",v)}};return i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-zinc-50 dark:bg-zinc-900 px-4 transition-colors",children:[r&&i.jsx(Dc,{type:"info",message:"Please check your email to verify your account. You'll need to verify your email before you can sign in.",duration:1e4,onClose:()=>n(!1)}),i.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-zinc-800 p-8 rounded-xl shadow-lg dark:shadow-zinc-900/50 border border-zinc-200 dark:border-zinc-700",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsx(Rc,{}),i.jsx("div",{className:"bg-primary p-2 rounded-xl inline-flex",children:i.jsx(Me,{className:"w-6 h-6 text-white"})})]}),i.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-white text-center",children:"Get Started!"}),i.jsx("p",{className:"mt-2 text-zinc-600 dark:text-zinc-400 text-center",children:"Create your account to begin."}),i.jsx("div",{className:"mt-4 flex flex-col items-center space-y-3",children:i.jsxs(ie,{to:"/about",className:"inline-flex items-center text-sm text-zinc-600 dark:text-zinc-400 hover:text-primary dark:hover:text-primary transition-colors",children:[i.jsx(bo,{className:"w-4 h-4 mr-1"}),"Learn more about AI CABY"]})})]}),s&&i.jsx("div",{className:"bg-red-50 dark:bg-red-500/10 text-red-500 dark:text-red-400 p-4 rounded-lg text-sm",children:s}),i.jsxs("form",{onSubmit:o(d),className:"space-y-6",children:[i.jsx(qe,{label:"Email",type:"email",...a("email"),error:(u=c.email)==null?void 0:u.message,disabled:e}),i.jsx(qe,{label:"Password",type:"password",...a("password"),error:(h=c.password)==null?void 0:h.message,disabled:e}),i.jsx(qe,{label:"Confirm Password",type:"password",...a("confirmPassword"),error:(f=c.confirmPassword)==null?void 0:f.message,disabled:e}),i.jsx("button",{type:"submit",disabled:e,className:"w-full bg-primary text-black py-3 px-6 rounded-lg font-medium hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Creating account...":"Create Account"})]}),i.jsxs("p",{className:"text-center text-zinc-600 dark:text-zinc-400",children:["Already have an account?"," ",i.jsx(ie,{to:"/signin",className:"text-primary hover:text-primary/90 hover:underline transition-colors",children:"Sign in"})]}),i.jsxs("p",{className:"text-center text-xs text-zinc-500 dark:text-zinc-400 mt-4",children:["By signing up, you agree to our"," ",i.jsx(ie,{to:"/driver/docs?tab=mediation",className:"text-primary hover:text-primary/90 hover:underline transition-colors",children:"Terms of Service"})," ","and"," ",i.jsx(ie,{to:"/driver/docs?tab=guidelines",className:"text-primary hover:text-primary/90 hover:underline transition-colors",children:"Privacy Policy"})]})]})]})},p0=_e.object({email:_e.string().email("Please enter a valid email")}),g0=()=>{var d;const{resetPassword:t,isLoading:e,error:s}=Ke(),[r,n]=m.useState(!1),{register:a,handleSubmit:o,formState:{errors:l}}=Jt({resolver:Rr(p0),defaultValues:{email:""}}),c=async u=>{try{await t(u.email),n(!0)}catch(h){console.error("Password reset error:",h)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-zinc-100 to-white px-4",children:i.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg border border-zinc-200",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[i.jsx("div",{className:"bg-yellow-500 p-2 rounded-xl inline-flex",children:i.jsx(Me,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-2xl font-bold text-zinc-900",children:"AI CABY"})]}),i.jsx("h2",{className:"text-3xl font-bold text-zinc-900",children:"Reset Password"}),i.jsx("p",{className:"mt-2 text-zinc-600",children:"Enter your email to receive a password reset link."})]}),r&&i.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-green-600",children:"Password reset link has been sent to your email. Please check your inbox."})}),s&&i.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600",children:s})}),i.jsxs("form",{onSubmit:o(c),className:"space-y-6",children:[i.jsx(qe,{label:"Email",type:"email",...a("email"),error:(d=l.email)==null?void 0:d.message,disabled:e}),i.jsx("button",{type:"submit",disabled:e,className:"w-full bg-yellow-500 text-white py-3 px-6 rounded-lg font-medium hover:bg-yellow-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Sending Reset Link...":"Send Reset Link"})]}),i.jsxs("p",{className:"text-center text-zinc-600",children:["Remember your password?"," ",i.jsx(ie,{to:"/signin",className:"text-yellow-500 hover:text-yellow-600 hover:underline",children:"Sign in"})]})]})})},x0=({faqs:t=[],className:e=""})=>{const[s,r]=m.useState(null),[n,a]=m.useState(null),o=l=>{try{r(s===l?null:l)}catch(c){a("An error occurred while toggling FAQ"),console.error("FAQ toggle error:",c)}};return n?i.jsxs("div",{className:"text-red-500 p-4",children:["Error: ",n]}):Array.isArray(t)?i.jsx("div",{className:`space-y-4 ${e}`,children:t.map((l,c)=>i.jsxs("div",{className:"border border-zinc-200 rounded-lg overflow-hidden bg-white",children:[i.jsxs("button",{onClick:()=>o(c),className:"w-full flex items-center justify-between p-4 text-left hover:bg-zinc-50 transition-colors",children:[i.jsx("span",{className:"font-medium text-zinc-900",children:l.question}),s===c?i.jsx(vd,{className:"w-5 h-5 text-yellow-500"}):i.jsx(xd,{className:"w-5 h-5 text-yellow-500"})]}),i.jsx(zs,{children:s===c&&i.jsx(B.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:i.jsx("div",{className:"p-4 pt-0 text-zinc-600 border-t border-zinc-100",children:l.answer})})})]},c))}):i.jsx("div",{className:"text-yellow-500 p-4",children:"No FAQs available at the moment."})},y0=[{question:"How do you guarantee you'll never switch to a commission-based model in the future?",answer:"Our commitment to a driver-first philosophy is unwavering. We firmly believe that drivers should keep 100% of their earnings. A shift to a commission-based model would contradict this core principle. Instead, we've built our platform around a fixed service fee of just 1.5 per trip, ensuring predictable costs for drivers and sustainable growth for our platformno matter the price of the ride. This approach guarantees transparency and fairness, and it's a promise we'll always uphold."},{question:"How do you guarantee the safety of both drivers and passengers?",answer:"Safety is a top priority for us. We have several safety measures in place, including verified driver profiles, ride tracking, and an emergency SOS button for both drivers and passengers. We also conduct thorough background checks on all drivers to ensure a secure environment for everyone. Additionally, we encourage passengers to share their ride details with family or friends, and we monitor ride data to respond quickly in case of emergencies."},{question:"How do you plan to attract customers to the platform?",answer:"We have a multi-faceted strategy for growing our user base. Initially, we're offering exclusive discounts for drivers who join early, and we're encouraging word-of-mouth marketing through driver referrals. We're also investing in digital marketing campaigns and partnerships with local businesses. Plus, by providing drivers with full control of their earnings, we believe drivers will be motivated to promote AICABY to their passengers."},{question:"What happens if the platform doesn't get enough passengers?",answer:"We're actively working on both sides of the equationbringing in drivers and passengers. To address potential gaps, we will offer marketing incentives and promotions to encourage passengers to try our platform. Drivers can also continue using other apps like Uber or Bolt while benefiting from AICABY as an additional source of income."},{question:"How does your platform ensure fair pricing for passengers and competitive earnings for drivers?",answer:"We use a market price algorithm to ensure that both passengers pay a fair price and drivers earn competitively. The algorithm dynamically adjusts prices based on factors like demand, location, and time of day, so passengers are charged appropriately, while drivers are compensated based on current market conditions. This ensures a balanced and fair experience for both parties, keeping the system efficient and sustainable for everyone."},{question:"How do you ensure passengers will choose AICABY over established platforms like Uber or Bolt?",answer:"Our driver-focused model means drivers have more incentive to deliver excellent service, which we believe will translate into a better experience for passengers. Additionally, with features like flexible payment options and real-time driver communication, passengers will find our platform user-friendly and affordable. Our competitive rates and commitment to passenger safety also make us a compelling choice."},{question:"What payment methods are supported, and how are drivers paid?",answer:"We support multiple payment methods, including Cash, Tikkie, and Pin. Drivers can decide how they want to be paid by passengers, giving them full control over the process. Payments are made directly from the passenger to the driverAICABY does not collect or hold any funds, ensuring quick and hassle-free transactions."},{question:"What measures are in place to resolve disputes between drivers and passengers?",answer:"In the rare case of disputes, we have a customer support team that handles both driver and passenger complaints. We encourage passengers and drivers to rate each other after rides, and consistent poor behavior from either party could lead to removal from the platform. We also provide a clear process for reviewing any issues and take action based on the situation's merits."},{question:"How do you handle customer support for drivers and passengers?",answer:"We provide 24/7 customer support via multiple channels, including chat, email, and phone. Drivers and passengers can contact us directly for any issues regarding the app, payments, or ride disputes. Our goal is to ensure that both drivers and passengers feel supported and can quickly resolve any problems they encounter."},{question:"Can drivers use AICABY alongside other platforms like Uber or Bolt?",answer:"Absolutely. AICABY is designed to be flexible. Drivers can continue using Uber, Bolt, or any other platform while also accepting rides on AICABY. We want to offer drivers an additional tool that helps them earn more, not restrict them from using other apps."},{question:"What are the main benefits for drivers using AICABY over other platforms?",answer:"The biggest benefit is that drivers keep 100% of their earnings. With other platforms, drivers often lose 20-25% to commission fees. We also offer more flexibility in terms of payment methods, and drivers can set their own pricing within the app's guidelines."},{question:"How is pricing for rides determined?",answer:"Pricing is based on several factors including distance, time, and driver availability. Drivers can also negotiate fees for special requests, like longer waiting times or multiple stops, directly with passengers."},{question:"What features does AICABY offer to help drivers work more efficiently?",answer:`We've built several driver-focused features into the app, including a "Return Ride" feature that allows drivers to pick up passengers on their way back from a drop-off, ensuring fewer empty trips. We also offer radar detection tools to help drivers avoid speed traps in unfamiliar areas, and an easy-to-use interface for managing payments, earnings, and rides.`},{question:"What happens if the app or platform encounters technical issues?",answer:"Our team is dedicated to providing a smooth and reliable experience for all users. However, if technical issues do arise, we have a dedicated tech support team ready to address them 24/7. We also offer a status page where drivers and passengers can check for any known issues and updates."},{question:"How do you handle background checks and driver verification?",answer:"All drivers are required to undergo a thorough background check before joining AICABY. This includes verifying identity, checking driving records, and ensuring they meet all local requirements for rideshare drivers. We take safety very seriously and want to make sure passengers are always in safe hands."}],v0=()=>{const[t]=qc(),[e,s]=m.useState("faq");m.useEffect(()=>{const o=t.get("tab");o&&(o==="faq"||o==="mediation"||o==="refund"||o==="guidelines")&&s(o)},[t]);const[r,n]=m.useState(null),a=o=>{try{s(o)}catch(l){n("An error occurred while switching tabs"),console.error("Tab switch error:",l)}};return r?i.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:i.jsxs("div",{className:"text-red-500 p-8 bg-red-50 rounded-lg shadow-lg",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Error"}),i.jsx("p",{children:r}),i.jsx("button",{onClick:()=>n(null),className:"mt-4 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"Try Again"})]})}):i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsxs("nav",{className:"px-6 py-4 flex justify-between items-center bg-zinc-900/90 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"bg-yellow-500 p-2 rounded-xl",children:i.jsx(Me,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-white text-xl font-bold",children:"AI CABY"})]}),i.jsxs(ie,{to:"/driver",className:"flex items-center space-x-2 text-zinc-400 hover:text-yellow-500 transition-colors",children:[i.jsx(vo,{className:"w-5 h-5"}),i.jsx("span",{children:"Back to Driver Page"})]})]}),i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-zinc-900 mb-8",children:"Documentation"}),i.jsxs("div",{className:"flex space-x-4 mb-8 border-b border-zinc-200",children:[i.jsx("button",{onClick:()=>a("faq"),className:"py-4 px-6 font-medium transition-colors "+(e==="faq"?"text-yellow-500 border-b-2 border-yellow-500":"text-zinc-600 hover:text-yellow-500"),children:"FAQ"}),i.jsx("button",{onClick:()=>a("mediation"),className:"py-4 px-6 font-medium transition-colors "+(e==="mediation"?"text-yellow-500 border-b-2 border-yellow-500":"text-zinc-600 hover:text-yellow-500"),children:"Mediation Terms"}),i.jsx("button",{onClick:()=>a("refund"),className:"py-4 px-6 font-medium transition-colors "+(e==="refund"?"text-yellow-500 border-b-2 border-yellow-500":"text-zinc-600 hover:text-yellow-500"),children:"Refund Policy"}),i.jsx("button",{onClick:()=>a("guidelines"),className:"py-4 px-6 font-medium transition-colors "+(e==="guidelines"?"text-yellow-500 border-b-2 border-yellow-500":"text-zinc-600 hover:text-yellow-500"),children:"Community Guidelines"})]}),e==="faq"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-zinc-900 mb-8",children:"Frequently Asked Questions"}),i.jsx(x0,{faqs:y0})]}),e==="mediation"&&i.jsxs("div",{className:"prose prose-zinc max-w-none",children:[i.jsx("h2",{className:"text-3xl font-bold text-zinc-900 mb-8",children:"AICABY Mediation by Support Team - Terms and Conditions"}),i.jsx("p",{className:"text-zinc-600 mb-8",children:"These Terms and Conditions govern the process of mediation by the AICABY Support Team for resolving disputes between drivers and passengers on the AICABY platform. By agreeing to use AICABY's services, both drivers and passengers acknowledge and agree to the following terms when a dispute arises:"}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"1. Scope of Mediation"}),i.jsx("p",{className:"text-zinc-600 mb-4",children:"The Mediation by Support Team process applies to disputes related to:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-8 text-zinc-600",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Fare disputes"}),": Any disagreement regarding the fare charged or agreed upon."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Service quality"}),": Issues concerning the quality of the ride, vehicle condition, or driver/passenger behavior."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment issues"}),": Discrepancies in the payment method or amount agreed upon before the ride."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cancellations"}),": Disputes arising from cancellations or failure to meet agreed-upon pickup terms."]})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"2. Submission of Evidence"}),i.jsx("p",{className:"text-zinc-600 mb-4",children:"Both the driver and the passenger must provide supporting evidence related to the dispute, including but not limited to:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-8 text-zinc-600",children:[i.jsx("li",{children:"Screenshots of in-app conversations."}),i.jsx("li",{children:"Photos documenting any issues (e.g., vehicle condition or damages)."}),i.jsx("li",{children:"Detailed explanations of the events leading to the dispute."}),i.jsx("li",{children:"Ride details, including GPS tracking, fare breakdown, and communication logs."})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"3. Mediation Process"}),i.jsx("p",{className:"text-zinc-600 mb-4",children:"Upon receiving a dispute:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-8 text-zinc-600",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Review of Evidence"}),": The AICABY Mediation Team will carefully review the evidence provided by both parties."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Communication"}),": The Mediation Team may contact either party for further clarification or additional information."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Resolution Timeline"}),": AICABY aims to resolve disputes within 3-5 business days."]})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"4. Contact Information"}),i.jsx("p",{className:"text-zinc-600 mb-4",children:"For any questions or concerns related to the Mediation by Support Team process, please contact us at:"}),i.jsxs("p",{className:"text-zinc-600",children:["Email:"," ",i.jsx("a",{href:"mailto:support@aicaby.com",className:"text-yellow-500 hover:text-yellow-600 hover:underline",children:"support@aicaby.com"})]})]}),e==="refund"&&i.jsxs("div",{className:"prose prose-zinc max-w-none",children:[i.jsx("h2",{className:"text-3xl font-bold text-zinc-900 mb-8",children:"AICABY Refund Policy"}),i.jsx("p",{className:"text-zinc-600 mb-8",children:"At AICABY, we are committed to providing a fair, transparent, and efficient platform for both drivers and passengers. Since AICABY is a peer-to-peer platform, drivers and passengers are responsible for mutually agreeing on the terms of each ride before it starts. This includes fare, payment method, and any special requests."}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"1. Pre-Ride Agreement"}),i.jsx("p",{className:"text-zinc-600 mb-4",children:"Before the ride begins, both drivers and passengers must agree to the following:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-8 text-zinc-600",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Fare"}),": The total fare amount for the ride, as calculated by the app or negotiated beforehand."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Method"}),": The method of payment, which can include cash, card, or Tikkie, must be mutually agreed upon before the ride starts."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Special Conditions"}),": Any specific requests, such as extra stops, route preferences, or handling of luggage, should be discussed and agreed upon before pickup."]})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"2. Refund Eligibility"}),i.jsx("p",{className:"text-zinc-600 mb-4",children:"Refunds are only considered in the following circumstances:"}),i.jsx("h4",{className:"text-xl font-bold text-zinc-900 mt-8 mb-4",children:"A. Passenger-Initiated Refunds:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-8 text-zinc-600",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"No-Show by Driver"}),": If the driver does not show up within 10-15 minutes."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Unacceptable Ride Conditions"}),": If conditions are unsafe or unsanitary."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Driver Cancellations"}),": If driver cancels after accepting."]})]}),i.jsx("h4",{className:"text-xl font-bold text-zinc-900 mt-8 mb-4",children:"B. Driver-Initiated Refunds:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-8 text-zinc-600",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Passenger No-Show"}),": If passenger is not at pickup within 10-15 minutes."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Uncooperative Passenger"}),": If passenger behavior is unsafe or violates rules."]})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"3. Refund Request Process"}),i.jsxs("ol",{className:"list-decimal pl-6 mb-8 text-zinc-600",children:[i.jsx("li",{children:"Submit request through AICABY app within 24 hours"}),i.jsx("li",{children:"Provide ride ID and supporting evidence"}),i.jsx("li",{children:"Wait for review (3-5 business days)"}),i.jsx("li",{children:"Receive decision and refund if eligible"})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"4. Contact Information"}),i.jsxs("p",{className:"text-zinc-600",children:["For refund-related inquiries, contact us at:"," ",i.jsx("a",{href:"mailto:support@aicaby.com",className:"text-yellow-500 hover:text-yellow-600 hover:underline",children:"support@aicaby.com"})]})]}),e==="guidelines"&&i.jsxs("div",{className:"prose prose-zinc max-w-none",children:[i.jsx("h2",{className:"text-3xl font-bold text-zinc-900 mb-8",children:"AICABY Driver Community Guidelines"}),i.jsx("p",{className:"text-zinc-600 mb-8",children:"At AICABY, our mission is to empower drivers with more control and freedom while ensuring that both drivers and passengers enjoy a safe, professional, and comfortable experience."}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"1. Respectful and Professional Behavior"}),i.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg mb-8",children:[i.jsx("h4",{className:"font-bold mb-4",children:"What we expect:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Respectful treatment"}),": Treat every passenger with dignity and respect."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Open communication"}),": Respond promptly to questions or concerns."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Appropriate behavior"}),": Maintain professional boundaries."]})]}),i.jsx("p",{className:"text-sm italic",children:"Violations may result in warnings or account suspension."})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"2. Punctuality and Reliability"}),i.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg mb-8",children:[i.jsx("h4",{className:"font-bold mb-4",children:"Key Requirements:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"Arrive on time at pickup locations"}),i.jsx("li",{children:"Avoid unnecessary cancellations"}),i.jsx("li",{children:"Complete rides as agreed"})]}),i.jsx("p",{className:"text-sm italic",children:"Frequent violations may affect your account status."})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"3. Vehicle and Safety Standards"}),i.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg mb-8",children:[i.jsx("h4",{className:"font-bold mb-4",children:"Requirements:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"Maintain a clean, well-maintained vehicle"}),i.jsx("li",{children:"Follow all traffic laws and safety regulations"}),i.jsx("li",{children:"Conduct regular vehicle inspections"})]}),i.jsx("p",{className:"text-sm italic",children:"Safety violations may result in immediate suspension."})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"4. Payment and Honesty"}),i.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg mb-8",children:[i.jsx("h4",{className:"font-bold mb-4",children:"Guidelines:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"Charge only the agreed fare"}),i.jsx("li",{children:"Accept passenger's preferred payment method"}),i.jsx("li",{children:"Maintain transparency in all transactions"})]}),i.jsx("p",{className:"text-sm italic",children:"Payment violations may lead to permanent deactivation."})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"5. Privacy and Data Protection"}),i.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg mb-8",children:[i.jsx("h4",{className:"font-bold mb-4",children:"Requirements:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"Protect passenger personal information"}),i.jsx("li",{children:"Only contact passengers through the platform"}),i.jsx("li",{children:"Report any data breaches immediately"})]}),i.jsx("p",{className:"text-sm italic",children:"Privacy violations will result in immediate review."})]}),i.jsxs("div",{className:"bg-zinc-50 p-6 rounded-lg mt-12",children:[i.jsx("h3",{className:"text-xl font-bold mb-4",children:"Need Help?"}),i.jsxs("p",{children:["Contact our support team for guidance:"," ",i.jsx("a",{href:"mailto:support@aicaby.com",className:"text-yellow-500 hover:text-yellow-600 hover:underline",children:"support@aicaby.com"})]})]})]})]})]})},b0=()=>{const t=Os(),e=()=>{t("/signin")};return i.jsxs("div",{className:"min-h-screen w-full bg-white overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0",children:i.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(245,158,11,0.1)_1px,transparent_1px)] bg-[length:40px_40px]"})}),i.jsxs("nav",{className:"relative z-10 px-6 py-4 flex justify-between items-center bg-zinc-900/90 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"bg-yellow-500 p-2 rounded-xl",children:i.jsx(Me,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-white text-xl font-bold",children:"AI CABY"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ie,{to:"/",className:"px-4 py-2 text-zinc-400 hover:text-yellow-500 transition-colors flex items-center gap-2",children:"Back to Passengers"}),i.jsx(ie,{to:"/driver/docs",className:"px-4 py-2 text-zinc-400 hover:text-yellow-500 transition-colors flex items-center gap-2",children:"Documentation"}),i.jsx(ie,{to:"/driver/signup",className:"px-4 py-2 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-colors shadow-lg hover:shadow-xl",children:"Drive with Us"})]})]}),i.jsx("header",{className:"relative z-10 w-full py-20",children:i.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-12",children:[i.jsxs("div",{className:"flex-1 space-y-8",children:[i.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold text-zinc-900",children:["AI CABY: Empowering Drivers,",i.jsx("span",{className:"text-yellow-500 block mt-2",children:"Revolutionizing Rides"})]}),i.jsxs("p",{className:"text-xl text-zinc-600",children:["Keep ",i.jsx("span",{className:"text-yellow-500 font-bold",children:"100%"})," of your earnings with just 1.5 per ride",i.jsx("span",{className:"block mt-2 text-zinc-500",children:"No commission. No hidden fees. Just fair earnings."})]}),i.jsx(B.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:`bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-4 px-8 rounded-xl 
                         transition-colors text-lg shadow-lg hover:shadow-xl`,children:"Get Started Today"})]}),i.jsxs(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8},className:"flex-1 bg-zinc-900 p-8 rounded-2xl shadow-2xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-yellow-500/10 rounded-full -translate-y-16 translate-x-16"}),i.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Monthly Scenario with 300 Rides:"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"p-4 bg-zinc-800/50 rounded-xl",children:[i.jsx("div",{className:"flex items-center text-red-400 mb-2",children:i.jsx("span",{className:"text-lg",children:" Traditional Platforms"})}),i.jsx("div",{className:"text-xl text-white",children:"5,000 earned, minus 20-25% ="}),i.jsx("div",{className:"text-2xl text-white font-mono mt-2",children:"3,750 - 4,000 in your pocket"})]}),i.jsxs("div",{className:"p-4 bg-yellow-500/10 rounded-xl border border-yellow-500/20",children:[i.jsx("div",{className:"flex items-center text-yellow-500 mb-2",children:i.jsx("span",{className:"text-lg",children:" AI CABY"})}),i.jsx("div",{className:"text-xl text-white",children:"5,000 earned, minus (300 rides  1.5) ="}),i.jsx("div",{className:"text-2xl text-white font-mono mt-2",children:"4,550 in your pocket"})]}),i.jsx("div",{className:"text-center mt-4 text-yellow-500 font-semibold text-lg",children:"That's an extra 550-800 every month!"})]})]})]})})}),i.jsx("section",{className:"relative z-10 w-full py-20 bg-zinc-900",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-12 text-center",children:"Why Choose Us?"}),i.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Fair & Transparent",desc:"Enjoy a fixed service fee of 1.5 per ride with no hidden costs. What you earn is yours to keep."},{title:"Cost Savings",desc:"Save hundreds of euros each month by avoiding commission fees that cut deep into your earnings."},{title:"Flexible & Open",desc:"Use AI CABY alongside other platforms. We don't demand exclusivity because we understand flexibility is key."}].map((s,r)=>i.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:r*.1},className:"p-6 bg-zinc-800/50 rounded-xl hover:bg-zinc-800/70 transition-colors",children:[i.jsx("h3",{className:"text-xl font-semibold text-yellow-500 mb-4",children:s.title}),i.jsx("p",{className:"text-zinc-400",children:s.desc})]},s.title))})]})}),i.jsx("section",{className:"relative z-10 w-full py-20 bg-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx("h2",{className:"text-3xl font-bold text-zinc-900 mb-4 text-center",children:"Advanced Features"}),i.jsx("p",{className:"text-xl text-zinc-600 text-center mb-12",children:"AI-Powered Smart Ride"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[i.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.8},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx(Fd,{className:"w-6 h-6 text-yellow-500 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-zinc-900",children:"Multilingual Support"}),i.jsx("p",{className:"text-zinc-600",children:"Chat in any language and book rides effortlessly. Our translation system handles over 95 languages with remarkable accuracy."})]})]}),i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx(Od,{className:"w-6 h-6 text-yellow-500 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-zinc-900",children:"Smart Routing"}),i.jsx("p",{className:"text-zinc-600",children:"Real-time traffic analysis and optimal route calculation."})]})]}),i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx(En,{className:"w-6 h-6 text-yellow-500 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-zinc-900",children:"Scheduled Rides"}),i.jsx("p",{className:"text-zinc-600",children:"Book rides up to a week in advance with smart scheduling."})]})]}),i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx(Zd,{className:"w-6 h-6 text-yellow-500 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-zinc-900",children:"Enhanced Safety"}),i.jsx("p",{className:"text-zinc-600",children:"Advanced driver safety protocols and real-time monitoring."})]})]})]}),i.jsxs(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.8},className:"bg-zinc-900 rounded-2xl p-8 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/20 to-transparent"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Community Benefits"}),i.jsx("p",{className:"text-lg text-zinc-400 mb-8",children:"Join a movement where drivers and passengers work together to reshape the taxi industry."}),i.jsx(B.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:`bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-3 px-6 rounded-xl
                           transition-colors shadow-lg hover:shadow-xl`,children:"Join Our Community"})]})]})]})]})}),i.jsx("section",{className:"relative z-10 w-full py-20 bg-zinc-900 text-center",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8",children:[i.jsx("h2",{className:"text-4xl font-bold text-white",children:"Ready to Keep More of What You Earn?"}),i.jsx("p",{className:"text-xl text-zinc-400",children:"Join AI CABY today and experience the future of ridesharing."}),i.jsx(B.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:`bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-4 px-8 rounded-xl
                       transition-colors text-lg shadow-lg hover:shadow-xl`,children:"Start Driving Now"}),i.jsx("p",{className:"text-lg text-yellow-500 font-semibold mt-8",children:"AI CABY: Your Ride, Your Rules, Your Earnings."})]})})}),i.jsx("footer",{className:"relative z-10 w-full py-12 bg-zinc-900 border-t border-zinc-800",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-4",children:"AI CABY"}),i.jsx("p",{className:"text-zinc-400",children:"Empowering drivers with fair earnings and smart technology."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-4",children:"Quick Links"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(ie,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"About Us"})}),i.jsx("li",{children:i.jsx(ie,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"How It Works"})}),i.jsx("li",{children:i.jsx(ie,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"FAQ"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-4",children:"Legal"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(ie,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"Privacy Policy"})}),i.jsx("li",{children:i.jsx(ie,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"Terms of Service"})}),i.jsx("li",{children:i.jsx(ie,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"Contact Us"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-4",children:"Connect"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(ie,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"Twitter"})}),i.jsx("li",{children:i.jsx(ie,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"LinkedIn"})}),i.jsx("li",{children:i.jsx(ie,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"Facebook"})})]})]})]}),i.jsxs("div",{className:"mt-12 pt-8 border-t border-zinc-800 text-center text-zinc-400",children:[" ",new Date().getFullYear()," AI CABY. All rights reserved."]})]})})]})};function w0(t,e){const s=()=>{if(typeof window>"u")return e;try{const o=window.localStorage.getItem(t);return o?JSON.parse(o):e}catch(o){return console.warn(`Error reading localStorage key "${t}":`,o),e}},[r,n]=m.useState(s),a=o=>{try{const l=o instanceof Function?o(r):o;n(l),typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(l))}catch(l){console.warn(`Error setting localStorage key "${t}":`,l)}};return m.useEffect(()=>{n(s())},[]),[r,a]}function j0({title:t,titleId:e,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const N0=m.forwardRef(j0);function k0({title:t,titleId:e,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const _0=m.forwardRef(k0);function C0({title:t,titleId:e,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const S0=m.forwardRef(C0);function A0({title:t,titleId:e,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const T0=m.forwardRef(A0);function P0({title:t,titleId:e,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const E0=m.forwardRef(P0);function R0({title:t,titleId:e,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Mc=m.forwardRef(R0);function D0({title:t,titleId:e,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const M0=m.forwardRef(D0);function F0({title:t,titleId:e,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const I0=m.forwardRef(F0);function V0({title:t,titleId:e,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const L0=m.forwardRef(V0);function O0({title:t,titleId:e,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const B0=m.forwardRef(O0);function z0({title:t,titleId:e,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ho=m.forwardRef(z0);function $0({title:t,titleId:e,...s},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const U0=m.forwardRef($0),W0=()=>{const t=Tn(),[e,s]=w0("sidebarOpen",window.innerWidth>=1024),[r,n]=m.useState(e),{isDarkMode:a}=cc();m.useEffect(()=>{s(r)},[r,s]),m.useEffect(()=>{document.documentElement.classList.toggle("dark",a);const l=()=>{window.innerWidth>=1024?e&&n(!0):n(!1)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[a]);const o=[{path:"/",label:"Dashboard",icon:I0},{path:"/rides",label:"Active Rides",icon:Me},{path:"/favourites",label:"Favourites",icon:B0},{path:"/history",label:"Ride History",icon:Mc},{path:"/profile",label:"Profile",icon:ho},{path:"/support",label:"Support",icon:T0}];return i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:()=>n(!r),className:`
          fixed top-4 left-4 z-50 p-2.5 rounded-lg bg-[#F7C948] hover:bg-[#FFE17D] 
          transition-all duration-200 shadow-[0_4px_12px_rgba(247,201,72,0.3)] ml-2
          ${r?"hidden":"block"}
          transform hover:scale-105
        `,"aria-label":"Toggle Menu",children:i.jsx(S0,{className:"w-6 h-6 text-[#2A2A2A]"})}),i.jsx(zs,{children:r&&i.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1),className:`fixed inset-0 bg-black/50 backdrop-blur-sm z-40 ${window.innerWidth>=1024?"bg-opacity-0":""}`})}),i.jsxs(B.div,{initial:!1,animate:{x:r?0:"-100%"},transition:{type:"spring",bounce:0,duration:.4},className:"fixed left-0 top-0 h-full w-[280px] bg-[#1C1C1C] text-white shadow-2xl z-50",children:[i.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#F7C948] via-[#FFE17D] to-[#F7C948]"}),i.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-white/5 transition-colors z-[60]","aria-label":"Close Menu",children:i.jsx(U0,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"relative h-full flex flex-col px-4 py-6",children:[i.jsxs("div",{className:"flex items-center mb-12 px-2 mt-2",children:[i.jsx("div",{className:"bg-[#F7C948] p-2 rounded-xl shadow-lg",children:i.jsx(Me,{className:"w-8 h-8 text-white",strokeWidth:2.5})}),i.jsx("span",{className:"ml-3 text-2xl font-extrabold tracking-tight bg-gradient-to-r from-[#F7C948] to-[#FFE17D] bg-clip-text text-transparent",children:"AI CABY"})]}),i.jsx("nav",{className:"flex-1 space-y-2 overflow-y-auto scrollbar-thin scrollbar-track-[rgba(255,255,255,0.05)] scrollbar-thumb-[rgba(247,201,72,0.3)] hover:scrollbar-thumb-[rgba(247,201,72,0.5)] px-2",children:o.map(l=>{const c=l.icon,d=t.pathname===l.path;return i.jsx("div",{children:i.jsxs(ie,{to:l.path,onClick:()=>n(!1),className:`
                      group flex items-center px-4 py-2.5 rounded-full transition-all duration-300
                      ${d?"bg-gradient-to-r from-[#F7C948] to-[#FFE17D] shadow-lg":"hover:bg-white/5"}
                    `,children:[i.jsx("div",{className:`
                      p-1.5 rounded-full transition-colors
                      ${d?"bg-black/20 text-white":"text-white group-hover:bg-black/20"}
                    `,children:i.jsx(c,{className:"w-5 h-5"})}),i.jsx("span",{className:`
                      ml-3 font-medium tracking-wide
                      ${d?"text-[#2A2A2A]":"text-white/80 group-hover:text-white"}
                    `,children:l.label})]})},l.path)})}),i.jsx("div",{className:"mt-auto mb-6"}),i.jsxs("div",{className:"border-t border-[#F7C948]/20 pt-6 mt-6",children:[i.jsxs("div",{className:"flex items-center px-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#F7C948] backdrop-blur-sm flex items-center justify-center",children:i.jsx(ho,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"ml-3 flex-1",children:[i.jsx("div",{className:"font-bold tracking-wide text-white",children:"John Doe"}),i.jsx("div",{className:"text-sm font-medium text-[#F7C948]/80",children:"Professional Driver"})]})]}),i.jsxs(ie,{to:"/auth/signout",onClick:()=>n(!1),className:"flex items-center mt-4 px-3 py-2 text-white/70 hover:text-white transition-colors group",children:[i.jsx("div",{className:"p-2 rounded-lg text-white group-hover:bg-white/5",children:i.jsx(_0,{className:"w-5 h-5"})}),i.jsx("span",{className:"ml-3 font-bold tracking-wide",children:"Sign Out"})]})]})]})]})]})},mt=({children:t})=>{const s=Tn().pathname==="/";return i.jsxs("div",{className:"min-h-screen bg-background",children:[!s&&i.jsx(i.Fragment,{children:i.jsx("div",{className:"fixed inset-y-0 left-0 z-40",children:i.jsx(W0,{})})}),i.jsx("main",{className:`
        ${s?"":"pl-4 pt-20 md:pt-6 transition-all duration-300"}
        ${s?"":"md:pl-[280px]"}
        px-4 sm:px-6 lg:px-8
      `,children:t})]})},Z0=[{id:"cash",name:"Cash",icon:"",description:"Pay with cash directly to driver"},{id:"tikkie",name:"Tikkie",icon:"",description:"Pay via Tikkie payment request"},{id:"terminal",name:"Terminal",icon:"",description:"Pay with card via POS terminal"}],q0=t=>t>=500?"gold":t>=200?"silver":t>=50?"bronze":"new",H0=()=>{var b,j,T,C;const{user:t}=Ke(),[e,s]=m.useState(null),[r,n]=m.useState(!1),[a,o]=m.useState(null),l=m.useRef(null),[c,d]=m.useState([]);m.useEffect(()=>{t!=null&&t.id&&u()},[t==null?void 0:t.id]);const u=async()=>{if(t!=null&&t.id){n(!0);try{const{data:k,error:E}=await X.from("profiles").select("*").eq("id",t.id).single();if(E)throw E;const{data:V,error:Q}=await X.from("rides").select("id, distance, created_at, status").eq("user_id",t.id);if(Q)throw Q;const G=(V==null?void 0:V.filter(A=>A.status==="completed"))||[],$=G.length,L=G.reduce((A,H)=>A+(H.distance||0),0),q={...k,email:t.email||"",total_rides:$,total_distance:L,badge_level:q0($)};s(q),d(k.payment_preferences||[])}catch(k){console.error("Error fetching profile:",k),_("error","Failed to load profile")}finally{n(!1)}}},h=async k=>{if(k.preventDefault(),!(!(t!=null&&t.id)||!e)){n(!0);try{const{error:E}=await X.from("profiles").update({first_name:e.first_name,phone_number:e.phone_number,payment_preferences:c,updated_at:new Date().toISOString()}).eq("id",t.id);if(E)throw E;_("success","Profile updated successfully")}catch(E){console.error("Error updating profile:",E),_("error","Failed to update profile")}finally{n(!1)}}},f=k=>{const{name:E,value:V}=k.target;s(Q=>Q?{...Q,[E]:V}:null)},g=()=>{var k;(k=l.current)==null||k.click()},v=async k=>{var Q;const E=(Q=k.target.files)==null?void 0:Q[0];if(!E||!(t!=null&&t.id))return;if(E.size>2*1024*1024){_("error","File size must be less than 2MB");return}if(!["image/jpeg","image/png","image/gif"].includes(E.type)){_("error","File must be JPG, PNG or GIF");return}try{if(n(!0),e!=null&&e.avatar_url){const H=e.avatar_url.split("/").pop();H&&await X.storage.from("avatars").remove([H])}const G=E.type.split("/")[1],$=`${t.id}-${Date.now()}.${G}`,{error:L}=await X.storage.from("avatars").upload($,E,{cacheControl:"3600",upsert:!1,contentType:E.type});if(L)throw L;const{data:{publicUrl:q}}=X.storage.from("avatars").getPublicUrl($),{error:A}=await X.from("profiles").update({avatar_url:q,updated_at:new Date().toISOString()}).eq("id",t.id);if(A)throw A;s(H=>H?{...H,avatar_url:q}:null),_("success","Profile photo updated successfully"),l.current&&(l.current.value="")}catch(G){console.error("Error uploading photo:",G),_("error",G.message||"Failed to upload photo")}finally{n(!1)}},x=k=>{d(E=>E.includes(k)?E.filter(V=>V!==k):[...E,k])},_=(k,E)=>{o({type:k,message:E}),setTimeout(()=>o(null),5e3)},N=k=>{switch(k){case"new":return 50;case"bronze":return 200;case"silver":return 500;default:return 500}};return i.jsx(mt,{children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r&&i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs("div",{className:"animate-pulse space-y-8",children:[i.jsx("div",{className:"h-48 bg-zinc-800/50 rounded-xl"}),i.jsx("div",{className:"h-96 bg-zinc-800/50 rounded-xl"})]})}),!r&&e&&i.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[i.jsxs("div",{className:"bg-zinc-900/90 rounded-xl p-6 border border-[#F7C948]/10",children:[i.jsx("h2",{className:"text-xl font-semibold mb-6 text-white",children:"Ride Statistics"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4 flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-3xl font-bold text-[#F7C948] mb-2",children:e.total_rides}),i.jsx("span",{className:"text-sm text-zinc-400",children:"Total Rides"})]}),i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4 flex flex-col items-center justify-center",children:[i.jsxs("span",{className:"text-3xl font-bold text-[#F7C948] mb-2",children:[(e.total_distance/1e3).toFixed(1),"km"]}),i.jsx("span",{className:"text-sm text-zinc-400",children:"Total Distance"})]}),i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4 flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-3xl mb-2",children:e.badge_level==="gold"?"":e.badge_level==="silver"?"":e.badge_level==="bronze"?"":""}),i.jsx("span",{className:"text-sm text-zinc-400",children:e.badge_level?`${e.badge_level.charAt(0).toUpperCase()}${e.badge_level.slice(1)} Member`:"Member"})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-zinc-800/30 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-zinc-400",children:"Progress to next level"}),i.jsxs("span",{className:"text-sm text-[#F7C948]",children:[e.total_rides," / ",N(e.badge_level||"new")," rides"]})]}),i.jsx("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-[#F7C948] rounded-full transition-all duration-1000",style:{width:`${Math.min(100,e.total_rides/N(e.badge_level||"new")*100)}%`}})})]})]}),i.jsx("div",{className:"bg-zinc-900/90 rounded-xl border border-[#F7C948]/10 overflow-hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h1",{className:"text-2xl font-semibold text-white mb-6",children:"Profile Settings"}),i.jsxs("form",{onSubmit:h,className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-800 border-2 border-[#F7C948]/20 text-[#F7C948] flex items-center justify-center text-2xl font-bold shadow-lg transition-all duration-300 hover:border-[#F7C948]/40",children:e!=null&&e.avatar_url?i.jsx("img",{src:e.avatar_url,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):((j=(b=e==null?void 0:e.first_name)==null?void 0:b[0])==null?void 0:j.toUpperCase())||((C=(T=t==null?void 0:t.email)==null?void 0:T[0])==null?void 0:C.toUpperCase())||"?"}),i.jsxs("div",{children:[i.jsx("button",{type:"button",onClick:g,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 ${r?"bg-[#F7C948]/50 cursor-not-allowed":"bg-[#F7C948] hover:bg-[#F7C948]/90"} text-zinc-900`,disabled:r,children:i.jsx("span",{className:"flex items-center gap-2",children:r?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-zinc-900 border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):"Upload Photo"})}),i.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:v,className:"hidden"}),i.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"JPG, PNG or GIF (max. 2MB)"})]})]}),i.jsx(qe,{label:"Name",name:"first_name",value:(e==null?void 0:e.first_name)||"",onChange:f,placeholder:"Enter your name"}),i.jsx(qe,{label:"Email",type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"bg-gray-50"}),i.jsx(qe,{label:"Phone Number",name:"phone_number",value:(e==null?void 0:e.phone_number)||"",onChange:f,placeholder:"Enter your phone number"}),i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-white",children:"Payment Preferences"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-sm text-zinc-400 mr-2",children:"Select multiple"}),i.jsxs("div",{className:"relative group",children:[i.jsx("button",{type:"button",className:"w-6 h-6 flex items-center justify-center rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors border border-[#F7C948]/20","aria-label":"Information about payment methods",children:i.jsx("span",{className:"text-[#F7C948]",children:""})}),i.jsx("div",{className:"absolute right-0 w-64 p-3 bg-zinc-800 border border-[#F7C948]/20 shadow-xl text-zinc-300 text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10 mt-2 backdrop-blur-sm",children:"Select your preferred payment methods. You can choose multiple options."})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Z0.map(k=>i.jsxs("button",{type:"button",onClick:()=>x(k.id),className:`
                            relative p-4 rounded-xl transition-all duration-300 text-left
                            ${c.includes(k.id)?"bg-[#F7C948]/10 border border-[#F7C948]":"bg-zinc-800/50 border border-[#F7C948]/20 hover:border-[#F7C948]/40"}
                          `,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"text-2xl",children:k.icon}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-white",children:k.name}),i.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:k.description})]})]}),c.includes(k.id)&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx("span",{className:"text-[#F7C948]",children:""})})]},k.id))})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"submit",disabled:r,className:`
                        w-full py-3 rounded-lg font-medium transition-all duration-300
                        ${r?"bg-[#F7C948]/50 cursor-not-allowed":"bg-[#F7C948] hover:bg-[#F7C948]/90"} text-zinc-900
                      `,children:i.jsx("span",{className:"flex items-center justify-center gap-2",children:r?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-zinc-900 border-t-transparent rounded-full animate-spin"}),"Saving..."]}):"Save Changes"})})})]})]})}),i.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl overflow-hidden border border-red-500/20",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-4",children:"Danger Zone"}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),i.jsx("button",{type:"button",className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Delete Account"})]})})]}),a&&i.jsx(Dc,{type:a.type,message:a.message,onClose:()=>o(null)})]})})},Y0=({tickets:t,onTicketClick:e})=>{const s=a=>{switch(a){case"open":return i.jsx(M0,{className:"w-5 h-5 text-blue-500"});case"in_progress":return i.jsx(N0,{className:"w-5 h-5 text-yellow-500 animate-spin"});case"resolved":return i.jsx(E0,{className:"w-5 h-5 text-green-500"});case"closed":return i.jsx(Mc,{className:"w-5 h-5 text-gray-500"});default:return null}},r=a=>{switch(a){case"open":return"bg-blue-50 text-blue-700 border-blue-100";case"in_progress":return"bg-yellow-50 text-yellow-700 border-yellow-100";case"resolved":return"bg-green-50 text-green-700 border-green-100";case"closed":return"bg-gray-50 text-gray-700 border-gray-100";default:return"bg-gray-50 text-gray-700 border-gray-100"}},n=a=>{switch(a){case"urgent":return"bg-red-50 text-red-700 border-red-100";case"high":return"bg-orange-50 text-orange-700 border-orange-100";case"medium":return"bg-blue-50 text-blue-700 border-blue-100";case"low":return"bg-gray-50 text-gray-700 border-gray-100";default:return"bg-gray-50 text-gray-700 border-gray-100"}};return i.jsx("div",{className:"divide-y divide-gray-100",children:t.map(a=>i.jsx("div",{onClick:()=>e(a.id),className:"p-6 hover:bg-gray-50 transition-colors cursor-pointer",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:`mt-1 ${r(a.status)} p-2 rounded-full`,children:s(a.status)}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:a.title}),i.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:a.description}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[i.jsxs("span",{className:"text-gray-500",children:["#",a.id.split("-")[0]]}),i.jsx("span",{className:"text-gray-500",children:Ht(new Date(a.createdAt),"MMM d, yyyy HH:mm")}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n(a.priority)}`,children:a.priority}),i.jsx("span",{className:"text-gray-500 bg-gray-100 px-2 py-1 rounded-full text-xs",children:a.category})]})]})]}),i.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${r(a.status)}`,children:a.status.replace("_"," ")})]})},a.id))})},hs={async getTickets(){const{data:t,error:e}=await X.from("tickets").select("*").order("created_at",{ascending:!1});if(e)throw e;return t},async getTicket(t){const{data:e,error:s}=await X.from("tickets").select("*").eq("id",t).single();if(s)throw s;const{data:r,error:n}=await X.from("ticket_messages").select("*").eq("ticket_id",t).order("created_at",{ascending:!0});if(n)throw n;const{data:a,error:o}=await X.from("ticket_attachments").select("*").eq("ticket_id",t).order("created_at",{ascending:!0});if(o)throw o;return{ticket:e,messages:r||[],attachments:a||[]}},async createTicket(t){const{data:e,error:s}=await X.from("tickets").insert([{...t,status:"open"}]).select().single();if(s)throw s;return e},async updateTicketStatus(t,e){const{error:s}=await X.from("tickets").update({status:e}).eq("id",t);if(s)throw s},async addMessage(t,e){var a;const{data:s,error:r}=await X.from("ticket_messages").insert([{ticket_id:t,content:e.content}]).select().single();if(r)throw r;const n=[];if((a=e.attachments)!=null&&a.length)for(const o of e.attachments){const l=o.name.split(".").pop(),c=`${t}/${s.id}/${Date.now()}.${l}`,{error:d}=await X.storage.from("ticket-attachments").upload(c,o);if(d)throw d;const{data:u,error:h}=await X.from("ticket_attachments").insert([{ticket_id:t,message_id:s.id,file_name:o.name,file_type:o.type,file_size:o.size,storage_path:c}]).select().single();if(h)throw h;n.push(u)}return{message:s,attachments:n}},async getAttachmentUrl(t){const{data:e}=await X.storage.from("ticket-attachments").createSignedUrl(t,3600);if(!(e!=null&&e.signedUrl))throw new Error("Could not generate signed URL");return e.signedUrl}},K0=_e.object({title:_e.string().min(5,"Title must be at least 5 characters"),description:_e.string().min(20,"Description must be at least 20 characters"),category:_e.string().min(1,"Please select a category"),priority:_e.enum(["low","medium","high","urgent"])}),G0=["General Inquiry","Technical Issue","Billing","Feature Request","Bug Report","Account","Other"],J0=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}],X0=({onSuccess:t,onCancel:e})=>{const{register:s,handleSubmit:r,formState:{errors:n,isSubmitting:a}}=Jt({resolver:Rr(K0),defaultValues:{priority:"medium"}}),o=async l=>{try{const c=await hs.createTicket(l);t(c)}catch(c){console.error("Error creating ticket:",c)}};return i.jsxs("form",{onSubmit:r(o),className:"space-y-6",children:[i.jsx("div",{children:i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New Ticket"})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),i.jsx("input",{type:"text",...s("title"),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${n.title?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-primary/20 focus:border-primary"}`,placeholder:"Brief summary of your issue"}),n.title&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.title.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),i.jsxs("select",{...s("category"),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${n.category?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-primary/20 focus:border-primary"}`,children:[i.jsx("option",{value:"",children:"Select a category"}),G0.map(l=>i.jsx("option",{value:l,children:l},l))]}),n.category&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.category.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),i.jsx("select",{...s("priority"),className:"w-full px-3 py-2 border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",children:J0.map(({value:l,label:c})=>i.jsx("option",{value:l,children:c},l))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{...s("description"),rows:4,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${n.description?"border-red-500 focus:ring-red-200":"border-gray-300 focus:ring-primary/20 focus:border-primary"}`,placeholder:"Detailed description of your issue"}),n.description&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.description.message})]}),i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-primary hover:bg-primary/90 text-accent font-semibold rounded-lg transition-colors disabled:opacity-50",children:a?"Creating...":"Create Ticket"})]})]})},Q0=()=>{const t=Os(),[e,s]=m.useState(!1),[r,n]=m.useState([{id:"1",userId:"user1",title:"App Navigation Issue",description:"Having trouble accessing the ride history section of the app.",status:"open",priority:"medium",category:"Technical Support",createdAt:new Date(Date.now()-24*60*60*1e3),updatedAt:new Date(Date.now()-24*60*60*1e3)},{id:"2",userId:"user1",title:"Payment Not Processed",description:"My last ride payment is showing as pending for over 2 hours.",status:"in_progress",priority:"high",category:"Payment",createdAt:new Date(Date.now()-2*24*60*60*1e3),updatedAt:new Date(Date.now()-12*60*60*1e3)},{id:"3",userId:"user1",title:"Driver Feedback",description:"Would like to leave additional feedback for my driver from yesterday.",status:"resolved",priority:"low",category:"Feedback",createdAt:new Date(Date.now()-3*24*60*60*1e3),updatedAt:new Date(Date.now()-1*24*60*60*1e3)},{id:"4",userId:"user1",title:"Urgent: Lost Item",description:"Left my laptop in the taxi, need immediate assistance.",status:"open",priority:"urgent",category:"Lost Items",createdAt:new Date(Date.now()-1*60*60*1e3),updatedAt:new Date(Date.now()-1*60*60*1e3)}]),a=c=>{t(`/support/ticket/${c}`)},o=()=>{s(!0)},l=c=>{n(d=>[c,...d]),s(!1)};return i.jsx(mt,{children:i.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Support Center"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Need help? Create a ticket and our support team will assist you."})]}),i.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-primary text-accent rounded-lg hover:bg-primary/90 transition-colors font-medium",children:[i.jsx(L0,{className:"w-5 h-5"}),i.jsx("span",{children:"New Ticket"})]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[{label:"Open",count:r.filter(c=>c.status==="open").length,color:"bg-blue-50 text-blue-700"},{label:"In Progress",count:r.filter(c=>c.status==="in_progress").length,color:"bg-yellow-50 text-yellow-700"},{label:"Resolved",count:r.filter(c=>c.status==="resolved").length,color:"bg-green-50 text-green-700"},{label:"Total",count:r.length,color:"bg-gray-50 text-gray-700"}].map(c=>i.jsxs("div",{className:`${c.color} rounded-lg p-4`,children:[i.jsx("div",{className:"text-sm font-medium",children:c.label}),i.jsx("div",{className:"text-2xl font-bold mt-1",children:c.count})]},c.label))}),e?i.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:i.jsx(X0,{onSuccess:l,onCancel:()=>s(!1)})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[i.jsxs("select",{className:"rounded-lg border-gray-300 text-sm focus:ring-primary focus:border-primary",children:[i.jsx("option",{value:"all",children:"All Tickets"}),i.jsx("option",{value:"open",children:"Open"}),i.jsx("option",{value:"in_progress",children:"In Progress"}),i.jsx("option",{value:"resolved",children:"Resolved"})]}),i.jsxs("select",{className:"rounded-lg border-gray-300 text-sm focus:ring-primary focus:border-primary",children:[i.jsx("option",{value:"all",children:"All Priorities"}),i.jsx("option",{value:"urgent",children:"Urgent"}),i.jsx("option",{value:"high",children:"High"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"low",children:"Low"})]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:i.jsx(Y0,{tickets:r,onTicketClick:a})})]})]})})},ey=()=>{const{id:t}=Hc(),e=Os(),[s,r]=m.useState(null),[n,a]=m.useState([]),[o,l]=m.useState([]),[c,d]=m.useState(!0),[u,h]=m.useState(null),[f,g]=m.useState(""),[v,x]=m.useState([]),[_,N]=m.useState(!1),b=m.useRef(null),j=m.useRef(null),{user:T}=Ke();m.useEffect(()=>{t&&C()},[t]),m.useEffect(()=>{k()},[n]);const C=async()=>{try{d(!0);const $=await hs.getTicket(t);r($.ticket),a($.messages),l($.attachments)}catch($){h("Failed to load ticket details"),console.error("Error fetching ticket details:",$)}finally{d(!1)}},k=()=>{var $;($=b.current)==null||$.scrollIntoView({behavior:"smooth"})},E=async $=>{if(s)try{await hs.updateTicketStatus(s.id,$),r({...s,status:$})}catch(L){console.error("Error updating ticket status:",L)}},V=async $=>{if($.preventDefault(),!(!f.trim()||_||!s))try{N(!0);const L={content:f.trim(),attachments:v},q=await hs.addMessage(s.id,L);a(A=>[...A,q.message]),l(A=>[...A,...q.attachments]),g(""),x([]),j.current&&(j.current.value="")}catch(L){console.error("Error sending message:",L)}finally{N(!1)}},Q=$=>{const L=Array.from($.target.files||[]);x(L)},G=$=>{switch($){case"open":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"resolved":return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return c?i.jsx(mt,{children:i.jsx("div",{className:"flex justify-center items-center min-h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):u||!s?i.jsx(mt,{children:i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-red-500 mb-4",children:u||"Ticket not found"}),i.jsx("button",{onClick:()=>e("/support"),className:"text-primary hover:text-primary/90",children:"Return to Support"})]})})}):i.jsx(mt,{children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.title}),i.jsx("p",{className:"text-gray-600",children:s.description})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("select",{value:s.status,onChange:$=>E($.target.value),className:`px-3 py-1 rounded-full text-sm font-medium ${G(s.status)}`,children:[i.jsx("option",{value:"open",children:"Open"}),i.jsx("option",{value:"in_progress",children:"In Progress"}),i.jsx("option",{value:"resolved",children:"Resolved"}),i.jsx("option",{value:"closed",children:"Closed"})]})})]}),i.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[i.jsxs("span",{children:["#",s.id.split("-")[0]]}),i.jsxs("span",{children:["Created ",Ht(new Date(s.createdAt),"MMM d, yyyy")]}),i.jsx("span",{children:s.category})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsxs("div",{className:"h-[500px] overflow-y-auto p-6 space-y-6",children:[n.map($=>i.jsx("div",{className:`flex ${$.userId===(T==null?void 0:T.id)?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[80%] rounded-lg px-4 py-3 ${$.userId===(T==null?void 0:T.id)?"bg-primary text-accent rounded-br-none":"bg-gray-100 text-gray-800 rounded-bl-none"}`,children:[i.jsx("p",{className:"whitespace-pre-wrap text-sm",children:$.content}),o.filter(L=>L.messageId===$.id).map(L=>i.jsxs("div",{className:"mt-2 p-2 bg-white/10 rounded text-xs flex items-center gap-2",children:[""," ",i.jsx("a",{href:"#",onClick:async q=>{q.preventDefault();const A=await hs.getAttachmentUrl(L.storagePath);window.open(A,"_blank")},className:"hover:underline",children:L.fileName})]},L.id)),i.jsx("p",{className:`text-xs mt-1 ${$.userId===(T==null?void 0:T.id)?"text-accent/50":"text-gray-500"}`,children:Ht(new Date($.createdAt),"MMM d, HH:mm")})]})},$.id)),i.jsx("div",{ref:b})]}),i.jsx("form",{onSubmit:V,className:"border-t p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("textarea",{value:f,onChange:$=>g($.target.value),placeholder:"Type your message...",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary resize-none",rows:3}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("input",{ref:j,type:"file",onChange:Q,multiple:!0,className:"text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),i.jsx("button",{type:"submit",disabled:!f.trim()||_,className:"bg-primary hover:bg-primary/90 text-accent font-semibold py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:_?"Sending...":"Send"})]})]})})]})]})})};class ty{constructor(){Lr(this,"trainingData",{examples:[],metadata:{version:"1.0.0",lastUpdated:new Date().toISOString(),totalExamples:0}})}async loadTrainingData(e){this.trainingData={...e,metadata:{...e.metadata,lastUpdated:new Date().toISOString()}},console.log(`Loaded ${this.trainingData.examples.length} training examples`)}findMatchingExample(e){const s=e.toLowerCase().trim();return this.trainingData.examples.find(n=>{const a=n.userInput.toLowerCase();return s.includes(a)||a.includes(s)||this.calculateSimilarity(s,a)>.7})||null}addExample(e){this.trainingData.examples.push(e),this.trainingData.metadata.totalExamples=this.trainingData.examples.length,this.trainingData.metadata.lastUpdated=new Date().toISOString()}getExamples(){return this.trainingData.examples}calculateSimilarity(e,s){const r=new Set(e.split(" ")),n=new Set(s.split(" ")),a=new Set([...r].filter(l=>n.has(l))),o=new Set([...r,...n]);return a.size/o.size}}const Lt=new ty,sy=()=>{var o;const[t,e]=m.useState([]),[s,r]=m.useState({userInput:"",aiResponse:"",context:{intent:""}});m.useEffect(()=>{e(Lt.getExamples())},[]);const n=()=>{!s.userInput||!s.aiResponse||(Lt.addExample(s),e(Lt.getExamples()),r({userInput:"",aiResponse:"",context:{intent:""}}))},a=async l=>{var u;const c=(u=l.target.files)==null?void 0:u[0];if(!c)return;const d=new FileReader;d.onload=async h=>{var f;try{const g=JSON.parse((f=h.target)==null?void 0:f.result);await Lt.loadTrainingData(g),e(Lt.getExamples())}catch(g){console.error("Error loading training data:",g),alert("Error loading training data. Please check the file format.")}},d.readAsText(c)};return i.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Training Data Management"}),i.jsxs("div",{className:"mb-8 p-4 border rounded-lg",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Upload Training Data"}),i.jsx("input",{type:"file",accept:".json",onChange:a,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-accent hover:file:bg-primary/90"})]}),i.jsxs("div",{className:"mb-8 p-4 border rounded-lg",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add New Example"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Input"}),i.jsx("input",{type:"text",value:s.userInput,onChange:l=>r({...s,userInput:l.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"What the user might say..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"AI Response"}),i.jsx("textarea",{value:s.aiResponse,onChange:l=>r({...s,aiResponse:l.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"How AICABY should respond..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Intent"}),i.jsx("input",{type:"text",value:(o=s.context)==null?void 0:o.intent,onChange:l=>r({...s,context:{...s.context,intent:l.target.value}}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"e.g., book_ride, price_inquiry, etc."})]}),i.jsx("button",{onClick:n,disabled:!s.userInput||!s.aiResponse,className:`
              w-full py-2 rounded-lg font-medium
              ${!s.userInput||!s.aiResponse?"bg-gray-300 cursor-not-allowed":"bg-primary text-accent hover:bg-primary/90"}
            `,children:"Add Example"})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Training Examples"}),i.jsx("div",{className:"space-y-4",children:t.map((l,c)=>{var d;return i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"font-medium text-gray-700",children:"Input:"}),i.jsx("div",{className:"mb-2",children:l.userInput}),i.jsx("div",{className:"font-medium text-gray-700",children:"Response:"}),i.jsx("div",{className:"mb-2",children:l.aiResponse}),i.jsx("div",{className:"font-medium text-gray-700",children:"Intent:"}),i.jsx("div",{className:"text-sm text-gray-600",children:(d=l.context)==null?void 0:d.intent})]},c)})})]})]})},Nt=({children:t})=>{const{user:e,isLoading:s}=Ke(),r=Tn();return s?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):e?i.jsx(i.Fragment,{children:t}):i.jsx(er,{to:"/signin",state:{from:r},replace:!0})};class mo extends m.Component{constructor(){super(...arguments);Lr(this,"state",{hasError:!1,error:void 0})}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("Uncaught error:",s,r)}render(){return this.state.hasError?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Something went wrong"}),i.jsxs("div",{className:"mt-2 text-center text-sm text-gray-600",children:[i.jsx("p",{children:"We apologize for the inconvenience. Please try refreshing the page."}),this.state.error&&i.jsx("div",{className:"text-sm text-red-600 font-mono bg-red-50 p-4 rounded overflow-auto",children:i.jsx("pre",{children:this.state.error.toString()})})]})]})})}):this.props.children}}const ry={version:"1.0.0",lastUpdated:"2024-03-19",totalExamples:10},ny=[{userInput:"I need a taxi from Amsterdam to Rotterdam. How long will it take?",aiResponse:"Based on current traffic conditions, a taxi ride from Amsterdam to Rotterdam typically takes around 1 hour. Would you like me to help you book a ride? I can check real-time availability and provide you with a price estimate.",intent:"travel_time_inquiry",entities:{pickup:"Amsterdam",dropoff:"Rotterdam",type:"intercity"}},{userInput:"Book a taxi for tomorrow at 2 PM from Central Station to Business District",aiResponse:"I'll help you book a taxi for tomorrow at 14:00. Could you please confirm your exact pickup point at Central Station (main entrance, taxi stand, etc.) and which part of the Business District you're heading to? This will help ensure a smooth pickup.",intent:"booking_request",entities:{time:"14:00",date:"tomorrow",pickup:"Central Station",dropoff:"Business District"}},{userInput:"How much will it cost from Airport to City Center?",aiResponse:"To provide an accurate fare estimate, I'll need the specific pickup terminal at the airport and your destination in the City Center. Our pricing is transparent with a base fare plus per-kilometer rate, and just a 1.50 service fee. Would you like me to calculate this for you once you provide the exact locations?",intent:"price_estimate",entities:{pickup:"Airport",dropoff:"City Center",service_fee:1.5}},{userInput:"I need to cancel my booking #P2P-87492",aiResponse:"I'll help you cancel booking #P2P-87492. Let me check the cancellation policy based on your scheduled pickup time. Since you're canceling more than 1 hour before pickup, there won't be any cancellation fee. Would you like to proceed with the cancellation?",intent:"cancel_booking",entities:{booking_reference:"P2P-87492",action:"cancel"}},{userInput:"How long does it take from Rotterdam Central to The Hague?",aiResponse:"The journey from Rotterdam Central to The Hague typically takes about 30-35 minutes by taxi, depending on traffic conditions. Would you like me to check the current traffic situation and provide a more precise estimate for your planned travel time?",intent:"duration_estimate",entities:{pickup:"Rotterdam Central",dropoff:"The Hague",estimated_duration:"30-35"}},{userInput:"I left my phone in the taxi last night",aiResponse:"I'm sorry to hear about your lost phone. I'll help you track it down. Could you please provide your booking reference number from last night's ride? This will help us contact the driver immediately. I'll create a lost item report and we'll notify you as soon as we hear back from the driver.",intent:"lost_item",entities:{item:"phone",time:"last night"}},{userInput:"I need a business invoice for my ride yesterday",aiResponse:"I'll help you generate a business invoice for your ride. I'll need your booking reference number to ensure all the correct details are included. The invoice will include your company details, trip information, and our business registration number. Would you like me to email it to your registered business email address?",intent:"invoice_request",entities:{type:"business",time:"yesterday"}},{userInput:"Do you have wheelchair accessible vehicles?",aiResponse:"Yes, we do offer wheelchair accessible vehicles! These specialized vehicles come with trained drivers to assist with boarding and exit. There's a small additional service charge of 5 for this service. Would you like me to check availability and help you book a wheelchair accessible taxi?",intent:"accessibility_inquiry",entities:{vehicle_type:"wheelchair_accessible",additional_fee:5}},{userInput:"I need a pickup from Schiphol Airport, my flight arrives at 15:30",aiResponse:"I'll help you arrange a pickup from Schiphol Airport. If you'd like, I can link your flight number to the booking for our free flight monitoring service - this way, your driver will automatically adjust if your flight is delayed. Which terminal will you be arriving at, and where would you like to be dropped off?",intent:"airport_pickup",entities:{pickup:"Schiphol Airport",time:"15:30",service:"flight_monitoring"}},{userInput:"We need 3 taxis for a group of 12 people",aiResponse:"I can help you book 3 taxis for your group of 12 people. With our group booking discount, you'll receive 10% off the total fare. Would you like all taxis to arrive at the same time? I can coordinate this for you. Please let me know the pickup location, destination, and preferred time.",intent:"group_booking",entities:{passengers:12,vehicles:3,discount:10}}],iy={metadata:ry,examples:ny},ay=[{id:"loc-001",name:"Home",address:"Prinsengracht 263-267, Amsterdam",type:"home"},{id:"loc-002",name:"Office",address:"Gustav Mahlerplein 50, Amsterdam",type:"work"},{id:"loc-003",name:"Gym",address:"Weteringschans 85, Amsterdam",type:"favorite"}],oy=[{id:"contact-001",name:"Emma van der Berg",phone:"+31 6 1234 5678",relationship:"Partner"},{id:"contact-002",name:"Jan de Vries",phone:"+31 6 8765 4321",relationship:"Family"},{id:"contact-003",name:"Sophie Bakker",phone:"+31 6 9876 5432",relationship:"Emergency Contact"}],ly=()=>{const{user:t}=Ke(),[e,s]=m.useState(ay),[r,n]=m.useState(oy),[a,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState([]),{register:h,handleSubmit:f,reset:g}=Jt({defaultValues:{name:"",type:"favorite"}}),{register:v,handleSubmit:x,reset:_}=Jt({defaultValues:{name:"",phone:"",relationship:""}});m.useEffect(()=>{N(),b()},[t]);const N=async()=>{if(!t)return;const{data:k,error:E}=await X.from("saved_locations").select("*").eq("user_id",t.id);k&&!E&&s(k)},b=async()=>{if(!t)return;const{data:k,error:E}=await X.from("emergency_contacts").select("*").eq("user_id",t.id);k&&!E&&n(k)},j=async k=>{if(k.length>2){const E=await lc(k);u(E)}else u([])},T=async k=>{if(!t)return;const{error:E}=await X.from("saved_locations").insert([{user_id:t.id,...k}]);E||(N(),o(!1),g())},C=async k=>{if(!t)return;const{error:E}=await X.from("emergency_contacts").insert([{user_id:t.id,...k}]);E||(b(),c(!1),_())};return i.jsx(mt,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-accent/5 to-primary/5 p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-lg",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Favourites"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your favourite locations and emergency contacts"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Saved Locations"}),i.jsx("p",{className:"text-3xl font-bold text-accent mt-2",children:e.length})]}),i.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Emergency Contacts"}),i.jsx("p",{className:"text-3xl font-bold text-accent mt-2",children:r.length})]}),i.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Access"}),i.jsx("p",{className:"text-3xl font-bold text-accent mt-2",children:"24/7"})]})]}),i.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Saved Locations"}),i.jsx("button",{onClick:()=>o(!0),className:"bg-accent text-white hover:bg-accent/90 px-4 py-2 rounded-lg transition-colors",children:"Add Location"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((k,E)=>i.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:E*.1},className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-gray-100 hover:border-primary/20",children:[i.jsx("div",{className:"text-4xl mb-3",children:k.name==="Home"?"":k.name==="Office"?"":""}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.name}),i.jsx("p",{className:"text-gray-600 text-sm mt-2",children:k.address}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:i.jsx("button",{className:"bg-primary text-accent hover:bg-primary/90 px-4 py-2 rounded-lg text-sm transition-colors",children:"Set as destination"})})]},k.id))}),a&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Add New Location"}),i.jsxs("form",{onSubmit:f(T),className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("input",{type:"text",placeholder:"Search address...",onChange:k=>j(k.target.value),className:"w-full px-4 py-2 border rounded-lg"}),d.length>0&&i.jsx("div",{className:"mt-2 border rounded-lg max-h-40 overflow-y-auto",children:d.map(k=>i.jsx("div",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{u([])},children:k.address},k.coordinates.join(",")))})]}),i.jsx("input",{...h("name"),placeholder:"Label (e.g., Home, Office)",className:"w-full px-4 py-2 border rounded-lg"}),i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:()=>o(!1),className:"bg-gray-100 text-gray-600 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-primary text-accent hover:bg-primary/90 px-4 py-2 rounded-lg transition-colors",children:"Save Location"})]})]})]})})]}),i.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Emergency Contacts"}),i.jsx("button",{onClick:()=>c(!0),className:"bg-accent text-white hover:bg-accent/90 px-4 py-2 rounded-lg transition-colors",children:"Add Contact"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((k,E)=>i.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:E*.1},className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-gray-100 hover:border-primary/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center text-2xl",children:""}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:k.name}),i.jsx("p",{className:"text-sm text-primary",children:k.relationship})]})]}),i.jsx("p",{className:"text-gray-600 mt-2",children:k.phone}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex justify-between",children:[i.jsx("button",{className:"bg-primary text-accent hover:bg-primary/90 px-4 py-2 rounded-lg text-sm transition-colors",children:"Call Now"}),i.jsx("button",{className:"bg-accent text-white hover:bg-accent/90 px-4 py-2 rounded-lg text-sm transition-colors",children:"Share Location"})]})]},k.id))}),l&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Add Emergency Contact"}),i.jsxs("form",{onSubmit:x(C),className:"space-y-4",children:[i.jsx("input",{...v("name"),placeholder:"Contact Name",className:"w-full px-4 py-2 border rounded-lg"}),i.jsx("input",{...v("phone"),placeholder:"Phone Number",className:"w-full px-4 py-2 border rounded-lg"}),i.jsx("input",{...v("relationship"),placeholder:"Relationship",className:"w-full px-4 py-2 border rounded-lg"}),i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:()=>c(!1),className:"bg-gray-100 text-gray-600 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-primary text-accent hover:bg-primary/90 px-4 py-2 rounded-lg transition-colors",children:"Save Contact"})]})]})]})})]})]})})})},cy=[{id:"RIDE-001",date:new Date("2024-03-20T14:30:00"),pickup:"Amsterdam Central Station",dropoff:"Schiphol Airport",distance:15.7,duration:25,price:45.5,driver:{name:"Michael B.",rating:4.9,avatar:""},status:"completed",carType:"Tesla Model Y",paymentMethod:"Credit Card"},{id:"RIDE-002",date:new Date("2024-03-19T09:15:00"),pickup:"Rotterdam Business Center",dropoff:"Rotterdam Central",distance:3.2,duration:12,price:15.75,driver:{name:"Sarah K.",rating:4.8,avatar:""},status:"completed",carType:"BMW i4",paymentMethod:"PayPal"},{id:"RIDE-003",date:new Date("2024-03-18T18:45:00"),pickup:"The Hague Beach",dropoff:"City Center",distance:4.5,duration:15,price:18.9,driver:{name:"David L.",rating:4.7,avatar:""},status:"cancelled",carType:"Mercedes EQS",paymentMethod:"Apple Pay"}],dy=()=>{const[t,e]=m.useState(null),[s,r]=m.useState(!1),n=o=>{e(o),r(!0)},a=o=>{console.log("Downloading receipt for ride:",o.id)};return i.jsx(mt,{children:i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-accent/5 to-primary/5 p-6",children:[i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-lg",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ride History"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"View and manage your past rides"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Rides"}),i.jsx("p",{className:"text-3xl font-bold text-accent mt-2",children:"24"})]}),i.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Distance"}),i.jsx("p",{className:"text-3xl font-bold text-accent mt-2",children:"342 km"})]}),i.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Spent"}),i.jsx("p",{className:"text-3xl font-bold text-accent mt-2",children:"825.50"})]})]}),i.jsx("div",{className:"space-y-6",children:cy.map((o,l)=>i.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.1},className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center text-2xl",children:o.driver.avatar}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Ht(o.date,"MMM d, yyyy")}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.status})]}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Ht(o.date,"HH:mm"),"  ",o.distance," km  ",o.duration," min"]}),i.jsxs("div",{className:"mt-2 space-y-1",children:[i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"text-primary",children:"From:"})," ",o.pickup]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"text-primary",children:"To:"})," ",o.dropoff]})]})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[i.jsxs("p",{className:"text-2xl font-bold text-accent",children:["",o.price.toFixed(2)]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>n(o),className:"px-3 py-1.5 text-sm bg-primary/10 hover:bg-primary/20 text-accent rounded-lg transition-colors",children:"Share"}),i.jsx("button",{onClick:()=>a(o),className:"px-3 py-1.5 text-sm bg-accent text-white rounded-lg hover:bg-accent/90 transition-colors",children:"Receipt"})]})]})]}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{children:["Driver: ",o.driver.name]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-yellow-400",children:""}),i.jsx("span",{className:"ml-1",children:o.driver.rating})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{children:o.carType}),i.jsx("span",{children:o.paymentMethod})]})]})})]},o.id))})]}),s&&t&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Share Ride Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("button",{onClick:()=>r(!1),className:"w-full py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Share on Facebook"}),i.jsx("button",{onClick:()=>r(!1),className:"w-full py-3 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors",children:"Share on Twitter"}),i.jsx("button",{onClick:()=>r(!1),className:"w-full py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Share on WhatsApp"}),i.jsx("button",{onClick:()=>r(!1),className:"w-full py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})})]})})},uy=[{id:"RIDE-001",status:"ongoing",pickup:"Amsterdam Central Station",dropoff:"Schiphol Airport",date:new Date(Date.now()+1e3*60*5),price:45.5,distance:15.7,duration:25,eta:12,driver:{id:"D1",name:"Michael B.",phone:"+31 6 1234 5678",rating:4.9,avatar:"",carDetails:{model:"Tesla Model Y",color:"Midnight Silver",plate:"TX-123-AB"}},paymentMethod:"Credit Card"},{id:"RIDE-002",status:"upcoming",pickup:"Rotterdam Business Center",dropoff:"Rotterdam Central",date:new Date(Date.now()+1e3*60*15),price:22.75,distance:3.2,duration:12,eta:8,driver:{id:"D2",name:"Sarah K.",phone:"+31 6 8765 4321",rating:4.8,avatar:"",carDetails:{model:"BMW i4",color:"Alpine White",plate:"EV-456-CD"}},paymentMethod:"PayPal"},{id:"RIDE-003",status:"scheduled",pickup:"The Hague Beach",dropoff:"City Center",date:new Date(Date.now()+1e3*60*60*24),price:18.9,distance:4.5,duration:15,paymentMethod:"Apple Pay",notes:"Please pick up at the main entrance"}],hy=()=>{const[t]=m.useState(uy),[e,s]=m.useState(null),[r,n]=m.useState(!1),a=d=>{switch(d){case"ongoing":return"bg-green-500 text-white";case"upcoming":return"bg-blue-500 text-white";case"scheduled":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},o=d=>{window.location.href=`tel:${d}`},l=d=>{s(d),n(!0)},c=d=>{console.log("Cancelling ride:",d.id)};return i.jsx(mt,{children:i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-accent/5 to-primary/5 p-6",children:[i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-lg",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Active Rides"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your ongoing and upcoming rides"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-gradient-to-br from-green-400/10 to-green-600/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ongoing Rides"}),i.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:t.filter(d=>d.status==="ongoing").length})]}),i.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-br from-blue-400/10 to-blue-600/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Rides"}),i.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:t.filter(d=>d.status==="upcoming").length})]}),i.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-gradient-to-br from-purple-400/10 to-purple-600/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Scheduled Rides"}),i.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:t.filter(d=>d.status==="scheduled").length})]})]}),i.jsx("div",{className:"space-y-6",children:t.map((d,u)=>i.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("span",{className:`px-4 py-1.5 rounded-full text-sm font-medium ${a(d.status)}`,children:d.status.charAt(0).toUpperCase()+d.status.slice(1)}),i.jsxs("p",{className:"text-2xl font-bold text-accent",children:["",d.price.toFixed(2)]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx("span",{className:"text-green-600",children:"A"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Pickup"}),i.jsx("p",{className:"font-medium",children:d.pickup})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx("span",{className:"text-red-600",children:"B"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Dropoff"}),i.jsx("p",{className:"font-medium",children:d.dropoff})]})]})]}),i.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[i.jsxs("span",{children:[d.distance," km"]}),i.jsx("span",{children:""}),i.jsxs("span",{children:[d.duration," min"]}),i.jsx("span",{children:""}),i.jsx("span",{children:Ht(d.date,"HH:mm")})]}),d.eta&&i.jsx("div",{className:"bg-accent/5 rounded-lg p-3",children:i.jsxs("p",{className:"text-accent font-medium",children:["ETA: ",d.eta," minutes"]})})]}),d.driver?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center text-3xl",children:d.driver.avatar}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:d.driver.name}),i.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[i.jsx("span",{className:"text-yellow-400",children:""}),i.jsx("span",{children:d.driver.rating})]}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[d.driver.carDetails.model,"  ",d.driver.carDetails.plate]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>d.driver&&o(d.driver.phone),className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Call Driver"}),i.jsx("button",{onClick:()=>l(d),className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Message"})]})]}):i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500",children:"Driver will be assigned soon"})})]}),i.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:d.paymentMethod}),d.notes&&i.jsxs("span",{className:"text-sm text-gray-600",children:[" ",d.notes]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>c(d),className:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Cancel Ride"}),i.jsx("button",{className:"px-4 py-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition-colors",children:"Track Ride"})]})]})]},d.id))})]}),r&&e&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Message Driver"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("textarea",{className:"w-full h-32 px-4 py-2 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Type your message here..."}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900",children:"Cancel"}),i.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 bg-primary text-accent rounded-lg hover:bg-primary/90",children:"Send Message"})]})]})]})})]})})};Lt.loadTrainingData(iy).catch(console.error);ed.createRoot(document.getElementById("root")).render(i.jsx(Ne.StrictMode,{children:i.jsx(mo,{children:i.jsx(po,{children:i.jsxs(go,{children:[i.jsx(pe,{path:"/",element:i.jsx(uc,{})}),i.jsx(pe,{path:"/welcome",element:i.jsx(Fg,{})}),i.jsxs(pe,{path:"/driver",children:[i.jsx(pe,{index:!0,element:i.jsx(b0,{})}),i.jsx(pe,{path:"signup",element:i.jsx(uo,{})}),i.jsx(pe,{path:"docs",element:i.jsx(mo,{children:i.jsx(v0,{})})})]}),i.jsx(pe,{path:"/signin",element:i.jsx(m0,{})}),i.jsx(pe,{path:"/signup",element:i.jsx(uo,{})}),i.jsx(pe,{path:"/forgot-password",element:i.jsx(g0,{})}),i.jsx(pe,{path:"/profile",element:i.jsx(Nt,{children:i.jsx(H0,{})})}),i.jsx(pe,{path:"/support",element:i.jsx(Nt,{children:i.jsx(Q0,{})})}),i.jsx(pe,{path:"/support/ticket/:id",element:i.jsx(Nt,{children:i.jsx(ey,{})})}),i.jsx(pe,{path:"/favourites",element:i.jsx(Nt,{children:i.jsx(ly,{})})}),i.jsx(pe,{path:"/history",element:i.jsx(Nt,{children:i.jsx(dy,{})})}),i.jsx(pe,{path:"/rides",element:i.jsx(Nt,{children:i.jsx(hy,{})})}),i.jsx(pe,{path:"/admin/training",element:i.jsx(Nt,{children:i.jsx(sy,{})})})]})})})}));
//# sourceMappingURL=index-BnIvMOlq.js.map
