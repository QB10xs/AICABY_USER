var bu=Object.defineProperty;var wu=(t,e,s)=>e in t?bu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Kt=(t,e,s)=>wu(t,typeof e!="symbol"?e+"":e,s);import{r as ju,b as Nu,a as pl,c as f,R as ae,L as le,u as Wt,B as gl,d as xl,e as he,N as _s,f as ku,h as _u,i as di,j as Cu}from"./react-vendor-DuyEvWKb.js";import{c as ja,_ as hn}from"./auth-vendor-2gQdNE61.js";import{c as ui}from"./state-vendor-D2RKdSO0.js";import{r as Su}from"./map-vendor--SRgJ61u.js";import{f as In}from"./date-vendor-CBpsKyOP.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();var fn={exports:{}},ws={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Na;function Au(){if(Na)return ws;Na=1;var t=ju(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var u,h={},m=null,p=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(p=c.ref);for(u in c)r.call(c,u)&&!a.hasOwnProperty(u)&&(h[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:e,type:l,key:m,ref:p,props:h,_owner:n.current}}return ws.Fragment=s,ws.jsx=o,ws.jsxs=o,ws}var ka;function Tu(){return ka||(ka=1,fn.exports=Au()),fn.exports}var i=Tu(),gr={},_a;function Pu(){if(_a)return gr;_a=1;var t=Nu();return gr.createRoot=t.createRoot,gr.hydrateRoot=t.hydrateRoot,gr}var Eu=Pu();const Ru=pl(Eu);function Iu(t,e){let s;try{s=t()}catch{return}return{getItem:n=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),l=(a=s.getItem(n))!=null?a:null;return l instanceof Promise?l.then(o):o(l)},setItem:(n,a)=>s.setItem(n,JSON.stringify(a,void 0)),removeItem:n=>s.removeItem(n)}}const Mn=t=>e=>{try{const s=t(e);return s instanceof Promise?s:{then(r){return Mn(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return Mn(r)(s)}}}},Mu=(t,e)=>(s,r,n)=>{let a={storage:Iu(()=>localStorage),partialize:x=>x,version:0,merge:(x,b)=>({...b,...x}),...e},o=!1;const l=new Set,c=new Set;let d=a.storage;if(!d)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),s(...x)},r,n);const u=()=>{const x=a.partialize({...r()});return d.setItem(a.name,{state:x,version:a.version})},h=n.setState;n.setState=(x,b)=>{h(x,b),u()};const m=t((...x)=>{s(...x),u()},r,n);n.getInitialState=()=>m;let p;const g=()=>{var x,b;if(!d)return;o=!1,l.forEach(v=>{var k;return v((k=r())!=null?k:m)});const j=((b=a.onRehydrateStorage)==null?void 0:b.call(a,(x=r())!=null?x:m))||void 0;return Mn(d.getItem.bind(d))(a.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate){const k=a.migrate(v.state,v.version);return k instanceof Promise?k.then(T=>[!0,T]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var k;const[T,C]=v;if(p=a.merge(C,(k=r())!=null?k:m),s(p,!0),T)return u()}).then(()=>{j==null||j(p,void 0),p=r(),o=!0,c.forEach(v=>v(p))}).catch(v=>{j==null||j(void 0,v)})};return n.persist={setOptions:x=>{a={...a,...x},x.storage&&(d=x.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},a.skipHydration||g(),p||m},yl=Mu,Cs={supabaseUrl:"https://kcubenpipsrohabhomuc.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjdWJlbnBpcHNyb2hhYmhvbXVjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA2MDY1MjcsImV4cCI6MjA1NjE4MjUyN30.asDzTRAbOpBob3CnAC3WZOp4pRpcF2OlRuXJpyeKTAI",supabaseServiceRoleKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjdWJlbnBpcHNyb2hhYmhvbXVjIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0MDYwNjUyNywiZXhwIjoyMDU2MTgyNTI3fQ.NowpAnvfU665ggP2lV8gyfPALTPAUHMs5yog_5VrJmg"};Object.entries(Cs).forEach(([t,e])=>{if(!e)throw new Error(`Missing environment variable: ${t}`)});const Ft=class Ft{constructor(){Kt(this,"supabaseClient");Kt(this,"supabaseAdminClient");this.supabaseClient=ja(Cs.supabaseUrl,Cs.supabaseAnonKey,{auth:{persistSession:!0,detectSessionInUrl:!0,autoRefreshToken:!0,storageKey:"supabase.auth.token"}}),this.supabaseAdminClient=ja(Cs.supabaseUrl,Cs.supabaseServiceRoleKey,{auth:{persistSession:!1,detectSessionInUrl:!1,autoRefreshToken:!0,storageKey:"supabase.admin.token"}}),this.supabaseClient.auth.onAuthStateChange((e,s)=>{var r;e==="SIGNED_OUT"?console.log("User signed out"):e==="SIGNED_IN"&&console.log("User signed in:",(r=s==null?void 0:s.user)==null?void 0:r.email)})}static getInstance(){return Ft.instance||(Ft.instance=new Ft),Ft.instance}getClient(){return this.supabaseClient}getAdminClient(){return this.supabaseAdminClient}async verifyAdminAccess(e){try{const{data:s,error:r}=await this.supabaseClient.from("user_roles").select("role").eq("user_id",e).single();if(r)throw r;return(s==null?void 0:s.role)==="ai_admin"}catch(s){return console.error("Error verifying admin access:",s),!1}}async getAdminUser(e){try{const{data:s,error:r}=await this.supabaseClient.from("profiles").select("*").eq("id",e).single();if(r)throw r;return s}catch(s){return console.error("Error getting admin user:",s),null}}async createAdminUser(e,s){try{const{data:r,error:n}=await this.supabaseAdminClient.auth.admin.createUser({email:e,password:s,email_confirm:!0});if(n)throw n;const{error:a}=await this.supabaseClient.from("user_roles").insert([{user_id:r.user.id,role:"ai_admin"}]);if(a)throw await this.supabaseAdminClient.auth.admin.deleteUser(r.user.id),a;return r}catch(r){throw console.error("Error creating admin user:",r),r}}async enable2FA(e){try{const{data:s,error:r}=await this.supabaseAdminClient.auth.admin.updateUserById(e,{app_metadata:{requires_2fa:!0}});if(r)throw r;return s}catch(s){throw console.error("Error enabling 2FA:",s),s}}};Kt(Ft,"instance");let Dn=Ft;const hi=Dn.getInstance(),$=hi.getClient();hi.getAdminClient();const{verifyAdminAccess:gw,getAdminUser:xw,createAdminUser:yw,enable2FA:vw}=hi,Be=ui()(yl(t=>({user:null,isLoading:!1,error:null,signIn:async(e,s)=>{try{t({isLoading:!0,error:null});const{data:r,error:n}=await $.auth.signInWithPassword({email:e,password:s});if(n)throw n;t({user:r.user})}catch(r){t({error:r.message})}finally{t({isLoading:!1})}},signUp:async(e,s)=>{try{t({isLoading:!0,error:null});const{data:r,error:n}=await $.auth.signUp({email:e,password:s});if(n)throw n;t({user:r.user})}catch(r){t({error:r.message})}finally{t({isLoading:!1})}},signOut:async()=>{try{t({isLoading:!0,error:null});const{error:e}=await $.auth.signOut();if(e)throw e;t({user:null})}catch(e){t({error:e.message})}finally{t({isLoading:!1})}},resetPassword:async e=>{try{t({isLoading:!0,error:null});const{error:s}=await $.auth.resetPasswordForEmail(e);if(s)throw s}catch(s){t({error:s.message})}finally{t({isLoading:!1})}},setUser:e=>t({user:e})}),{name:"auth-storage",partialize:t=>({user:t.user})}));/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vl=(...t)=>t.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:a,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...Vu,width:e,height:e,stroke:t,strokeWidth:r?Number(s)*24/Number(e):s,className:vl("lucide",n),...l},[...o.map(([d,u])=>f.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(t,e)=>{const s=f.forwardRef(({className:r,...n},a)=>f.createElement(Fu,{ref:a,iconNode:e,className:vl(`lucide-${Du(t)}`,r),...n}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fi=fe("ArrowLeft",Lu);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],zu=fe("ArrowRight",Ou);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],$u=fe("Banknote",Bu);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],qu=fe("Briefcase",Uu);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Wu=fe("Camera",Zu);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],ze=fe("Car",Hu);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gu=fe("ChevronDown",Yu);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],mi=fe("Clock",Ku);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Kr=fe("CreditCard",Ju);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],bl=fe("ExternalLink",Xu);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],eh=fe("Gauge",Qu);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],sh=fe("House",th);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],lt=fe("MapPin",rh);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ih=fe("Map",nh);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],oh=fe("MessageSquare",ah);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],ch=fe("Mic",lh);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],uh=fe("Navigation",dh);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fh=fe("Send",hh);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ph=fe("ShieldCheck",mh);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xh=fe("Shield",gh);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vh=fe("Star",yh);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],wh=fe("UserPlus",bh);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Nh=fe("Users",jh);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],_h=fe("Wallet",kh);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sh=fe("X",Ch);let Ah={data:""},Th=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Ah,Ph=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Eh=/\/\*[^]*?\*\/|  +/g,Ca=/\n+/g,vt=(t,e)=>{let s="",r="",n="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?s=a+" "+o+";":r+=a[1]=="f"?vt(o,a):a+"{"+vt(o,a[1]=="k"?"":e)+"}":typeof o=="object"?r+=vt(o,e?e.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=vt.p?vt.p(a,o):a+":"+o+";")}return s+(e&&n?e+"{"+n+"}":n)+r},rt={},wl=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+wl(t[s]);return e}return t},Rh=(t,e,s,r,n)=>{let a=wl(t),o=rt[a]||(rt[a]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(a));if(!rt[o]){let c=a!==t?t:(d=>{let u,h,m=[{}];for(;u=Ph.exec(d.replace(Eh,""));)u[4]?m.shift():u[3]?(h=u[3].replace(Ca," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][u[1]]=u[2].replace(Ca," ").trim();return m[0]})(t);rt[o]=vt(n?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&rt.g?rt.g:null;return s&&(rt.g=rt[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(rt[o],e,r,l),o},Ih=(t,e,s)=>t.reduce((r,n,a)=>{let o=e[a];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":vt(l,""):l===!1?"":l}return r+n+(o??"")},"");function Jr(t){let e=this||{},s=t.call?t(e.p):t;return Rh(s.unshift?s.raw?Ih(s,[].slice.call(arguments,1),e.p):s.reduce((r,n)=>Object.assign(r,n&&n.call?n(e.p):n),{}):s,Th(e.target),e.g,e.o,e.k)}let jl,Vn,Fn;Jr.bind({g:1});let ut=Jr.bind({k:1});function Mh(t,e,s,r){vt.p=e,jl=t,Vn=s,Fn=r}function St(t,e){let s=this||{};return function(){let r=arguments;function n(a,o){let l=Object.assign({},a),c=l.className||n.className;s.p=Object.assign({theme:Vn&&Vn()},l),s.o=/ *go\d+/.test(c),l.className=Jr.apply(s,r)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),Fn&&d[0]&&Fn(l),jl(d,l)}return n}}var Dh=t=>typeof t=="function",Vs=(t,e)=>Dh(t)?t(e):t,Vh=(()=>{let t=0;return()=>(++t).toString()})(),Nl=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Fh=20,kl=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Fh)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:s}=e;return kl(t,{type:t.toasts.find(a=>a.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let n=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+n}))}}},_r=[],Lt={toasts:[],pausedAt:void 0},Ht=t=>{Lt=kl(Lt,t),_r.forEach(e=>{e(Lt)})},Lh={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},_l=(t={})=>{let[e,s]=f.useState(Lt),r=f.useRef(Lt);f.useEffect(()=>(r.current!==Lt&&s(Lt),_r.push(s),()=>{let a=_r.indexOf(s);a>-1&&_r.splice(a,1)}),[]);let n=e.toasts.map(a=>{var o,l,c;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||Lh[a.type],style:{...t.style,...(c=t[a.type])==null?void 0:c.style,...a.style}}});return{...e,toasts:n}},Oh=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||Vh()}),ar=t=>(e,s)=>{let r=Oh(e,t,s);return Ht({type:2,toast:r}),r.id},se=(t,e)=>ar("blank")(t,e);se.error=ar("error");se.success=ar("success");se.loading=ar("loading");se.custom=ar("custom");se.dismiss=t=>{Ht({type:3,toastId:t})};se.remove=t=>Ht({type:4,toastId:t});se.promise=(t,e,s)=>{let r=se.loading(e.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(n=>{let a=e.success?Vs(e.success,n):void 0;return a?se.success(a,{id:r,...s,...s==null?void 0:s.success}):se.dismiss(r),n}).catch(n=>{let a=e.error?Vs(e.error,n):void 0;a?se.error(a,{id:r,...s,...s==null?void 0:s.error}):se.dismiss(r)}),t};var zh=(t,e)=>{Ht({type:1,toast:{id:t,height:e}})},Bh=()=>{Ht({type:5,time:Date.now()})},Es=new Map,$h=1e3,Uh=(t,e=$h)=>{if(Es.has(t))return;let s=setTimeout(()=>{Es.delete(t),Ht({type:4,toastId:t})},e);Es.set(t,s)},Cl=t=>{let{toasts:e,pausedAt:s}=_l(t);f.useEffect(()=>{if(s)return;let a=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&se.dismiss(l.id);return}return setTimeout(()=>se.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,s]);let r=f.useCallback(()=>{s&&Ht({type:6,time:Date.now()})},[s]),n=f.useCallback((a,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=o||{},u=e.filter(p=>(p.position||d)===(a.position||d)&&p.height),h=u.findIndex(p=>p.id===a.id),m=u.filter((p,g)=>g<h&&p.visible).length;return u.filter(p=>p.visible).slice(...l?[m+1]:[0,m]).reduce((p,g)=>p+(g.height||0)+c,0)},[e]);return f.useEffect(()=>{e.forEach(a=>{if(a.dismissed)Uh(a.id,a.removeDelay);else{let o=Es.get(a.id);o&&(clearTimeout(o),Es.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:zh,startPause:Bh,endPause:r,calculateOffset:n}}},qh=ut`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Zh=ut`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wh=ut`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Sl=St("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qh} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Zh} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Wh} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Hh=ut`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Al=St("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Hh} 1s linear infinite;
`,Yh=ut`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Gh=ut`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Tl=St("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Yh} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Gh} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Kh=St("div")`
  position: absolute;
`,Jh=St("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Xh=ut`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Qh=St("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Xh} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Pl=({toast:t})=>{let{icon:e,type:s,iconTheme:r}=t;return e!==void 0?typeof e=="string"?f.createElement(Qh,null,e):e:s==="blank"?null:f.createElement(Jh,null,f.createElement(Al,{...r}),s!=="loading"&&f.createElement(Kh,null,s==="error"?f.createElement(Sl,{...r}):f.createElement(Tl,{...r})))},ef=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,tf=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,sf="0%{opacity:0;} 100%{opacity:1;}",rf="0%{opacity:1;} 100%{opacity:0;}",nf=St("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,af=St("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,of=(t,e)=>{let s=t.includes("top")?1:-1,[r,n]=Nl()?[sf,rf]:[ef(s),tf(s)];return{animation:e?`${ut(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ut(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},El=f.memo(({toast:t,position:e,style:s,children:r})=>{let n=t.height?of(t.position||e||"top-center",t.visible):{opacity:0},a=f.createElement(Pl,{toast:t}),o=f.createElement(af,{...t.ariaProps},Vs(t.message,t));return f.createElement(nf,{className:t.className,style:{...n,...s,...t.style}},typeof r=="function"?r({icon:a,message:o}):f.createElement(f.Fragment,null,a,o))});Mh(f.createElement);var lf=({id:t,className:e,style:s,onHeightUpdate:r,children:n})=>{let a=f.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return f.createElement("div",{ref:a,className:e,style:s},n)},cf=(t,e)=>{let s=t.includes("top"),r=s?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Nl()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(s?1:-1)}px)`,...r,...n}},df=Jr`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,xr=16,pi=({reverseOrder:t,position:e="top-center",toastOptions:s,gutter:r,children:n,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=Cl(s);return f.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:xr,left:xr,right:xr,bottom:xr,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let u=d.position||e,h=c.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),m=cf(u,h);return f.createElement(lf,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?df:"",style:m},d.type==="custom"?Vs(d.message,d):n?n(d):f.createElement(El,{toast:d,position:u}))}))},Me=se;const mn=Object.freeze(Object.defineProperty({__proto__:null,CheckmarkIcon:Tl,ErrorIcon:Sl,LoaderIcon:Al,ToastBar:El,ToastIcon:Pl,Toaster:pi,default:Me,resolveValue:Vs,toast:se,useToaster:Cl,useToasterStore:_l},Symbol.toStringTag,{value:"Module"})),gi=f.createContext({});function xi(t){const e=f.useRef(null);return e.current===null&&(e.current=t()),e.current}const Xr=f.createContext(null),yi=f.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class uf extends f.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const r=s.offsetParent,n=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft,a.right=n-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function hf({children:t,isPresent:e,anchorX:s}){const r=f.useId(),n=f.useRef(null),a=f.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=f.useContext(yi);return f.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:u,right:h}=a.current;if(e||!n.current||!l||!c)return;const m=s==="left"?`left: ${u}`:`right: ${h}`;n.current.dataset.motionPopId=r;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),i.jsx(uf,{isPresent:e,childRef:n,sizeRef:a,children:f.cloneElement(t,{ref:n})})}const ff=({children:t,initial:e,isPresent:s,onExitComplete:r,custom:n,presenceAffectsLayout:a,mode:o,anchorX:l})=>{const c=xi(mf),d=f.useId(),u=f.useCallback(m=>{c.set(m,!0);for(const p of c.values())if(!p)return;r&&r()},[c,r]),h=f.useMemo(()=>({id:d,initial:e,isPresent:s,custom:n,onExitComplete:u,register:m=>(c.set(m,!1),()=>c.delete(m))}),a?[Math.random(),u]:[s,u]);return f.useMemo(()=>{c.forEach((m,p)=>c.set(p,!1))},[s]),f.useEffect(()=>{!s&&!c.size&&r&&r()},[s]),o==="popLayout"&&(t=i.jsx(hf,{isPresent:s,anchorX:l,children:t})),i.jsx(Xr.Provider,{value:h,children:t})};function mf(){return new Map}function Rl(t=!0){const e=f.useContext(Xr);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:n}=e,a=f.useId();f.useEffect(()=>{if(t)return n(a)},[t]);const o=f.useCallback(()=>t&&r&&r(a),[a,r,t]);return!s&&r?[!1,o]:[!0]}const yr=t=>t.key||"";function Sa(t){const e=[];return f.Children.forEach(t,s=>{f.isValidElement(s)&&e.push(s)}),e}const vi=typeof window<"u",Il=vi?f.useLayoutEffect:f.useEffect,Ml=({children:t,custom:e,initial:s=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:a="sync",propagate:o=!1,anchorX:l="left"})=>{const[c,d]=Rl(o),u=f.useMemo(()=>Sa(t),[t]),h=o&&!c?[]:u.map(yr),m=f.useRef(!0),p=f.useRef(u),g=xi(()=>new Map),[x,b]=f.useState(u),[j,v]=f.useState(u);Il(()=>{m.current=!1,p.current=u;for(let C=0;C<j.length;C++){const w=yr(j[C]);h.includes(w)?g.delete(w):g.get(w)!==!0&&g.set(w,!1)}},[j,h.length,h.join("-")]);const k=[];if(u!==x){let C=[...u];for(let w=0;w<j.length;w++){const P=j[w],F=yr(P);h.includes(F)||(C.splice(w,0,P),k.push(P))}return a==="wait"&&k.length&&(C=k),v(Sa(C)),b(u),null}const{forceRender:T}=f.useContext(gi);return i.jsx(i.Fragment,{children:j.map(C=>{const w=yr(C),P=o&&!c?!1:u===j||h.includes(w),F=()=>{if(g.has(w))g.set(w,!0);else return;let X=!0;g.forEach(K=>{K||(X=!1)}),X&&(T==null||T(),v(p.current),o&&(d==null||d()),r&&r())};return i.jsx(ff,{isPresent:P,initial:!m.current||s?void 0:!1,custom:e,presenceAffectsLayout:n,mode:a,onExitComplete:P?void 0:F,anchorX:l,children:C},w)})})},De=t=>t;let Dl=De;function bi(t){let e;return()=>(e===void 0&&(e=t()),e)}const ls=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r},ct=t=>t*1e3,dt=t=>t/1e3,pf={useManualTiming:!1},vr=["read","resolveKeyframes","update","preRender","render","postRender"],Aa={value:null};function gf(t,e){let s=new Set,r=new Set,n=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){o.has(h)&&(u.schedule(h),t()),c++,h(l)}const u={schedule:(h,m=!1,p=!1)=>{const x=p&&n?s:r;return m&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(l=h,n){a=!0;return}n=!0,[s,r]=[r,s],s.forEach(d),e&&Aa.value&&Aa.value.frameloop[e].push(c),c=0,s.clear(),n=!1,a&&(a=!1,u.process(h))}};return u}const xf=40;function Vl(t,e){let s=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=vr.reduce((j,v)=>(j[v]=gf(a,e?v:void 0),j),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:m}=o,p=()=>{const j=performance.now();s=!1,n.delta=r?1e3/60:Math.max(Math.min(j-n.timestamp,xf),1),n.timestamp=j,n.isProcessing=!0,l.process(n),c.process(n),d.process(n),u.process(n),h.process(n),m.process(n),n.isProcessing=!1,s&&e&&(r=!1,t(p))},g=()=>{s=!0,r=!0,n.isProcessing||t(p)};return{schedule:vr.reduce((j,v)=>{const k=o[v];return j[v]=(T,C=!1,w=!1)=>(s||g(),k.schedule(T,C,w)),j},{}),cancel:j=>{for(let v=0;v<vr.length;v++)o[vr[v]].cancel(j)},state:n,steps:o}}const{schedule:ue,cancel:wt,state:_e,steps:pn}=Vl(typeof requestAnimationFrame<"u"?requestAnimationFrame:De,!0),Fl=f.createContext({strict:!1}),Ta={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cs={};for(const t in Ta)cs[t]={isEnabled:e=>Ta[t].some(s=>!!e[s])};function yf(t){for(const e in t)cs[e]={...cs[e],...t[e]}}const vf=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Er(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vf.has(t)}let Ll=t=>!Er(t);function bf(t){t&&(Ll=e=>e.startsWith("on")?!Er(e):t(e))}try{bf(require("@emotion/is-prop-valid").default)}catch{}function wf(t,e,s){const r={};for(const n in t)n==="values"&&typeof t.values=="object"||(Ll(n)||s===!0&&Er(n)||!e&&!Er(n)||t.draggable&&n.startsWith("onDrag"))&&(r[n]=t[n]);return r}function jf(t){if(typeof Proxy>"u")return t;const e=new Map,s=(...r)=>t(...r);return new Proxy(s,{get:(r,n)=>n==="create"?t:(e.has(n)||e.set(n,t(n)),e.get(n))})}const Qr=f.createContext({});function en(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Fs(t){return typeof t=="string"||Array.isArray(t)}const wi=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ji=["initial",...wi];function tn(t){return en(t.animate)||ji.some(e=>Fs(t[e]))}function Ol(t){return!!(tn(t)||t.variants)}function Nf(t,e){if(tn(t)){const{initial:s,animate:r}=t;return{initial:s===!1||Fs(s)?s:void 0,animate:Fs(r)?r:void 0}}return t.inherit!==!1?e:{}}function kf(t){const{initial:e,animate:s}=Nf(t,f.useContext(Qr));return f.useMemo(()=>({initial:e,animate:s}),[Pa(e),Pa(s)])}function Pa(t){return Array.isArray(t)?t.join(" "):t}const _f=Symbol.for("motionComponentSymbol");function es(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Cf(t,e,s){return f.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):es(s)&&(s.current=r))},[e])}const Ni=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Sf="framerAppearId",zl="data-"+Ni(Sf),{schedule:ki}=Vl(queueMicrotask,!1),Bl=f.createContext({});function Af(t,e,s,r,n){var a,o;const{visualElement:l}=f.useContext(Qr),c=f.useContext(Fl),d=f.useContext(Xr),u=f.useContext(yi).reducedMotion,h=f.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,p=f.useContext(Bl);m&&!m.projection&&n&&(m.type==="html"||m.type==="svg")&&Tf(h.current,s,n,p);const g=f.useRef(!1);f.useInsertionEffect(()=>{m&&g.current&&m.update(s,d)});const x=s[zl],b=f.useRef(!!x&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return Il(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),ki.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),f.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,x)}),b.current=!1))}),m}function Tf(t,e,s,r){const{layoutId:n,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:$l(t.parent)),t.projection.setOptions({layoutId:n,layout:a,alwaysMeasureLayout:!!o||l&&es(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:d})}function $l(t){if(t)return t.options.allowProjection!==!1?t.projection:$l(t.parent)}function Pf({preloadedFeatures:t,createVisualElement:e,useRender:s,useVisualState:r,Component:n}){var a,o;t&&yf(t);function l(d,u){let h;const m={...f.useContext(yi),...d,layoutId:Ef(d)},{isStatic:p}=m,g=kf(d),x=r(d,p);if(!p&&vi){Rf();const b=If(m);h=b.MeasureLayout,g.visualElement=Af(n,x,m,e,b.ProjectionNode)}return i.jsxs(Qr.Provider,{value:g,children:[h&&g.visualElement?i.jsx(h,{visualElement:g.visualElement,...m}):null,s(n,d,Cf(x,g.visualElement,u),x,p,g.visualElement)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${(o=(a=n.displayName)!==null&&a!==void 0?a:n.name)!==null&&o!==void 0?o:""})`}`;const c=f.forwardRef(l);return c[_f]=n,c}function Ef({layoutId:t}){const e=f.useContext(gi).id;return e&&t!==void 0?e+"-"+t:t}function Rf(t,e){f.useContext(Fl).strict}function If(t){const{drag:e,layout:s}=cs;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ul=t=>e=>typeof e=="string"&&e.startsWith(t),_i=Ul("--"),Mf=Ul("var(--"),Ci=t=>Mf(t)?Df.test(t.split("/*")[0].trim()):!1,Df=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ls={};function Vf(t){for(const e in t)Ls[e]=t[e],_i(e)&&(Ls[e].isCSSVariable=!0)}const ps=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yt=new Set(ps);function ql(t,{layout:e,layoutId:s}){return Yt.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Ls[t]||t==="opacity")}const Se=t=>!!(t&&t.getVelocity),Zl=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ht=(t,e,s)=>s>e?e:s<t?t:s,gs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Os={...gs,transform:t=>ht(0,1,t)},br={...gs,default:1},or=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xt=or("deg"),Je=or("%"),W=or("px"),Ff=or("vh"),Lf=or("vw"),Ea={...Je,parse:t=>Je.parse(t)/100,transform:t=>Je.transform(t*100)},Of={borderWidth:W,borderTopWidth:W,borderRightWidth:W,borderBottomWidth:W,borderLeftWidth:W,borderRadius:W,radius:W,borderTopLeftRadius:W,borderTopRightRadius:W,borderBottomRightRadius:W,borderBottomLeftRadius:W,width:W,maxWidth:W,height:W,maxHeight:W,top:W,right:W,bottom:W,left:W,padding:W,paddingTop:W,paddingRight:W,paddingBottom:W,paddingLeft:W,margin:W,marginTop:W,marginRight:W,marginBottom:W,marginLeft:W,backgroundPositionX:W,backgroundPositionY:W},zf={rotate:xt,rotateX:xt,rotateY:xt,rotateZ:xt,scale:br,scaleX:br,scaleY:br,scaleZ:br,skew:xt,skewX:xt,skewY:xt,distance:W,translateX:W,translateY:W,translateZ:W,x:W,y:W,z:W,perspective:W,transformPerspective:W,opacity:Os,originX:Ea,originY:Ea,originZ:W},Ra={...gs,transform:Math.round},Si={...Of,...zf,zIndex:Ra,size:W,fillOpacity:Os,strokeOpacity:Os,numOctaves:Ra},Bf={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$f=ps.length;function Uf(t,e,s){let r="",n=!0;for(let a=0;a<$f;a++){const o=ps[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=Zl(l,Si[o]);if(!c){n=!1;const u=Bf[o]||o;r+=`${u}(${d}) `}s&&(e[o]=d)}}return r=r.trim(),s?r=s(e,n?"":r):n&&(r="none"),r}function Ai(t,e,s){const{style:r,vars:n,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Yt.has(c)){o=!0;continue}else if(_i(c)){n[c]=d;continue}else{const u=Zl(d,Si[c]);c.startsWith("origin")?(l=!0,a[c]=u):r[c]=u}}if(e.transform||(o||s?r.transform=Uf(e,t.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;r.transformOrigin=`${c} ${d} ${u}`}}const Ti=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Wl(t,e,s){for(const r in e)!Se(e[r])&&!ql(r,s)&&(t[r]=e[r])}function qf({transformTemplate:t},e){return f.useMemo(()=>{const s=Ti();return Ai(s,e,t),Object.assign({},s.vars,s.style)},[e])}function Zf(t,e){const s=t.style||{},r={};return Wl(r,s,t),Object.assign(r,qf(t,e)),r}function Wf(t,e){const s={},r=Zf(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const Hf=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pi(t){return typeof t!="string"||t.includes("-")?!1:!!(Hf.indexOf(t)>-1||/[A-Z]/u.test(t))}const Yf={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gf={offset:"strokeDashoffset",array:"strokeDasharray"};function Kf(t,e,s=1,r=0,n=!0){t.pathLength=1;const a=n?Yf:Gf;t[a.offset]=W.transform(-r);const o=W.transform(e),l=W.transform(s);t[a.array]=`${o} ${l}`}function Ia(t,e,s){return typeof t=="string"?t:W.transform(e+s*t)}function Jf(t,e,s){const r=Ia(e,t.x,t.width),n=Ia(s,t.y,t.height);return`${r} ${n}`}function Ei(t,{attrX:e,attrY:s,attrScale:r,originX:n,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(Ai(t,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:g}=t;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(n!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=Jf(g,n!==void 0?n:.5,a!==void 0?a:.5)),e!==void 0&&(m.x=e),s!==void 0&&(m.y=s),r!==void 0&&(m.scale=r),o!==void 0&&Kf(m,o,l,c,!1)}const Hl=()=>({...Ti(),attrs:{}}),Ri=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Xf(t,e,s,r){const n=f.useMemo(()=>{const a=Hl();return Ei(a,e,Ri(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Wl(a,t.style,t),n.style={...a,...n.style}}return n}function Qf(t=!1){return(s,r,n,{latestValues:a},o)=>{const c=(Pi(s)?Xf:Wf)(r,a,o,s),d=wf(r,typeof s=="string",t),u=s!==f.Fragment?{...d,...c,ref:n}:{},{children:h}=r,m=f.useMemo(()=>Se(h)?h.get():h,[h]);return f.createElement(s,{...u,children:m})}}function Ma(t){const e=[{},{}];return t==null||t.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function Ii(t,e,s,r){if(typeof e=="function"){const[n,a]=Ma(r);e=e(s!==void 0?s:t.custom,n,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[n,a]=Ma(r);e=e(s!==void 0?s:t.custom,n,a)}return e}const Ln=t=>Array.isArray(t),em=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),tm=t=>Ln(t)?t[t.length-1]||0:t;function Cr(t){const e=Se(t)?t.get():t;return em(e)?e.toValue():e}function sm({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:s},r,n,a){const o={latestValues:rm(r,n,a,t),renderState:e()};return s&&(o.onMount=l=>s({props:r,current:l,...o}),o.onUpdate=l=>s(l)),o}const Yl=t=>(e,s)=>{const r=f.useContext(Qr),n=f.useContext(Xr),a=()=>sm(t,e,r,n);return s?a():xi(a)};function rm(t,e,s,r){const n={},a=r(t,{});for(const m in a)n[m]=Cr(a[m]);let{initial:o,animate:l}=t;const c=tn(t),d=Ol(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!en(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const g=Ii(t,m[p]);if(g){const{transitionEnd:x,transition:b,...j}=g;for(const v in j){let k=j[v];if(Array.isArray(k)){const T=u?k.length-1:0;k=k[T]}k!==null&&(n[v]=k)}for(const v in x)n[v]=x[v]}}}return n}function Mi(t,e,s){var r;const{style:n}=t,a={};for(const o in n)(Se(n[o])||e.style&&Se(e.style[o])||ql(o,t)||((r=s==null?void 0:s.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const nm={useVisualState:Yl({scrapeMotionValuesFromProps:Mi,createRenderState:Ti})};function Gl(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function Kl(t,{style:e,vars:s},r,n){Object.assign(t.style,e,n&&n.getProjectionStyles(r));for(const a in s)t.style.setProperty(a,s[a])}const Jl=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xl(t,e,s,r){Kl(t,e,void 0,r);for(const n in e.attrs)t.setAttribute(Jl.has(n)?n:Ni(n),e.attrs[n])}function Ql(t,e,s){const r=Mi(t,e,s);for(const n in t)if(Se(t[n])||Se(e[n])){const a=ps.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=t[n]}return r}const Da=["x","y","width","height","cx","cy","r"],im={useVisualState:Yl({scrapeMotionValuesFromProps:Ql,createRenderState:Hl,onUpdate:({props:t,prevProps:e,current:s,renderState:r,latestValues:n})=>{if(!s)return;let a=!!t.drag;if(!a){for(const l in n)if(Yt.has(l)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let l=0;l<Da.length;l++){const c=Da[l];t[c]!==e[c]&&(o=!0)}o&&ue.read(()=>{Gl(s,r),ue.render(()=>{Ei(r,n,Ri(s.tagName),t.transformTemplate),Xl(s,r)})})}})};function am(t,e){return function(r,{forwardMotionProps:n}={forwardMotionProps:!1}){const o={...Pi(r)?im:nm,preloadedFeatures:t,useRender:Qf(n),createVisualElement:e,Component:r};return Pf(o)}}function zs(t,e,s){const r=t.getProps();return Ii(r,e,s!==void 0?s:r.custom,t)}const om=bi(()=>window.ScrollTimeline!==void 0);class lm{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,s){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=s}attachTimeline(e,s){const r=this.animations.map(n=>{if(om()&&n.attachTimeline)return n.attachTimeline(e);if(typeof s=="function")return s(n)});return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let s=0;s<this.animations.length;s++)e=Math.max(e,this.animations[s].duration);return e}runAll(e){this.animations.forEach(s=>s[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class cm extends lm{then(e,s){return Promise.all(this.animations).then(e).catch(s)}}function Di(t,e){return t?t[e]||t.default||t:void 0}const On=2e4;function ec(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<On;)e+=s,r=t.next(e);return e>=On?1/0:e}function Vi(t){return typeof t=="function"}function Va(t,e){t.timeline=e,t.onfinish=null}const Fi=t=>Array.isArray(t)&&typeof t[0]=="number",dm={linearEasing:void 0};function um(t,e){const s=bi(t);return()=>{var r;return(r=dm[e])!==null&&r!==void 0?r:s()}}const Rr=um(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tc=(t,e,s=10)=>{let r="";const n=Math.max(Math.round(e/s),2);for(let a=0;a<n;a++)r+=t(ls(0,n-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function sc(t){return!!(typeof t=="function"&&Rr()||!t||typeof t=="string"&&(t in zn||Rr())||Fi(t)||Array.isArray(t)&&t.every(sc))}const Ss=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,zn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ss([0,.65,.55,1]),circOut:Ss([.55,0,1,.45]),backIn:Ss([.31,.01,.66,-.59]),backOut:Ss([.33,1.53,.69,.99])};function rc(t,e){if(t)return typeof t=="function"&&Rr()?tc(t,e):Fi(t)?Ss(t):Array.isArray(t)?t.map(s=>rc(s,e)||zn.easeOut):zn[t]}const $e={x:!1,y:!1};function nc(){return $e.x||$e.y}function hm(t,e,s){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=(r=void 0)!==null&&r!==void 0?r:n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function ic(t,e){const s=hm(t),r=new AbortController,n={passive:!0,...e,signal:r.signal};return[s,n,()=>r.abort()]}function Fa(t){return!(t.pointerType==="touch"||nc())}function fm(t,e,s={}){const[r,n,a]=ic(t,s),o=l=>{if(!Fa(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{Fa(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,n)};return r.forEach(l=>{l.addEventListener("pointerenter",o,n)}),a}function Ir(t,e){const s=`${e}PointerCapture`;if(t.target instanceof Element&&s in t.target&&t.pointerId!==void 0)try{t.target[s](t.pointerId)}catch{}}const ac=(t,e)=>e?t===e?!0:ac(t,e.parentElement):!1,Li=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mm=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pm(t){return mm.has(t.tagName)||t.tabIndex!==-1}const As=new WeakSet;function La(t){return e=>{e.key==="Enter"&&t(e)}}function gn(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gm=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=La(()=>{if(As.has(s))return;gn(s,"down");const n=La(()=>{gn(s,"up")}),a=()=>gn(s,"cancel");s.addEventListener("keyup",n,e),s.addEventListener("blur",a,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function Oa(t){return Li(t)&&!nc()}function xm(t,e,s={}){const[r,n,a]=ic(t,s),o=l=>{const c=l.currentTarget;if(!c||!Oa(l)||As.has(c))return;As.add(c),Ir(l,"set");const d=e(c,l),u=(p,g)=>{c.removeEventListener("pointerup",h),c.removeEventListener("pointercancel",m),Ir(p,"release"),!(!Oa(p)||!As.has(c))&&(As.delete(c),typeof d=="function"&&d(p,{success:g}))},h=p=>{(p.isTrusted?ym(p,c instanceof Element?c.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?u(p,!1):u(p,!(c instanceof Element)||ac(c,p.target))},m=p=>{u(p,!1)};c.addEventListener("pointerup",h,n),c.addEventListener("pointercancel",m,n),c.addEventListener("lostpointercapture",m,n)};return r.forEach(l=>{l=s.useGlobalTarget?window:l;let c=!1;l instanceof HTMLElement&&(c=!0,!pm(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0)),l.addEventListener("pointerdown",o,n),c&&l.addEventListener("focus",d=>gm(d,n),n)}),a}function ym(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function vm(t){return t==="x"||t==="y"?$e[t]?null:($e[t]=!0,()=>{$e[t]=!1}):$e.x||$e.y?null:($e.x=$e.y=!0,()=>{$e.x=$e.y=!1})}const oc=new Set(["width","height","top","left","right","bottom",...ps]);let Sr;function bm(){Sr=void 0}const Xe={now:()=>(Sr===void 0&&Xe.set(_e.isProcessing||pf.useManualTiming?_e.timestamp:performance.now()),Sr),set:t=>{Sr=t,queueMicrotask(bm)}};function Oi(t,e){t.indexOf(e)===-1&&t.push(e)}function zi(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}class Bi{constructor(){this.subscriptions=[]}add(e){return Oi(this.subscriptions,e),()=>zi(this.subscriptions,e)}notify(e,s,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](e,s,r);else for(let a=0;a<n;a++){const o=this.subscriptions[a];o&&o(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function lc(t,e){return e?t*(1e3/e):0}const za=30,wm=t=>!isNaN(parseFloat(t));class jm{constructor(e,s={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,n=!0)=>{const a=Xe.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Xe.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wm(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Bi);const r=this.events[e].add(s);return e==="change"?()=>{r(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>za)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,za);return lc(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bs(t,e){return new jm(t,e)}function Nm(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,Bs(s))}function km(t,e){const s=zs(t,e);let{transitionEnd:r={},transition:n={},...a}=s||{};a={...a,...r};for(const o in a){const l=tm(a[o]);Nm(t,o,l)}}function _m(t){return!!(Se(t)&&t.add)}function Bn(t,e){const s=t.getValue("willChange");if(_m(s))return s.add(e)}function cc(t){return t.props[zl]}const dc=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,Cm=1e-7,Sm=12;function Am(t,e,s,r,n){let a,o,l=0;do o=e+(s-e)/2,a=dc(o,r,n)-t,a>0?s=o:e=o;while(Math.abs(a)>Cm&&++l<Sm);return o}function lr(t,e,s,r){if(t===e&&s===r)return De;const n=a=>Am(a,0,1,t,s);return a=>a===0||a===1?a:dc(n(a),e,r)}const uc=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hc=t=>e=>1-t(1-e),fc=lr(.33,1.53,.69,.99),$i=hc(fc),mc=uc($i),pc=t=>(t*=2)<1?.5*$i(t):.5*(2-Math.pow(2,-10*(t-1))),Ui=t=>1-Math.sin(Math.acos(t)),gc=hc(Ui),xc=uc(Ui),yc=t=>/^0[^.\s]+$/u.test(t);function Tm(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||yc(t):!0}const Rs=t=>Math.round(t*1e5)/1e5,qi=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Pm(t){return t==null}const Em=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zi=(t,e)=>s=>!!(typeof s=="string"&&Em.test(s)&&s.startsWith(t)||e&&!Pm(s)&&Object.prototype.hasOwnProperty.call(s,e)),vc=(t,e,s)=>r=>{if(typeof r!="string")return r;const[n,a,o,l]=r.match(qi);return{[t]:parseFloat(n),[e]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Rm=t=>ht(0,255,t),xn={...gs,transform:t=>Math.round(Rm(t))},Ot={test:Zi("rgb","red"),parse:vc("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+xn.transform(t)+", "+xn.transform(e)+", "+xn.transform(s)+", "+Rs(Os.transform(r))+")"};function Im(t){let e="",s="",r="",n="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),n=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),n=t.substring(4,5),e+=e,s+=s,r+=r,n+=n),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const $n={test:Zi("#"),parse:Im,transform:Ot.transform},ts={test:Zi("hsl","hue"),parse:vc("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+Je.transform(Rs(e))+", "+Je.transform(Rs(s))+", "+Rs(Os.transform(r))+")"},Ce={test:t=>Ot.test(t)||$n.test(t)||ts.test(t),parse:t=>Ot.test(t)?Ot.parse(t):ts.test(t)?ts.parse(t):$n.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ot.transform(t):ts.transform(t)},Mm=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Dm(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(qi))===null||e===void 0?void 0:e.length)||0)+(((s=t.match(Mm))===null||s===void 0?void 0:s.length)||0)>0}const bc="number",wc="color",Vm="var",Fm="var(",Ba="${}",Lm=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $s(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},n=[];let a=0;const l=e.replace(Lm,c=>(Ce.test(c)?(r.color.push(a),n.push(wc),s.push(Ce.parse(c))):c.startsWith(Fm)?(r.var.push(a),n.push(Vm),s.push(c)):(r.number.push(a),n.push(bc),s.push(parseFloat(c))),++a,Ba)).split(Ba);return{values:s,split:l,indexes:r,types:n}}function jc(t){return $s(t).values}function Nc(t){const{split:e,types:s}=$s(t),r=e.length;return n=>{let a="";for(let o=0;o<r;o++)if(a+=e[o],n[o]!==void 0){const l=s[o];l===bc?a+=Rs(n[o]):l===wc?a+=Ce.transform(n[o]):a+=n[o]}return a}}const Om=t=>typeof t=="number"?0:t;function zm(t){const e=jc(t);return Nc(t)(e.map(Om))}const jt={test:Dm,parse:jc,createTransformer:Nc,getAnimatableNone:zm},Bm=new Set(["brightness","contrast","saturate","opacity"]);function $m(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(qi)||[];if(!r)return t;const n=s.replace(r,"");let a=Bm.has(e)?1:0;return r!==s&&(a*=100),e+"("+a+n+")"}const Um=/\b([a-z-]*)\(.*?\)/gu,Un={...jt,getAnimatableNone:t=>{const e=t.match(Um);return e?e.map($m).join(" "):t}},qm={...Si,color:Ce,backgroundColor:Ce,outlineColor:Ce,fill:Ce,stroke:Ce,borderColor:Ce,borderTopColor:Ce,borderRightColor:Ce,borderBottomColor:Ce,borderLeftColor:Ce,filter:Un,WebkitFilter:Un},Wi=t=>qm[t];function kc(t,e){let s=Wi(t);return s!==Un&&(s=jt),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const Zm=new Set(["auto","none","0"]);function Wm(t,e,s){let r=0,n;for(;r<t.length&&!n;){const a=t[r];typeof a=="string"&&!Zm.has(a)&&$s(a).values.length&&(n=t[r]),r++}if(n&&s)for(const a of e)t[a]=kc(s,n)}const $a=t=>t===gs||t===W,Ua=(t,e)=>parseFloat(t.split(", ")[e]),qa=(t,e)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const n=r.match(/^matrix3d\((.+)\)$/u);if(n)return Ua(n[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?Ua(a[1],t):0}},Hm=new Set(["x","y","z"]),Ym=ps.filter(t=>!Hm.has(t));function Gm(t){const e=[];return Ym.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const ds={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:qa(4,13),y:qa(5,14)};ds.translateX=ds.x;ds.translateY=ds.y;const Bt=new Set;let qn=!1,Zn=!1;function _c(){if(Zn){const t=Array.from(Bt).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const n=Gm(r);n.length&&(s.set(r,n),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const n=s.get(r);n&&n.forEach(([a,o])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zn=!1,qn=!1,Bt.forEach(t=>t.complete()),Bt.clear()}function Cc(){Bt.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Zn=!0)})}function Km(){Cc(),_c()}class Hi{constructor(e,s,r,n,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=n,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bt.add(this),qn||(qn=!0,ue.read(Cc),ue.resolveKeyframes(_c))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:n}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=n==null?void 0:n.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&s){const c=r.readValue(s,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),n&&o===void 0&&n.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Sc=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Jm=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Xm(t){const e=Jm.exec(t);if(!e)return[,];const[,s,r,n]=e;return[`--${s??r}`,n]}function Ac(t,e,s=1){const[r,n]=Xm(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const o=a.trim();return Sc(o)?parseFloat(o):o}return Ci(n)?Ac(n,e,s+1):n}const Tc=t=>e=>e.test(t),Qm={test:t=>t==="auto",parse:t=>t},Pc=[gs,W,Je,xt,Lf,Ff,Qm],Za=t=>Pc.find(Tc(t));class Ec extends Hi{constructor(e,s,r,n,a){super(e,s,r,n,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),Ci(d))){const u=Ac(d,s.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!oc.has(r)||e.length!==2)return;const[n,a]=e,o=Za(n),l=Za(a);if(o!==l)if($a(o)&&$a(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let n=0;n<e.length;n++)Tm(e[n])&&r.push(n);r.length&&Wm(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ds[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const n=s[s.length-1];n!==void 0&&e.getValue(r,n).jump(n,!1)}measureEndState(){var e;const{element:s,name:r,unresolvedKeyframes:n}=this;if(!s||!s.current)return;const a=s.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=n.length-1,l=n[o];n[o]=ds[r](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const Wa=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jt.test(t)||t==="0")&&!t.startsWith("url("));function ep(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function tp(t,e,s,r){const n=t[0];if(n===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=Wa(n,e),l=Wa(a,e);return!o||!l?!1:ep(t)||(s==="spring"||Vi(s))&&r}const sp=t=>t!==null;function sn(t,{repeat:e,repeatType:s="loop"},r){const n=t.filter(sp),a=e&&s!=="loop"&&e%2===1?0:n.length-1;return!a||r===void 0?n[a]:r}const rp=40;class Rc{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Xe.now(),this.options={autoplay:e,delay:s,type:r,repeat:n,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>rp?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Km(),this._resolved}onKeyframesResolved(e,s){this.resolvedAt=Xe.now(),this.hasAttemptedResolve=!0;const{name:r,type:n,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!tp(e,r,n,a))if(o)this.options.duration=0;else{c&&c(sn(e,this.options,s)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,s);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:s,...u},this.onPostResolved())}onPostResolved(){}then(e,s){return this.currentFinishedPromise.then(e,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const pe=(t,e,s)=>t+(e-t)*s;function yn(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function np({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let n=0,a=0,o=0;if(!e)n=a=o=s;else{const l=s<.5?s*(1+e):s+e-s*e,c=2*s-l;n=yn(c,l,t+1/3),a=yn(c,l,t),o=yn(c,l,t-1/3)}return{red:Math.round(n*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Mr(t,e){return s=>s>0?e:t}const vn=(t,e,s)=>{const r=t*t,n=s*(e*e-r)+r;return n<0?0:Math.sqrt(n)},ip=[$n,Ot,ts],ap=t=>ip.find(e=>e.test(t));function Ha(t){const e=ap(t);if(!e)return!1;let s=e.parse(t);return e===ts&&(s=np(s)),s}const Ya=(t,e)=>{const s=Ha(t),r=Ha(e);if(!s||!r)return Mr(t,e);const n={...s};return a=>(n.red=vn(s.red,r.red,a),n.green=vn(s.green,r.green,a),n.blue=vn(s.blue,r.blue,a),n.alpha=pe(s.alpha,r.alpha,a),Ot.transform(n))},op=(t,e)=>s=>e(t(s)),cr=(...t)=>t.reduce(op),Wn=new Set(["none","hidden"]);function lp(t,e){return Wn.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function cp(t,e){return s=>pe(t,e,s)}function Yi(t){return typeof t=="number"?cp:typeof t=="string"?Ci(t)?Mr:Ce.test(t)?Ya:hp:Array.isArray(t)?Ic:typeof t=="object"?Ce.test(t)?Ya:dp:Mr}function Ic(t,e){const s=[...t],r=s.length,n=t.map((a,o)=>Yi(a)(a,e[o]));return a=>{for(let o=0;o<r;o++)s[o]=n[o](a);return s}}function dp(t,e){const s={...t,...e},r={};for(const n in s)t[n]!==void 0&&e[n]!==void 0&&(r[n]=Yi(t[n])(t[n],e[n]));return n=>{for(const a in r)s[a]=r[a](n);return s}}function up(t,e){var s;const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],l=t.indexes[o][n[o]],c=(s=t.values[l])!==null&&s!==void 0?s:0;r[a]=c,n[o]++}return r}const hp=(t,e)=>{const s=jt.createTransformer(e),r=$s(t),n=$s(e);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?Wn.has(t)&&!n.values.length||Wn.has(e)&&!r.values.length?lp(t,e):cr(Ic(up(r,n),n.values),s):Mr(t,e)};function Mc(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?pe(t,e,s):Yi(t)(t,e)}const fp=5;function Dc(t,e,s){const r=Math.max(e-fp,0);return lc(s-t(r),e-r)}const xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ga=.001;function mp({duration:t=xe.duration,bounce:e=xe.bounce,velocity:s=xe.velocity,mass:r=xe.mass}){let n,a,o=1-e;o=ht(xe.minDamping,xe.maxDamping,o),t=ht(xe.minDuration,xe.maxDuration,dt(t)),o<1?(n=d=>{const u=d*o,h=u*t,m=u-s,p=Hn(d,o),g=Math.exp(-h);return Ga-m/p*g},a=d=>{const h=d*o*t,m=h*s+s,p=Math.pow(o,2)*Math.pow(d,2)*t,g=Math.exp(-h),x=Hn(Math.pow(d,2),o);return(-n(d)+Ga>0?-1:1)*((m-p)*g)/x}):(n=d=>{const u=Math.exp(-d*t),h=(d-s)*t+1;return-.001+u*h},a=d=>{const u=Math.exp(-d*t),h=(s-d)*(t*t);return u*h});const l=5/t,c=gp(n,a,l);if(t=ct(t),isNaN(c))return{stiffness:xe.stiffness,damping:xe.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const pp=12;function gp(t,e,s){let r=s;for(let n=1;n<pp;n++)r=r-t(r)/e(r);return r}function Hn(t,e){return t*Math.sqrt(1-e*e)}const xp=["duration","bounce"],yp=["stiffness","damping","mass"];function Ka(t,e){return e.some(s=>t[s]!==void 0)}function vp(t){let e={velocity:xe.velocity,stiffness:xe.stiffness,damping:xe.damping,mass:xe.mass,isResolvedFromDuration:!1,...t};if(!Ka(t,yp)&&Ka(t,xp))if(t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),n=r*r,a=2*ht(.05,1,1-(t.bounce||0))*Math.sqrt(n);e={...e,mass:xe.mass,stiffness:n,damping:a}}else{const s=mp(t);e={...e,...s,mass:xe.mass},e.isResolvedFromDuration=!0}return e}function Vc(t=xe.visualDuration,e=xe.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:n}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:p}=vp({...s,velocity:-dt(s.velocity||0)}),g=m||0,x=d/(2*Math.sqrt(c*u)),b=o-a,j=dt(Math.sqrt(c/u)),v=Math.abs(b)<5;r||(r=v?xe.restSpeed.granular:xe.restSpeed.default),n||(n=v?xe.restDelta.granular:xe.restDelta.default);let k;if(x<1){const C=Hn(j,x);k=w=>{const P=Math.exp(-x*j*w);return o-P*((g+x*j*b)/C*Math.sin(C*w)+b*Math.cos(C*w))}}else if(x===1)k=C=>o-Math.exp(-j*C)*(b+(g+j*b)*C);else{const C=j*Math.sqrt(x*x-1);k=w=>{const P=Math.exp(-x*j*w),F=Math.min(C*w,300);return o-P*((g+x*j*b)*Math.sinh(F)+C*b*Math.cosh(F))/C}}const T={calculatedDuration:p&&h||null,next:C=>{const w=k(C);if(p)l.done=C>=h;else{let P=0;x<1&&(P=C===0?ct(g):Dc(k,C,w));const F=Math.abs(P)<=r,X=Math.abs(o-w)<=n;l.done=F&&X}return l.value=l.done?o:w,l},toString:()=>{const C=Math.min(ec(T),On),w=tc(P=>T.next(C*P).value,C,30);return C+"ms "+w}};return T}function Ja({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],m={done:!1,value:h},p=F=>l!==void 0&&F<l||c!==void 0&&F>c,g=F=>l===void 0?c:c===void 0||Math.abs(l-F)<Math.abs(c-F)?l:c;let x=s*e;const b=h+x,j=o===void 0?b:o(b);j!==b&&(x=j-h);const v=F=>-x*Math.exp(-F/r),k=F=>j+v(F),T=F=>{const X=v(F),K=k(F);m.done=Math.abs(X)<=d,m.value=m.done?j:K};let C,w;const P=F=>{p(m.value)&&(C=F,w=Vc({keyframes:[m.value,g(m.value)],velocity:Dc(k,F,m.value),damping:n,stiffness:a,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:F=>{let X=!1;return!w&&C===void 0&&(X=!0,T(F),P(F)),C!==void 0&&F>=C?w.next(F-C):(!X&&T(F),m)}}}const bp=lr(.42,0,1,1),wp=lr(0,0,.58,1),Fc=lr(.42,0,.58,1),jp=t=>Array.isArray(t)&&typeof t[0]!="number",Np={linear:De,easeIn:bp,easeInOut:Fc,easeOut:wp,circIn:Ui,circInOut:xc,circOut:gc,backIn:$i,backInOut:mc,backOut:fc,anticipate:pc},Xa=t=>{if(Fi(t)){Dl(t.length===4);const[e,s,r,n]=t;return lr(e,s,r,n)}else if(typeof t=="string")return Np[t];return t};function kp(t,e,s){const r=[],n=s||Mc,a=t.length-1;for(let o=0;o<a;o++){let l=n(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||De:e;l=cr(c,l)}r.push(l)}return r}function _p(t,e,{clamp:s=!0,ease:r,mixer:n}={}){const a=t.length;if(Dl(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=kp(e,r,n),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const m=ls(t[h],t[h+1],u);return l[h](m)};return s?u=>d(ht(t[0],t[a-1],u)):d}function Cp(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const n=ls(0,e,r);t.push(pe(s,1,n))}}function Sp(t){const e=[0];return Cp(e,t.length-1),e}function Ap(t,e){return t.map(s=>s*e)}function Tp(t,e){return t.map(()=>e||Fc).splice(0,t.length-1)}function Dr({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const n=jp(r)?r.map(Xa):Xa(r),a={done:!1,value:e[0]},o=Ap(s&&s.length===e.length?s:Sp(e),t),l=_p(o,e,{ease:Array.isArray(n)?n:Tp(e,n)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const Pp=t=>{const e=({timestamp:s})=>t(s);return{start:()=>ue.update(e,!0),stop:()=>wt(e),now:()=>_e.isProcessing?_e.timestamp:Xe.now()}},Ep={decay:Ja,inertia:Ja,tween:Dr,keyframes:Dr,spring:Vc},Rp=t=>t/100;class Gi extends Rc{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:r,element:n,keyframes:a}=this.options,o=(n==null?void 0:n.KeyframeResolver)||Hi,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(a,l,s,r,n),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:s="keyframes",repeat:r=0,repeatDelay:n=0,repeatType:a,velocity:o=0}=this.options,l=Vi(s)?s:Ep[s]||Dr;let c,d;l!==Dr&&typeof e[0]!="number"&&(c=cr(Rp,Mc(e[0],e[1])),e=[0,100]);const u=l({...this.options,keyframes:e});a==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=ec(u));const{calculatedDuration:h}=u,m=h+n,p=m*(r+1)-n;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,s=!1){const{resolved:r}=this;if(!r){const{keyframes:F}=this.options;return{done:!0,value:F[F.length-1]}}const{finalKeyframe:n,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return a.next(0);const{delay:m,repeat:p,repeatType:g,repeatDelay:x,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),s?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const j=this.currentTime-m*(this.speed>=0?1:-1),v=this.speed>=0?j<0:j>u;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let k=this.currentTime,T=a;if(p){const F=Math.min(this.currentTime,u)/h;let X=Math.floor(F),K=F%1;!K&&F>=1&&(K=1),K===1&&X--,X=Math.min(X,p+1),!!(X%2)&&(g==="reverse"?(K=1-K,x&&(K-=x/h)):g==="mirror"&&(T=o)),k=ht(0,1,K)*h}const C=v?{done:!1,value:c[0]}:T.next(k);l&&(C.value=l(C.value));let{done:w}=C;!v&&d!==null&&(w=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&w);return P&&n!==void 0&&(C.value=sn(c,this.options,n)),b&&b(C.value),P&&this.finish(),C}get duration(){const{resolved:e}=this;return e?dt(e.calculatedDuration):0}get time(){return dt(this.currentTime)}set time(e){e=ct(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=dt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Pp,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),s&&s();const n=this.driver.now();this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=n):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Ip=new Set(["opacity","clipPath","filter","transform"]);function Mp(t,e,s,{delay:r=0,duration:n=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[e]:s};c&&(d.offset=c);const u=rc(l,n);return Array.isArray(u)&&(d.easing=u),t.animate(d,{delay:r,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const Dp=bi(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Vr=10,Vp=2e4;function Fp(t){return Vi(t.type)||t.type==="spring"||!sc(t.ease)}function Lp(t,e){const s=new Gi({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const n=[];let a=0;for(;!r.done&&a<Vp;)r=s.sample(a),n.push(r.value),a+=Vr;return{times:void 0,keyframes:n,duration:a-Vr,ease:"linear"}}const Lc={anticipate:pc,backInOut:mc,circInOut:xc};function Op(t){return t in Lc}class Qa extends Rc{constructor(e){super(e);const{name:s,motionValue:r,element:n,keyframes:a}=this.options;this.resolver=new Ec(a,(o,l)=>this.onKeyframesResolved(o,l),s,r,n),this.resolver.scheduleResolve()}initPlayback(e,s){let{duration:r=300,times:n,ease:a,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&Rr()&&Op(a)&&(a=Lc[a]),Fp(this.options)){const{onComplete:h,onUpdate:m,motionValue:p,element:g,...x}=this.options,b=Lp(e,x);e=b.keyframes,e.length===1&&(e[1]=e[0]),r=b.duration,n=b.times,a=b.ease,o="keyframes"}const u=Mp(l.owner.current,c,e,{...this.options,duration:r,times:n,ease:a});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(Va(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(sn(e,this.options,s)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:n,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:s}=e;return dt(s)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:s}=e;return dt(s.currentTime||0)}set time(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=ct(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:s}=e;return s.playbackRate}set speed(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:s}=e;return s.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:s}=e;return s.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:s}=this;if(!s)return De;const{animation:r}=s;Va(r,e)}return De}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:s,keyframes:r,duration:n,type:a,ease:o,times:l}=e;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:m,...p}=this.options,g=new Gi({...p,keyframes:r,duration:n,type:a,ease:o,times:l,isGenerator:!0}),x=ct(this.time);d.setWithVelocity(g.sample(x-Vr).value,g.sample(x).value,Vr)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:s,name:r,repeatDelay:n,repeatType:a,damping:o,type:l}=e;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=s.owner.getProps();return Dp()&&r&&Ip.has(r)&&!c&&!d&&!n&&a!=="mirror"&&o!==0&&l!=="inertia"}}const zp={type:"spring",stiffness:500,damping:25,restSpeed:10},Bp=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$p={type:"keyframes",duration:.8},Up={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qp=(t,{keyframes:e})=>e.length>2?$p:Yt.has(t)?t.startsWith("scale")?Bp(e[1]):zp:Up;function Zp({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:n,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Ki=(t,e,s,r={},n,a)=>o=>{const l=Di(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-ct(c);let u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:n};Zp(l)||(u={...u,...qp(t,u)}),u.duration&&(u.duration=ct(u.duration)),u.repeatDelay&&(u.repeatDelay=ct(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!a&&e.get()!==void 0){const m=sn(u.keyframes,l);if(m!==void 0)return ue.update(()=>{u.onUpdate(m),u.onComplete()}),new cm([])}return!a&&Qa.supports(u)?new Qa(u):new Gi(u)};function Wp({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function Oc(t,e,{delay:s=0,transitionOverride:r,type:n}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const d=[],u=n&&t.animationState&&t.animationState.getState()[n];for(const h in c){const m=t.getValue(h,(a=t.latestValues[h])!==null&&a!==void 0?a:null),p=c[h];if(p===void 0||u&&Wp(u,h))continue;const g={delay:s,...Di(o||{},h)};let x=!1;if(window.MotionHandoffAnimation){const j=cc(t);if(j){const v=window.MotionHandoffAnimation(j,h,ue);v!==null&&(g.startTime=v,x=!0)}}Bn(t,h),m.start(Ki(h,m,p,t.shouldReduceMotion&&oc.has(h)?{type:!1}:g,t,x));const b=m.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{ue.update(()=>{l&&km(t,l)})}),d}function Yn(t,e,s={}){var r;const n=zs(t,e,s.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(a=s.transitionOverride);const o=n?()=>Promise.all(Oc(t,n,s)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=a;return Hp(t,e,u+d,h,m,s)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(s.delay)])}function Hp(t,e,s=0,r=0,n=1,a){const o=[],l=(t.variantChildren.size-1)*r,c=n===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(Yp).forEach((d,u)=>{d.notify("AnimationStart",e),o.push(Yn(d,e,{...a,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function Yp(t,e){return t.sortNodePosition(e)}function Gp(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const n=e.map(a=>Yn(t,a,s));r=Promise.all(n)}else if(typeof e=="string")r=Yn(t,e,s);else{const n=typeof e=="function"?zs(t,e,s.custom):e;r=Promise.all(Oc(t,n,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}function zc(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}const Kp=ji.length;function Bc(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?Bc(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<Kp;s++){const r=ji[s],n=t.props[r];(Fs(n)||n===!1)&&(e[r]=n)}return e}const Jp=[...wi].reverse(),Xp=wi.length;function Qp(t){return e=>Promise.all(e.map(({animation:s,options:r})=>Gp(t,s,r)))}function eg(t){let e=Qp(t),s=eo(),r=!0;const n=c=>(d,u)=>{var h;const m=zs(t,u,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:p,transitionEnd:g,...x}=m;d={...d,...x,...g}}return d};function a(c){e=c(t)}function o(c){const{props:d}=t,u=Bc(t.parent)||{},h=[],m=new Set;let p={},g=1/0;for(let b=0;b<Xp;b++){const j=Jp[b],v=s[j],k=d[j]!==void 0?d[j]:u[j],T=Fs(k),C=j===c?v.isActive:null;C===!1&&(g=b);let w=k===u[j]&&k!==d[j]&&T;if(w&&r&&t.manuallyAnimateOnMount&&(w=!1),v.protectedKeys={...p},!v.isActive&&C===null||!k&&!v.prevProp||en(k)||typeof k=="boolean")continue;const P=tg(v.prevProp,k);let F=P||j===c&&v.isActive&&!w&&T||b>g&&T,X=!1;const K=Array.isArray(k)?k:[k];let ge=K.reduce(n(j),{});C===!1&&(ge={});const{prevResolvedValues:q={}}=v,G={...q,...ge},te=J=>{F=!0,m.has(J)&&(X=!0,m.delete(J)),v.needsAnimating[J]=!0;const Q=t.getValue(J);Q&&(Q.liveStyle=!1)};for(const J in G){const Q=ge[J],de=q[J];if(p.hasOwnProperty(J))continue;let Re=!1;Ln(Q)&&Ln(de)?Re=!zc(Q,de):Re=Q!==de,Re?Q!=null?te(J):m.add(J):Q!==void 0&&m.has(J)?te(J):v.protectedKeys[J]=!0}v.prevProp=k,v.prevResolvedValues=ge,v.isActive&&(p={...p,...ge}),r&&t.blockInitialAnimation&&(F=!1),F&&(!(w&&P)||X)&&h.push(...K.map(J=>({animation:J,options:{type:j}})))}if(m.size){const b={};if(typeof d.initial!="boolean"){const j=zs(t,Array.isArray(d.initial)?d.initial[0]:d.initial);j&&j.transition&&(b.transition=j.transition)}m.forEach(j=>{const v=t.getBaseTarget(j),k=t.getValue(j);k&&(k.liveStyle=!0),b[j]=v??null}),h.push({animation:b})}let x=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function l(c,d){var u;if(s[c].isActive===d)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(c,d)}),s[c].isActive=d;const h=o(c);for(const m in s)s[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=eo(),r=!0}}}function tg(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!zc(e,t):!1}function Rt(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eo(){return{animate:Rt(!0),whileInView:Rt(),whileHover:Rt(),whileTap:Rt(),whileDrag:Rt(),whileFocus:Rt(),exit:Rt()}}class At{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sg extends At{constructor(e){super(e),e.animationState||(e.animationState=eg(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();en(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let rg=0;class ng extends At{constructor(){super(...arguments),this.id=rg++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const n=this.node.animationState.setActive("exit",!e);s&&!e&&n.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ig={animation:{Feature:sg},exit:{Feature:ng}};function Us(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}function dr(t){return{point:{x:t.pageX,y:t.pageY}}}const ag=t=>e=>Li(e)&&t(e,dr(e));function ss(t,e,s,r){return Us(t,e,ag(s),r)}function $c({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function og({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function lg(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}const Uc=1e-4,cg=1-Uc,dg=1+Uc,qc=.01,ug=0-qc,hg=0+qc;function Pe(t){return t.max-t.min}function fg(t,e,s){return Math.abs(t-e)<=s}function to(t,e,s,r=.5){t.origin=r,t.originPoint=pe(e.min,e.max,t.origin),t.scale=Pe(s)/Pe(e),t.translate=pe(s.min,s.max,t.origin)-t.originPoint,(t.scale>=cg&&t.scale<=dg||isNaN(t.scale))&&(t.scale=1),(t.translate>=ug&&t.translate<=hg||isNaN(t.translate))&&(t.translate=0)}function Is(t,e,s,r){to(t.x,e.x,s.x,r?r.originX:void 0),to(t.y,e.y,s.y,r?r.originY:void 0)}function so(t,e,s){t.min=s.min+e.min,t.max=t.min+Pe(e)}function mg(t,e,s){so(t.x,e.x,s.x),so(t.y,e.y,s.y)}function ro(t,e,s){t.min=e.min-s.min,t.max=t.min+Pe(e)}function Ms(t,e,s){ro(t.x,e.x,s.x),ro(t.y,e.y,s.y)}const no=()=>({translate:0,scale:1,origin:0,originPoint:0}),rs=()=>({x:no(),y:no()}),io=()=>({min:0,max:0}),ye=()=>({x:io(),y:io()});function Oe(t){return[t("x"),t("y")]}function bn(t){return t===void 0||t===1}function Gn({scale:t,scaleX:e,scaleY:s}){return!bn(t)||!bn(e)||!bn(s)}function Vt(t){return Gn(t)||Zc(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Zc(t){return ao(t.x)||ao(t.y)}function ao(t){return t&&t!=="0%"}function Fr(t,e,s){const r=t-s,n=e*r;return s+n}function oo(t,e,s,r,n){return n!==void 0&&(t=Fr(t,n,r)),Fr(t,s,r)+e}function Kn(t,e=0,s=1,r,n){t.min=oo(t.min,e,s,r,n),t.max=oo(t.max,e,s,r,n)}function Wc(t,{x:e,y:s}){Kn(t.x,e.translate,e.scale,e.originPoint),Kn(t.y,s.translate,s.scale,s.originPoint)}const lo=.999999999999,co=1.0000000000001;function pg(t,e,s,r=!1){const n=s.length;if(!n)return;e.x=e.y=1;let a,o;for(let l=0;l<n;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&is(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Wc(t,o)),r&&Vt(a.latestValues)&&is(t,a.latestValues))}e.x<co&&e.x>lo&&(e.x=1),e.y<co&&e.y>lo&&(e.y=1)}function ns(t,e){t.min=t.min+e,t.max=t.max+e}function uo(t,e,s,r,n=.5){const a=pe(t.min,t.max,n);Kn(t,e,s,a,r)}function is(t,e){uo(t.x,e.x,e.scaleX,e.scale,e.originX),uo(t.y,e.y,e.scaleY,e.scale,e.originY)}function Hc(t,e){return $c(lg(t.getBoundingClientRect(),e))}function gg(t,e,s){const r=Hc(t,s),{scroll:n}=e;return n&&(ns(r.x,n.offset.x),ns(r.y,n.offset.y)),r}const ho=(t,e)=>Math.abs(t-e);function xg(t,e){const s=ho(t.x,e.x),r=ho(t.y,e.y);return Math.sqrt(s**2+r**2)}class Yc{constructor(e,s,{transformPagePoint:r,dragSnapToOrigin:n=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=jn(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=xg(u.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=u,{timestamp:g}=_e;this.history.push({...p,timestamp:g});const{onStart:x,onMove:b}=this.handlers;h||(x&&x(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{if(u.target instanceof Element&&u.target.hasPointerCapture&&u.pointerId!==void 0)try{if(!u.target.hasPointerCapture(u.pointerId))return}catch{}this.lastMoveEvent=u,this.lastMoveEventInfo=wn(h,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{Ir(u,"release"),this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=jn(u.type==="pointercancel"||u.type==="lostpointercapture"?this.lastMoveEventInfo:wn(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(u,x),p&&p(u,x)},!Li(e))return;this.dragSnapToOrigin=n,this.handlers=s,this.transformPagePoint=r;const a=dr(e),o=wn(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=_e;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=s;d&&d(e,jn(o,this.history)),Ir(e,"set"),this.removeListeners=cr(ss(e.currentTarget,"pointermove",this.handlePointerMove),ss(e.currentTarget,"pointerup",this.handlePointerUp),ss(e.currentTarget,"pointercancel",this.handlePointerUp),ss(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wt(this.updatePoint)}}function wn(t,e){return e?{point:e(t.point)}:t}function fo(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jn({point:t},e){return{point:t,delta:fo(t,Gc(e)),offset:fo(t,yg(e)),velocity:vg(e,.1)}}function yg(t){return t[0]}function Gc(t){return t[t.length-1]}function vg(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const n=Gc(t);for(;s>=0&&(r=t[s],!(n.timestamp-r.timestamp>ct(e)));)s--;if(!r)return{x:0,y:0};const a=dt(n.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(n.x-r.x)/a,y:(n.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bg(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?pe(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?pe(s,t,r.max):Math.min(t,s)),t}function mo(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function wg(t,{top:e,left:s,bottom:r,right:n}){return{x:mo(t.x,s,n),y:mo(t.y,e,r)}}function po(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function jg(t,e){return{x:po(t.x,e.x),y:po(t.y,e.y)}}function Ng(t,e){let s=.5;const r=Pe(t),n=Pe(e);return n>r?s=ls(e.min,e.max-r,t.min):r>n&&(s=ls(t.min,t.max-n,e.min)),ht(0,1,s)}function kg(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const Jn=.35;function _g(t=Jn){return t===!1?t=0:t===!0&&(t=Jn),{x:go(t,"left","right"),y:go(t,"top","bottom")}}function go(t,e,s){return{min:xo(t,e),max:xo(t,s)}}function xo(t,e){return typeof t=="number"?t:t[e]||0}const Cg=new WeakMap;class Sg{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ye(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const n=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(dr(u).point)},a=(u,h)=>{const{drag:m,dragPropagation:p,onDragStart:g}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vm(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oe(b=>{let j=this.getAxisMotionValue(b).get()||0;if(Je.test(j)){const{projection:v}=this.visualElement;if(v&&v.layout){const k=v.layout.layoutBox[b];k&&(j=Pe(k)*(parseFloat(j)/100))}}this.originPoint[b]=j}),g&&ue.postRender(()=>g(u,h)),Bn(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:g,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=h;if(p&&this.currentDirection===null){this.currentDirection=Ag(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),x&&x(u,h)},l=(u,h)=>this.stop(u,h),c=()=>Oe(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Yc(e,{onSessionStart:n,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d})}stop(e,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=s;this.startAnimation(n);const{onDragEnd:a}=this.getProps();a&&ue.postRender(()=>a(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:n}=this.getProps();if(!r||!wr(e,n,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=bg(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;s&&es(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&n?this.constraints=wg(n.layoutBox,s):this.constraints=!1,this.elastic=_g(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Oe(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=kg(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!es(e))return!1;const r=e.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const a=gg(r,n.root,this.visualElement.getTransformPagePoint());let o=jg(n.layout.layoutBox,a);if(s){const l=s(og(o));this.hasMutatedConstraints=!!l,l&&(o=$c(l))}return o}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:n,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Oe(u=>{if(!wr(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=n?200:1e6,p=n?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return Bn(this.visualElement,e),r.start(Ki(e,r,0,s,this.visualElement,!1))}stopAnimation(){Oe(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Oe(e=>{var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),n=r[s];return n||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Oe(s=>{const{drag:r}=this.getProps();if(!wr(s,r,this.currentDirection))return;const{projection:n}=this.visualElement,a=this.getAxisMotionValue(s);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[s];a.set(e[s]-pe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!es(s)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Oe(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();n[o]=Ng({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Oe(o=>{if(!wr(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(pe(c,d,n[o]))})}addListeners(){if(!this.visualElement.current)return;Cg.set(this.visualElement,this);const e=this.visualElement.current,s=ss(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();es(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,a=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),ue.read(r);const o=Us(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Oe(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:a=!1,dragElastic:o=Jn,dragMomentum:l=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:n,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function wr(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function Ag(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class Tg extends At{constructor(e){super(e),this.removeGroupControls=De,this.removeListeners=De,this.controls=new Sg(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||De}unmount(){this.removeGroupControls(),this.removeListeners()}}const yo=t=>(e,s)=>{t&&ue.postRender(()=>t(e,s))};class Pg extends At{constructor(){super(...arguments),this.removePointerDownListener=De}onPointerDown(e){this.session=new Yc(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:yo(e),onStart:yo(s),onMove:r,onEnd:(a,o)=>{delete this.session,n&&ue.postRender(()=>n(a,o))}}}mount(){this.removePointerDownListener=ss(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ar={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vo(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const js={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(W.test(t))t=parseFloat(t);else return t;const s=vo(t,e.target.x),r=vo(t,e.target.y);return`${s}% ${r}%`}},Eg={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,n=jt.parse(t);if(n.length>5)return r;const a=jt.createTransformer(t),o=typeof n[0]!="number"?1:0,l=s.x.scale*e.x,c=s.y.scale*e.y;n[0+o]/=l,n[1+o]/=c;const d=pe(l,c,.5);return typeof n[2+o]=="number"&&(n[2+o]/=d),typeof n[3+o]=="number"&&(n[3+o]/=d),a(n)}};class Rg extends f.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:n}=this.props,{projection:a}=e;Vf(Ig),a&&(s.group&&s.group.add(a),r&&r.register&&n&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ar.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:n,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,n||e.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||ue.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ki.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Kc(t){const[e,s]=Rl(),r=f.useContext(gi);return i.jsx(Rg,{...t,layoutGroup:r,switchLayoutGroup:f.useContext(Bl),isPresent:e,safeToRemove:s})}const Ig={borderRadius:{...js,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:js,borderTopRightRadius:js,borderBottomLeftRadius:js,borderBottomRightRadius:js,boxShadow:Eg};function Mg(t,e,s){const r=Se(t)?t:Bs(t);return r.start(Ki("",r,e,s)),r.animation}function Dg(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Vg=(t,e)=>t.depth-e.depth;class Fg{constructor(){this.children=[],this.isDirty=!1}add(e){Oi(this.children,e),this.isDirty=!0}remove(e){zi(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Vg),this.isDirty=!1,this.children.forEach(e)}}function Lg(t,e){const s=Xe.now(),r=({timestamp:n})=>{const a=n-s;a>=e&&(wt(r),t(a-e))};return ue.read(r,!0),()=>wt(r)}const Jc=["TopLeft","TopRight","BottomLeft","BottomRight"],Og=Jc.length,bo=t=>typeof t=="string"?parseFloat(t):t,wo=t=>typeof t=="number"||W.test(t);function zg(t,e,s,r,n,a){n?(t.opacity=pe(0,s.opacity!==void 0?s.opacity:1,Bg(r)),t.opacityExit=pe(e.opacity!==void 0?e.opacity:1,0,$g(r))):a&&(t.opacity=pe(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let o=0;o<Og;o++){const l=`border${Jc[o]}Radius`;let c=jo(e,l),d=jo(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||wo(c)===wo(d)?(t[l]=Math.max(pe(bo(c),bo(d),r),0),(Je.test(d)||Je.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||s.rotate)&&(t.rotate=pe(e.rotate||0,s.rotate||0,r))}function jo(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Bg=Xc(0,.5,gc),$g=Xc(.5,.95,De);function Xc(t,e,s){return r=>r<t?0:r>e?1:s(ls(t,e,r))}function No(t,e){t.min=e.min,t.max=e.max}function Fe(t,e){No(t.x,e.x),No(t.y,e.y)}function ko(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _o(t,e,s,r,n){return t-=e,t=Fr(t,1/s,r),n!==void 0&&(t=Fr(t,1/n,r)),t}function Ug(t,e=0,s=1,r=.5,n,a=t,o=t){if(Je.test(e)&&(e=parseFloat(e),e=pe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=pe(a.min,a.max,r);t===a&&(l-=e),t.min=_o(t.min,e,s,l,n),t.max=_o(t.max,e,s,l,n)}function Co(t,e,[s,r,n],a,o){Ug(t,e[s],e[r],e[n],e.scale,a,o)}const qg=["x","scaleX","originX"],Zg=["y","scaleY","originY"];function So(t,e,s,r){Co(t.x,e,qg,s?s.x:void 0,r?r.x:void 0),Co(t.y,e,Zg,s?s.y:void 0,r?r.y:void 0)}function Ao(t){return t.translate===0&&t.scale===1}function Qc(t){return Ao(t.x)&&Ao(t.y)}function To(t,e){return t.min===e.min&&t.max===e.max}function Wg(t,e){return To(t.x,e.x)&&To(t.y,e.y)}function Po(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ed(t,e){return Po(t.x,e.x)&&Po(t.y,e.y)}function Eo(t){return Pe(t.x)/Pe(t.y)}function Ro(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Hg{constructor(){this.members=[]}add(e){Oi(this.members,e),e.scheduleRender()}remove(e){if(zi(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(n=>e===n);if(s===0)return!1;let r;for(let n=s;n>=0;n--){const a=this.members[n];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yg(t,e,s){let r="";const n=t.x.translate/e.x,a=t.y.translate/e.y,o=(s==null?void 0:s.z)||0;if((n||a||o)&&(r=`translate3d(${n}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:p,skewY:g}=s;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Nn=["","X","Y","Z"],Gg={visibility:"hidden"},Io=1e3;let Kg=0;function kn(t,e,s,r){const{latestValues:n}=e;n[t]&&(s[t]=n[t],e.setStaticValue(t,0),r&&(r[t]=0))}function td(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=cc(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:n,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",ue,!(n||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&td(r)}function sd({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Kg++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Qg),this.nodes.forEach(nx),this.nodes.forEach(ix),this.nodes.forEach(ex)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Fg)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Bi),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Dg(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Lg(m,250),Ar.hasAnimatedSinceResize&&(Ar.hasAnimatedSinceResize=!1,this.nodes.forEach(Do))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||dx,{onLayoutAnimationStart:b,onLayoutAnimationComplete:j}=u.getProps(),v=!this.targetLayout||!ed(this.targetLayout,g),k=!m&&p;if(this.options.layoutRoot||this.resumeFrom||k||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,k);const T={...Di(x,"layout"),onPlay:b,onComplete:j};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else m||Do(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ax),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&td(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mo);return}this.isUpdating||this.nodes.forEach(sx),this.isUpdating=!1,this.nodes.forEach(rx),this.nodes.forEach(Jg),this.nodes.forEach(Xg),this.clearAllSnapshots();const l=Xe.now();_e.delta=ht(0,1e3/60,l-_e.timestamp),_e.timestamp=l,_e.isProcessing=!0,pn.update.process(_e),pn.preRender.process(_e),pn.render.process(_e),_e.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ki.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tx),this.sharedNodes.forEach(ox)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pe(this.snapshot.measuredBox.x)&&!Pe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Qc(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Vt(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),ux(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return ye();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(hx))){const{scroll:u}=this.root;u&&(ns(c.x,u.offset.x),ns(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=ye();if(Fe(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Fe(c,o),ns(c.x,h.offset.x),ns(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=ye();Fe(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&is(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Vt(u.latestValues)&&is(c,u.latestValues)}return Vt(this.latestValues)&&is(c,this.latestValues),c}removeTransform(o){const l=ye();Fe(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Vt(d.latestValues))continue;Gn(d.latestValues)&&d.updateSnapshot();const u=ye(),h=d.measurePageBox();Fe(u,h),So(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Vt(this.latestValues)&&So(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_e.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=_e.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),Ms(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Fe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ye(),this.targetWithTransforms=ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mg(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fe(this.target,this.layout.layoutBox),Wc(this.target,this.targetDelta)):Fe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),Ms(this.relativeTargetOrigin,this.target,p.target),Fe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gn(this.parent.latestValues)||Zc(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===_e.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Fe(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;pg(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ye());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ko(this.prevProjectionDelta.x,this.projectionDelta.x),ko(this.prevProjectionDelta.y,this.projectionDelta.y)),Is(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!Ro(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ro(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rs(),this.projectionDelta=rs(),this.projectionDeltaWithTransform=rs()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=rs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ye(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=p!==g,b=this.getStack(),j=!b||b.members.length<=1,v=!!(x&&!j&&this.options.crossfade===!0&&!this.path.some(cx));this.animationProgress=0;let k;this.mixTargetDelta=T=>{const C=T/1e3;Vo(h.x,o.x,C),Vo(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ms(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lx(this.relativeTarget,this.relativeTargetOrigin,m,C),k&&Wg(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=ye()),Fe(k,this.relativeTarget)),x&&(this.animationValues=u,zg(u,d,this.latestValues,C,v,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{Ar.hasAnimatedSinceResize=!0,this.currentAnimation=Mg(0,Io,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Io),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&rd(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ye();const h=Pe(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=Pe(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Fe(l,c),is(l,u),Is(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Hg),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&kn("z",o,d,this.animationValues);for(let u=0;u<Nn.length;u++)kn(`rotate${Nn[u]}`,o,d,this.animationValues),kn(`skew${Nn[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Gg;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Cr(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Cr(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Vt(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Yg(this.projectionDeltaWithTransform,this.treeScale,m),u&&(d.transform=u(m,d.transform));const{x:p,y:g}=this.projectionDelta;d.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in Ls){if(m[x]===void 0)continue;const{correct:b,applyTo:j,isCSSVariable:v}=Ls[x],k=d.transform==="none"?m[x]:b(m[x],h);if(j){const T=j.length;for(let C=0;C<T;C++)d[j[C]]=k}else v?this.options.visualElement.renderState.vars[x]=k:d[x]=k}return this.options.layoutId&&(d.pointerEvents=h===this?Cr(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Mo),this.root.sharedNodes.clear()}}}function Jg(t){t.updateLayout()}function Xg(t){var e;const s=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:a}=t.options,o=s.source!==t.layout.source;a==="size"?Oe(h=>{const m=o?s.measuredBox[h]:s.layoutBox[h],p=Pe(m);m.min=r[h].min,m.max=m.min+p}):rd(a,s.layoutBox,r)&&Oe(h=>{const m=o?s.measuredBox[h]:s.layoutBox[h],p=Pe(r[h]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const l=rs();Is(l,r,s.layoutBox);const c=rs();o?Is(c,t.applyTransform(n,!0),s.measuredBox):Is(c,r,s.layoutBox);const d=!Qc(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const g=ye();Ms(g,s.layoutBox,m.layoutBox);const x=ye();Ms(x,r,p.layoutBox),ed(g,x)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Qg(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ex(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tx(t){t.clearSnapshot()}function Mo(t){t.clearMeasurements()}function sx(t){t.isLayoutDirty=!1}function rx(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Do(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function nx(t){t.resolveTargetDelta()}function ix(t){t.calcProjection()}function ax(t){t.resetSkewAndRotation()}function ox(t){t.removeLeadSnapshot()}function Vo(t,e,s){t.translate=pe(e.translate,0,s),t.scale=pe(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function Fo(t,e,s,r){t.min=pe(e.min,s.min,r),t.max=pe(e.max,s.max,r)}function lx(t,e,s,r){Fo(t.x,e.x,s.x,r),Fo(t.y,e.y,s.y,r)}function cx(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dx={duration:.45,ease:[.4,0,.1,1]},Lo=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Oo=Lo("applewebkit/")&&!Lo("chrome/")?Math.round:De;function zo(t){t.min=Oo(t.min),t.max=Oo(t.max)}function ux(t){zo(t.x),zo(t.y)}function rd(t,e,s){return t==="position"||t==="preserve-aspect"&&!fg(Eo(e),Eo(s),.2)}function hx(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const fx=sd({attachResizeListener:(t,e)=>Us(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_n={current:void 0},nd=sd({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!_n.current){const t=new fx({});t.mount(window),t.setOptions({layoutScroll:!0}),_n.current=t}return _n.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mx={pan:{Feature:Pg},drag:{Feature:Tg,ProjectionNode:nd,MeasureLayout:Kc}};function Bo(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const n="onHover"+s,a=r[n];a&&ue.postRender(()=>a(e,dr(e)))}class px extends At{mount(){const{current:e}=this.node;e&&(this.unmount=fm(e,(s,r)=>(Bo(this.node,r,"Start"),n=>Bo(this.node,n,"End"))))}unmount(){}}class gx extends At{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cr(Us(this.node.current,"focus",()=>this.onFocus()),Us(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $o(t,e,s){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const n="onTap"+(s==="End"?"":s),a=r[n];a&&ue.postRender(()=>a(e,dr(e)))}class xx extends At{mount(){const{current:e}=this.node;e&&(this.unmount=xm(e,(s,r)=>($o(this.node,r,"Start"),(n,{success:a})=>$o(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xn=new WeakMap,Cn=new WeakMap,yx=t=>{const e=Xn.get(t.target);e&&e(t)},vx=t=>{t.forEach(yx)};function bx({root:t,...e}){const s=t||document;Cn.has(s)||Cn.set(s,{});const r=Cn.get(s),n=JSON.stringify(e);return r[n]||(r[n]=new IntersectionObserver(vx,{root:t,...e})),r[n]}function wx(t,e,s){const r=bx(e);return Xn.set(t,s),r.observe(t),()=>{Xn.delete(t),r.unobserve(t)}}const jx={some:0,all:1};class Nx extends At{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:n="some",once:a}=e,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:jx[n]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return wx(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(kx(e,s))&&this.startObserver()}unmount(){}}function kx({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const _x={inView:{Feature:Nx},tap:{Feature:xx},focus:{Feature:gx},hover:{Feature:px}},Cx={layout:{ProjectionNode:nd,MeasureLayout:Kc}},Qn={current:null},id={current:!1};function Sx(){if(id.current=!0,!!vi)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qn.current=t.matches;t.addListener(e),e()}else Qn.current=!1}const Ax=[...Pc,Ce,jt],Tx=t=>Ax.find(Tc(t)),Px=new WeakMap;function Ex(t,e,s){for(const r in e){const n=e[r],a=s[r];if(Se(n))t.addValue(r,n);else if(Se(a))t.addValue(r,Bs(n,{owner:t}));else if(a!==n)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=t.getStaticValue(r);t.addValue(r,Bs(o!==void 0?o:n,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const Uo=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Rx{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hi,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Xe.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ue.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=tn(s),this.isVariantNode=Ol(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const p in m){const g=m[p];c[p]!==void 0&&Se(g)&&g.set(c[p],!1)}}mount(e){this.current=e,Px.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),id.current||Sx(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wt(this.notifyUpdate),wt(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Yt.has(e);r&&this.onBindTransform&&this.onBindTransform();const n=s.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{n(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cs){const s=cs[e];if(!s)continue;const{isEnabled:r,Feature:n}=s;if(!this.features[e]&&n&&r(this.props)&&(this.features[e]=new n(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ye()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Uo.length;r++){const n=Uo[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const a="on"+n,o=e[a];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=Ex(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=Bs(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){var r;let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(Sc(n)||yc(n))?n=parseFloat(n):!Tx(n)&&jt.test(s)&&(n=kc(e,s)),this.setBaseTarget(e,Se(n)?n.get():n)),Se(n)?n.get():n}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=Ii(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Se(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Bi),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class ad extends Rx{constructor(){super(...arguments),this.KeyframeResolver=Ec}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Se(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Ix(t){return window.getComputedStyle(t)}class Mx extends ad{constructor(){super(...arguments),this.type="html",this.renderInstance=Kl}readValueFromInstance(e,s){if(Yt.has(s)){const r=Wi(s);return r&&r.default||0}else{const r=Ix(e),n=(_i(s)?r.getPropertyValue(s):r[s])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Hc(e,s)}build(e,s,r){Ai(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return Mi(e,s,r)}}class Dx extends ad{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ye,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Gl(this.current,this.renderState)}}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Yt.has(s)){const r=Wi(s);return r&&r.default||0}return s=Jl.has(s)?s:Ni(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return Ql(e,s,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&ue.postRender(this.updateDimensions)}build(e,s,r){Ei(e,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,s,r,n){Xl(e,s,r,n)}mount(e){this.isSVGTag=Ri(e.tagName),super.mount(e)}}const Vx=(t,e)=>Pi(t)?new Dx(e):new Mx(e,{allowProjection:t!==f.Fragment}),Fx=am({...ig,..._x,...mx,...Cx},Vx),U=jf(Fx),Lx=ui((t,e)=>({frequentLocations:[],popularLocations:[],isLoading:!1,error:null,fetchFrequentLocations:async s=>{try{t({isLoading:!0,error:null});const{data:r,error:n}=await $.from("user_locations").select("*").eq("user_id",s).order("frequency",{ascending:!1}).order("last_used",{ascending:!1}).limit(5);if(n)throw n;t({frequentLocations:r.map(a=>({id:a.id,address:a.address,latitude:a.latitude,longitude:a.longitude,frequency:a.frequency,lastUsed:new Date(a.last_used),type:a.type}))})}catch(r){t({error:r.message})}finally{t({isLoading:!1})}},fetchPopularLocations:async()=>{try{t({isLoading:!0,error:null});const{data:s,error:r}=await $.from("popular_locations").select("*").order("total_rides",{ascending:!1}).limit(5);if(r)throw r;t({popularLocations:s.map(n=>({id:n.id,address:n.address,latitude:n.latitude,longitude:n.longitude,frequency:n.total_rides,lastUsed:new Date,type:"pickup"}))})}catch(s){t({error:s.message})}finally{t({isLoading:!1})}},addLocation:async(s,r)=>{try{t({isLoading:!0,error:null});const{data:n}=await $.from("user_locations").select("*").eq("user_id",s).eq("address",r.address).single();n?await $.from("user_locations").update({frequency:n.frequency+1,last_used:new Date().toISOString()}).eq("id",n.id):await $.from("user_locations").insert({user_id:s,address:r.address,latitude:r.latitude,longitude:r.longitude,frequency:1,last_used:new Date().toISOString(),type:r.type}),await e().fetchFrequentLocations(s)}catch(n){t({error:n.message})}finally{t({isLoading:!1})}}})),Ox="https://api.mapbox.com",zx="pk.eyJ1IjoicDJwdGF4aSIsImEiOiJjbTR6d2ZzMGMxN3JyMmtyMGdzdDk5YTFwIn0.oou-Q_JkuANwR_JJp0WFLQpk.eyJ1IjoicDJwdGF4aSIsImEiOiJjbTR6d2ZzMGMxN3JyMmtyMGdzdDk5YTFwIn0.oou-Q_JkuANwR_JJp0WFLQ",od=async t=>{const e=`${Ox}/geocoding/v5/mapbox.places/${encodeURIComponent(t)}.json?access_token=${zx}&country=NL&types=address,poi&language=nl`;try{const s=await fetch(e);if(!s.ok)throw new Error("Failed to fetch locations");return(await s.json()).features.map(n=>({address:n.place_name,coordinates:n.center,placeId:n.id}))}catch(s){throw console.error("Error searching locations:",s),s}},qo=({type:t,value:e,onSelect:s,placeholder:r,className:n="",label:a,error:o})=>{const[l,c]=f.useState(e),[d,u]=f.useState([]),[h,m]=f.useState(!1),[p,g]=f.useState(!1),x=f.useRef(null),b=f.useRef(null);f.useEffect(()=>{c(e)},[e]),f.useEffect(()=>{const T=C=>{x.current&&!x.current.contains(C.target)&&g(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]);const j=async T=>{if(!T.trim()){u([]);return}m(!0);try{const C=await od(T);u(C),g(!0)}catch(C){console.error("Error searching locations:",C),u([])}finally{m(!1)}},v=T=>{const C=T.target.value;c(C),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{j(C)},300)};f.useEffect(()=>()=>{b.current&&clearTimeout(b.current)},[]);const k=T=>{c(T.address),g(!1),s(T)};return i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:a}),i.jsxs("div",{ref:x,className:`relative ${n}`,children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:l,onChange:v,onFocus:()=>d.length>0&&g(!0),placeholder:r||`Enter ${t} location`,className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary bg-white text-gray-900"}),h&&i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-primary border-t-transparent"})})]}),o&&i.jsx("p",{className:"text-sm text-red-500",children:o})]}),i.jsx(Ml,{children:p&&d.length>0&&i.jsx(U.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.2},className:"absolute z-50 w-full mt-1 bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"max-h-60 overflow-y-auto",children:d.map((T,C)=>i.jsx(U.button,{whileHover:{backgroundColor:"rgb(249 250 251)"},whileTap:{scale:.99},onClick:()=>k(T),className:"w-full px-4 py-3 text-left bg-white transition-colors duration-150 border-b border-gray-100 last:border-b-0 focus:outline-none focus:bg-gray-50",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-base font-semibold text-gray-900",children:T.address.split(",")[0]}),i.jsx("span",{className:"text-sm text-gray-600 mt-0.5",children:T.address.split(",").slice(1).join(",").trim()})]})},C))})})})]})};var Bx=Su();const it=pl(Bx);it.accessToken="pk.eyJ1IjoicDJwdGF4aSIsImEiOiJjbTR6d2ZzMGMxN3JyMmtyMGdzdDk5YTFwIn0.oou-Q_JkuANwR_JJp0WFLQpk.eyJ1IjoicDJwdGF4aSIsImEiOiJjbTR6d2ZzMGMxN3JyMmtyMGdzdDk5YTFwIn0.oou-Q_JkuANwR_JJp0WFLQ";const $x=({pickupLocation:t,dropoffLocation:e,className:s=""})=>{const r=f.useRef(null),n=f.useRef(null),[a,o]=f.useState(null),[l]=f.useState(!1);return f.useEffect(()=>{if(r.current)return n.current=new it.Map({container:r.current,style:"mapbox://styles/mapbox/dark-v11",center:[-74.5,40],zoom:12,attributionControl:!1}),n.current.addControl(new it.NavigationControl({showCompass:!0,showZoom:!0,visualizePitch:!0}),"top-right"),n.current.addControl(new it.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0}),"top-right"),n.current.addControl(new it.ScaleControl,"bottom-right"),()=>{var c;(c=n.current)==null||c.remove()}},[]),f.useEffect(()=>{if(!n.current)return;const c=document.getElementsByClassName("marker");for(;c[0];)c[0].remove();if(t!=null&&t.coordinates){const d=document.createElement("div");d.className="marker pickup-marker",d.innerHTML=`
        <div class="w-10 h-10 rounded-full bg-[#F7C948]/20 flex items-center justify-center transform-gpu transition-transform duration-300 hover:scale-110">
          <div class="w-5 h-5 text-[#F7C948] animate-bounce"></div>
        </div>
      `,new it.Marker(d).setLngLat([t.coordinates.lng,t.coordinates.lat]).addTo(n.current)}if(e!=null&&e.coordinates){const d=document.createElement("div");d.className="marker dropoff-marker",d.innerHTML=`
        <div class="w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center transform-gpu transition-transform duration-300 hover:scale-110">
          <div class="w-5 h-5 text-green-500 animate-bounce"></div>
        </div>
      `,new it.Marker(d).setLngLat([e.coordinates.lng,e.coordinates.lat]).addTo(n.current)}t!=null&&t.coordinates&&(e!=null&&e.coordinates)&&(a&&(n.current.removeLayer(a),n.current.removeSource(a)),fetch(`https://api.mapbox.com/directions/v5/mapbox/driving/${t.coordinates.lng},${t.coordinates.lat};${e.coordinates.lng},${e.coordinates.lat}?geometries=geojson&access_token=${it.accessToken}`).then(d=>d.json()).then(d=>{if(!n.current||!d.routes[0])return;const u=d.routes[0].geometry,h=`route-${Date.now()}`;n.current.addSource(h,{type:"geojson",data:{type:"Feature",properties:{},geometry:u}}),n.current.addLayer({id:h,type:"line",source:h,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#F7C948","line-width":4,"line-opacity":.8}}),o(h);const m=u.coordinates,p=m.reduce((g,x)=>g.extend(x),new it.LngLatBounds(m[0],m[0]));n.current.fitBounds(p,{padding:50})}))},[t,e]),i.jsxs("div",{className:`relative w-full h-full ${s}`,children:[i.jsx("div",{ref:r,className:"w-full h-full min-h-[400px] rounded-xl border border-[#F7C948]/10 bg-zinc-900/90 overflow-hidden shadow-lg",style:{minHeight:"400px"}}),l&&i.jsx("div",{className:"absolute inset-0 bg-zinc-900/50 backdrop-blur-sm flex items-center justify-center",children:i.jsx("div",{className:"w-8 h-8 border-2 border-[#F7C948] border-t-transparent rounded-full animate-spin"})})]})},Ux={light:{background:"bg-white/70 backdrop-blur-md",border:"border border-white/20",shadow:"shadow-lg shadow-yellow-500/10",hover:"hover:bg-white/80 hover:shadow-yellow-500/20",gradient:"bg-gradient-to-br from-yellow-400 to-yellow-200"},dark:{background:"bg-zinc-900/70 backdrop-blur-md",border:"border border-yellow-500/20",shadow:"shadow-lg shadow-yellow-500/5",hover:"hover:bg-zinc-800/80 hover:shadow-yellow-500/10",gradient:"bg-gradient-to-br from-zinc-800 to-zinc-900"}},ld=ui()(yl(t=>({isDarkMode:!0,toggleDarkMode:()=>{t(e=>({isDarkMode:!e.isDarkMode})),document.documentElement.classList.toggle("dark",!document.documentElement.classList.contains("dark"))}}),{name:"theme-storage"})),qx=()=>{const{isDarkMode:t}=ld();return f.useEffect(()=>{document.documentElement.classList.toggle("dark",t)},[t]),{isDarkMode:t}},Zx=({children:t,className:e="",interactive:s=!1,gradient:r=!1,onClick:n,style:a,...o})=>{const{isDarkMode:l}=qx(),d=Ux[l?"dark":"light"],u=[d.background,d.border,d.shadow,"rounded-xl","transition-all","duration-300","ease-in-out"];return s&&u.push(d.hover,"cursor-pointer","transform","hover:-translate-y-1"),r&&u.push(d.gradient),i.jsx("div",{className:`${u.join(" ")} ${e}`,onClick:s?n:void 0,style:a,...o,children:t})},Zo=({location:t,onSelect:e,isSelected:s=!1})=>{const r=()=>{switch(t.type){case"home":return i.jsx(sh,{className:"w-5 h-5 text-taxi-yellow"});case"work":return i.jsx(qu,{className:"w-5 h-5 text-taxi-yellow"});case"favorite":return i.jsx(vh,{className:"w-5 h-5 text-taxi-yellow"});case"recent":return i.jsx(mi,{className:"w-5 h-5 text-taxi-yellow"});default:return i.jsx(lt,{className:"w-5 h-5 text-taxi-yellow"})}};return i.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},children:i.jsx(Zx,{className:`
          p-4 cursor-pointer transition-all duration-200
          ${s?"border-taxi-yellow bg-taxi-yellow/10":"hover:bg-white/5"}
        `,onClick:e,children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`
            w-10 h-10 rounded-full flex items-center justify-center
            ${s?"bg-taxi-yellow/30":"bg-taxi-yellow/10"}
            transition-colors duration-200
          `,children:r()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-medium group-hover:text-taxi-yellow transition-colors",children:t.name}),i.jsx("div",{className:"text-sm text-gray-400",children:t.address}),t.lastVisited&&i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Last used: ",new Date(t.lastVisited).toLocaleDateString()]}),t.frequency&&t.frequency>0&&i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Used ",t.frequency," time",t.frequency!==1?"s":""]})]}),s&&i.jsx(U.div,{initial:{scale:0},animate:{scale:1},className:"w-6 h-6 rounded-full bg-taxi-yellow flex items-center justify-center",children:i.jsx(lt,{className:"w-4 h-4 text-night-black"})})]})})})},Wx=({formData:t,onChange:e})=>{const{user:s}=Be(),{addLocation:r,fetchFrequentLocations:n,fetchPopularLocations:a,isLoading:o,error:l,frequentLocations:c,popularLocations:d}=Lx(),[u,h]=f.useState(t.pickupLocation||null),[m,p]=f.useState(t.dropoffLocation||null),[g,x]=f.useState(null),[b,j]=f.useState("saved");f.useEffect(()=>{s!=null&&s.id&&(n(s.id),a())},[s==null?void 0:s.id,n,a]),f.useEffect(()=>{u&&m&&e({pickupLocation:u,dropoffLocation:m})},[u,m,e]);const v=async(k,T)=>{try{s!=null&&s.id&&await r(s.id,{address:T.address,latitude:T.coordinates.lat,longitude:T.coordinates.lng,type:k});const C={name:T.address,address:T.address,coordinates:{lat:T.coordinates.lat,lng:T.coordinates.lng}};k==="pickup"?((await hn(async()=>{const{default:P}=await Promise.resolve().then(()=>mn);return{default:P}},void 0)).default.success("Pickup location set"),h(C),e({pickupLocation:C}),x(null)):((await hn(async()=>{const{default:P}=await Promise.resolve().then(()=>mn);return{default:P}},void 0)).default.success("Drop-off location set"),p(C),e({dropoffLocation:C}),x(null))}catch(C){console.error("Error selecting location:",C),(await hn(async()=>{const{default:P}=await Promise.resolve().then(()=>mn);return{default:P}},void 0)).default.error("Failed to set location")}};return i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-left mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Where are you going?"}),i.jsx("p",{className:"text-gray-400",children:"Enter your pickup and drop-off locations"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(qo,{type:"pickup",value:(u==null?void 0:u.address)||"",onSelect:k=>v("pickup",{address:k.address,coordinates:{lat:k.coordinates[1],lng:k.coordinates[0]}}),placeholder:"Enter pickup location",className:"w-full glass-input pl-14",label:"Pickup Location"}),i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:i.jsx("div",{className:"w-8 h-8 rounded-full bg-taxi-yellow/20 flex items-center justify-center",children:i.jsx(lt,{className:"w-4 h-4 text-taxi-yellow"})})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(qo,{type:"dropoff",value:(m==null?void 0:m.address)||"",onSelect:k=>v("dropoff",{address:k.address,coordinates:{lat:k.coordinates[1],lng:k.coordinates[0]}}),placeholder:"Enter drop-off location",className:"w-full glass-input pl-14",label:"Drop-off Location"}),i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:i.jsx("div",{className:"w-8 h-8 rounded-full bg-success/20 flex items-center justify-center",children:i.jsx(lt,{className:"w-4 h-4 text-success"})})})]}),g&&i.jsx(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-error text-sm",children:g})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex space-x-4 border-b border-gray-700",children:[i.jsxs("button",{onClick:()=>j("saved"),className:`pb-2 px-4 text-sm font-medium transition-colors relative
                ${b==="saved"?"text-taxi-yellow":"text-gray-400 hover:text-gray-300"}`,children:["Saved Places",b==="saved"&&i.jsx(U.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-taxi-yellow"})]}),i.jsxs("button",{onClick:()=>j("recent"),className:`pb-2 px-4 text-sm font-medium transition-colors relative
                ${b==="recent"?"text-taxi-yellow":"text-gray-400 hover:text-gray-300"}`,children:["Recent Places",b==="recent"&&i.jsx(U.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-taxi-yellow"})]})]}),i.jsxs("div",{className:"space-y-3 max-h-[300px] overflow-y-auto custom-scrollbar relative min-h-[200px]",children:[o&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-night-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx("div",{className:"w-8 h-8 border-2 border-taxi-yellow border-t-transparent rounded-full animate-spin"}),i.jsx("p",{className:"text-sm text-taxi-yellow",children:"Loading locations..."})]})}),l&&i.jsx(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-error/10 border border-error/20 rounded-lg p-4 text-sm text-error",children:l}),!o&&!l&&b==="saved"&&c.length===0&&i.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8 text-gray-400",children:[i.jsx(lt,{className:"w-8 h-8 mx-auto mb-2 text-gray-500"}),i.jsx("p",{children:"No saved locations yet"}),i.jsx("p",{className:"text-sm",children:"Your frequent destinations will appear here"})]}),b==="saved"?c.map(k=>i.jsx(Zo,{location:{id:k.id,name:k.address.split(",")[0],address:k.address,type:"recent",coordinates:{lat:k.latitude,lng:k.longitude}},onSelect:()=>v("pickup",{address:k.address,coordinates:{lat:k.latitude,lng:k.longitude}})},k.id)):d.map(k=>i.jsx(Zo,{location:{id:k.id,name:k.address.split(",")[0],address:k.address,type:"popular",coordinates:{lat:k.latitude,lng:k.longitude}},onSelect:()=>v("pickup",{address:k.address,coordinates:{lat:k.latitude,lng:k.longitude}})},k.id))]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"h-[400px] lg:h-[500px] sticky top-0",children:i.jsx($x,{pickupLocation:u,dropoffLocation:m,className:"w-full h-full"})}),g&&i.jsx(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-error/10 border border-error/20 rounded-lg p-3 text-sm text-error",children:g})]})]})},cd=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),Hx=[{id:"standard",name:"Standard",description:"Comfortable and economical",basePrice:30,pricePerKm:1.5,image:"/vehicles/standard.png",features:["4 Passengers","AC","4 Luggage"],capacity:4},{id:"comfort",name:"Comfort",description:"Extra space and comfort",basePrice:45,pricePerKm:2,image:"/vehicles/comfort.png",features:["6 Passengers","AC","Extra Legroom","6 Luggage"],capacity:6},{id:"lux",name:"Luxury",description:"Premium experience",basePrice:80,pricePerKm:3,image:"/vehicles/luxury.png",features:["4 Passengers","Premium Interior","Professional Driver","Refreshments"],capacity:4},{id:"bus",name:"Taxi Bus",description:"Perfect for groups",basePrice:100,pricePerKm:4,image:"/vehicles/bus.png",features:["8+ Passengers","Large Luggage Space","AC","USB Charging"],capacity:8}],Yx=({distance:t,onSelect:e,selectedCategory:s})=>{const r=(n,a)=>n+t*a;return i.jsx("div",{className:"space-y-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Hx.map(n=>{const a=r(n.basePrice,n.pricePerKm),o=s===n.id;return i.jsxs(U.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e(n),className:`
                relative overflow-hidden rounded-xl p-4 cursor-pointer
                transition-all duration-200
                ${o?"bg-[#F7C948]/20 border-[#F7C948] shadow-[0_0_20px_rgba(247,201,72,0.2)]":"bg-[rgba(42,42,42,0.7)] border-[#F7C948]/20 hover:bg-[rgba(42,42,42,0.9)]"}
                border backdrop-blur-lg
              `,children:[o&&i.jsx(U.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-2 right-2 w-6 h-6 rounded-full bg-[#F7C948] flex items-center justify-center",children:i.jsx(ph,{className:"w-4 h-4 text-[#2A2A2A]"})}),i.jsx("div",{className:"relative h-32 mb-4",children:i.jsx("img",{src:n.image,alt:n.name,className:"absolute inset-0 w-full h-full object-contain"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-medium text-white",children:n.name}),i.jsx("p",{className:"text-sm text-zinc-400",children:n.description}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md bg-white/5 text-xs",children:[i.jsx(Nh,{className:"w-3 h-3"}),i.jsxs("span",{children:[n.capacity," seats"]})]}),i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md bg-white/5 text-xs",children:[i.jsx(eh,{className:"w-3 h-3"}),i.jsxs("span",{children:[n.pricePerKm,"/km"]})]})]}),i.jsxs("div",{className:"mt-4 flex items-baseline justify-between",children:[i.jsx("span",{className:"text-2xl font-bold text-[#F7C948]",children:cd(a)}),i.jsxs("span",{className:"text-sm text-zinc-400",children:[t,"km"]})]})]})]},n.id)})})})},Gx=[{id:"cash",name:"Cash",icon:i.jsx($u,{className:"w-5 h-5"}),description:"Pay with cash after your ride",availableForScheduled:!1},{id:"token",name:"Token",icon:i.jsx(_h,{className:"w-5 h-5"}),description:"Pay with AICABY tokens",availableForScheduled:!0},{id:"pos",name:"Card (POS)",icon:i.jsx(Kr,{className:"w-5 h-5"}),description:"Pay by card after your ride",availableForScheduled:!1}],Kx=({pickup:t,dropoff:e,distance:s,duration:r,selectedVehicle:n,isScheduled:a=!1,onPaymentMethodSelect:o,selectedPaymentMethod:l})=>{const c=n.basePrice+s*n.pricePerKm;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"rounded-xl bg-[rgba(42,42,42,0.7)] border border-[#F7C948]/20 backdrop-blur-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-[#F7C948] mb-4",children:"Trip Summary"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-[#F7C948]/20 flex items-center justify-center mt-1",children:i.jsx(lt,{className:"w-4 h-4 text-[#F7C948]"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-zinc-400",children:"Pickup"}),i.jsx("p",{className:"text-white",children:t.address})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-[#F7C948]/20 flex items-center justify-center mt-1",children:i.jsx(lt,{className:"w-4 h-4 text-[#F7C948]"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-zinc-400",children:"Dropoff"}),i.jsx("p",{className:"text-white",children:e.address})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[i.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[i.jsx(mi,{className:"w-5 h-5 text-[#F7C948] mx-auto mb-1"}),i.jsx("span",{className:"text-sm text-zinc-400",children:"Duration"}),i.jsxs("p",{className:"text-white font-medium",children:[Math.round(r)," min"]})]}),i.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[i.jsx(ze,{className:"w-5 h-5 text-[#F7C948] mx-auto mb-1"}),i.jsx("span",{className:"text-sm text-zinc-400",children:"Distance"}),i.jsxs("p",{className:"text-white font-medium",children:[s," km"]})]}),i.jsxs("div",{className:"text-center p-3 rounded-lg bg-white/5",children:[i.jsx(Kr,{className:"w-5 h-5 text-[#F7C948] mx-auto mb-1"}),i.jsx("span",{className:"text-sm text-zinc-400",children:"Total"}),i.jsx("p",{className:"text-white font-medium",children:cd(c)})]})]})]}),i.jsxs("div",{className:"rounded-xl bg-[rgba(42,42,42,0.7)] border border-[#F7C948]/20 backdrop-blur-lg p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-[#F7C948] mb-4",children:"Payment Method"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:Gx.filter(d=>!a||d.availableForScheduled).map(d=>{const u=l===d.id;return i.jsxs(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(d.id),className:`
                    relative p-4 rounded-lg text-left transition-all duration-200
                    ${u?"bg-[#F7C948]/20 border-[#F7C948]":"bg-white/5 border-transparent hover:bg-white/10"}
                    border
                  `,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"text-[#F7C948]",children:d.icon}),i.jsx("span",{className:"font-medium",children:d.name})]}),i.jsx("p",{className:"text-sm text-zinc-400",children:d.description})]},d.id)})})]})]})};var ur=t=>t.type==="checkbox",zt=t=>t instanceof Date,Te=t=>t==null;const dd=t=>typeof t=="object";var ve=t=>!Te(t)&&!Array.isArray(t)&&dd(t)&&!zt(t),Jx=t=>ve(t)&&t.target?ur(t.target)?t.target.checked:t.target.value:t,Xx=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Qx=(t,e)=>t.has(Xx(e)),ey=t=>{const e=t.constructor&&t.constructor.prototype;return ve(e)&&e.hasOwnProperty("isPrototypeOf")},Ji=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Le(t){let e;const s=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ji&&(t instanceof Blob||r))&&(s||ve(t)))if(e=s?[]:{},!s&&!ey(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Le(t[n]));else return t;return e}var rn=t=>Array.isArray(t)?t.filter(Boolean):[],be=t=>t===void 0,V=(t,e,s)=>{if(!e||!ve(t))return s;const r=rn(e.split(/[,[\].]+?/)).reduce((n,a)=>Te(n)?n:n[a],t);return be(r)||r===t?be(t[e])?s:t[e]:r},He=t=>typeof t=="boolean",Xi=t=>/^\w*$/.test(t),ud=t=>rn(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ce=(t,e,s)=>{let r=-1;const n=Xi(e)?[e]:ud(e),a=n.length,o=a-1;for(;++r<a;){const l=n[r];let c=s;if(r!==o){const d=t[l];c=ve(d)||Array.isArray(d)?d:isNaN(+n[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}return t};const Wo={BLUR:"blur",FOCUS_OUT:"focusout"},Ue={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},nt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ae.createContext(null);var ty=(t,e,s,r=!0)=>{const n={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(n,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Ue.all&&(e._proxyFormState[o]=!r||Ue.all),t[o]}});return n},Ie=t=>ve(t)&&!Object.keys(t).length,sy=(t,e,s,r)=>{s(t);const{name:n,...a}=t;return Ie(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===Ue.all)},Tr=t=>Array.isArray(t)?t:[t];function ry(t){const e=ae.useRef(t);e.current=t,ae.useEffect(()=>{const s=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{s&&s.unsubscribe()}},[t.disabled])}var Ge=t=>typeof t=="string",ny=(t,e,s,r,n)=>Ge(t)?(r&&e.watch.add(t),V(s,t,n)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),V(s,a))):(r&&(e.watchAll=!0),s),hd=(t,e,s,r,n)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[r]:n||!0}}:{},Ho=t=>({isOnSubmit:!t||t===Ue.onSubmit,isOnBlur:t===Ue.onBlur,isOnChange:t===Ue.onChange,isOnAll:t===Ue.all,isOnTouch:t===Ue.onTouched}),Yo=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ds=(t,e,s,r)=>{for(const n of s||Object.keys(t)){const a=V(t,n);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Ds(l,e))break}else if(ve(l)&&Ds(l,e))break}}};var iy=(t,e,s)=>{const r=Tr(V(t,s));return ce(r,"root",e[s]),ce(t,s,r),t},Qi=t=>t.type==="file",Ye=t=>typeof t=="function",Lr=t=>{if(!Ji)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Pr=t=>Ge(t),ea=t=>t.type==="radio",Or=t=>t instanceof RegExp;const Go={value:!1,isValid:!1},Ko={value:!0,isValid:!0};var fd=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!be(t[0].attributes.value)?be(t[0].value)||t[0].value===""?Ko:{value:t[0].value,isValid:!0}:Ko:Go}return Go};const Jo={isValid:!1,value:null};var md=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,Jo):Jo;function Xo(t,e,s="validate"){if(Pr(t)||Array.isArray(t)&&t.every(Pr)||He(t)&&!t)return{type:s,message:Pr(t)?t:"",ref:e}}var Jt=t=>ve(t)&&!Or(t)?t:{value:t,message:""},Qo=async(t,e,s,r,n,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:p,validate:g,name:x,valueAsNumber:b,mount:j}=t._f,v=V(s,x);if(!j||e.has(x))return{};const k=l?l[0]:o,T=q=>{n&&k.reportValidity&&(k.setCustomValidity(He(q)?"":q||""),k.reportValidity())},C={},w=ea(o),P=ur(o),F=w||P,X=(b||Qi(o))&&be(o.value)&&be(v)||Lr(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,K=hd.bind(null,x,r,C),ge=(q,G,te,S=nt.maxLength,L=nt.minLength)=>{const J=q?G:te;C[x]={type:q?S:L,message:J,ref:o,...K(q?S:L,J)}};if(a?!Array.isArray(v)||!v.length:c&&(!F&&(X||Te(v))||He(v)&&!v||P&&!fd(l).isValid||w&&!md(l).isValid)){const{value:q,message:G}=Pr(c)?{value:!!c,message:c}:Jt(c);if(q&&(C[x]={type:nt.required,message:G,ref:k,...K(nt.required,G)},!r))return T(G),C}if(!X&&(!Te(h)||!Te(m))){let q,G;const te=Jt(m),S=Jt(h);if(!Te(v)&&!isNaN(v)){const L=o.valueAsNumber||v&&+v;Te(te.value)||(q=L>te.value),Te(S.value)||(G=L<S.value)}else{const L=o.valueAsDate||new Date(v),J=Re=>new Date(new Date().toDateString()+" "+Re),Q=o.type=="time",de=o.type=="week";Ge(te.value)&&v&&(q=Q?J(v)>J(te.value):de?v>te.value:L>new Date(te.value)),Ge(S.value)&&v&&(G=Q?J(v)<J(S.value):de?v<S.value:L<new Date(S.value))}if((q||G)&&(ge(!!q,te.message,S.message,nt.max,nt.min),!r))return T(C[x].message),C}if((d||u)&&!X&&(Ge(v)||a&&Array.isArray(v))){const q=Jt(d),G=Jt(u),te=!Te(q.value)&&v.length>+q.value,S=!Te(G.value)&&v.length<+G.value;if((te||S)&&(ge(te,q.message,G.message),!r))return T(C[x].message),C}if(p&&!X&&Ge(v)){const{value:q,message:G}=Jt(p);if(Or(q)&&!v.match(q)&&(C[x]={type:nt.pattern,message:G,ref:o,...K(nt.pattern,G)},!r))return T(G),C}if(g){if(Ye(g)){const q=await g(v,s),G=Xo(q,k);if(G&&(C[x]={...G,...K(nt.validate,G.message)},!r))return T(G.message),C}else if(ve(g)){let q={};for(const G in g){if(!Ie(q)&&!r)break;const te=Xo(await g[G](v,s),k,G);te&&(q={...te,...K(G,te.message)},T(te.message),r&&(C[x]=q))}if(!Ie(q)&&(C[x]={ref:k,...q},!r))return C}}return T(!0),C};function ay(t,e){const s=e.slice(0,-1).length;let r=0;for(;r<s;)t=be(t)?r++:t[e[r++]];return t}function oy(t){for(const e in t)if(t.hasOwnProperty(e)&&!be(t[e]))return!1;return!0}function we(t,e){const s=Array.isArray(e)?e:Xi(e)?[e]:ud(e),r=s.length===1?t:ay(t,s),n=s.length-1,a=s[n];return r&&delete r[a],n!==0&&(ve(r)&&Ie(r)||Array.isArray(r)&&oy(r))&&we(t,s.slice(0,-1)),t}var Sn=()=>{let t=[];return{get observers(){return t},next:n=>{for(const a of t)a.next&&a.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(a=>a!==n)}}),unsubscribe:()=>{t=[]}}},ei=t=>Te(t)||!dd(t);function bt(t,e){if(ei(t)||ei(e))return t===e;if(zt(t)&&zt(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;for(const n of s){const a=t[n];if(!r.includes(n))return!1;if(n!=="ref"){const o=e[n];if(zt(a)&&zt(o)||ve(a)&&ve(o)||Array.isArray(a)&&Array.isArray(o)?!bt(a,o):a!==o)return!1}}return!0}var pd=t=>t.type==="select-multiple",ly=t=>ea(t)||ur(t),An=t=>Lr(t)&&t.isConnected,gd=t=>{for(const e in t)if(Ye(t[e]))return!0;return!1};function zr(t,e={}){const s=Array.isArray(t);if(ve(t)||s)for(const r in t)Array.isArray(t[r])||ve(t[r])&&!gd(t[r])?(e[r]=Array.isArray(t[r])?[]:{},zr(t[r],e[r])):Te(t[r])||(e[r]=!0);return e}function xd(t,e,s){const r=Array.isArray(t);if(ve(t)||r)for(const n in t)Array.isArray(t[n])||ve(t[n])&&!gd(t[n])?be(e)||ei(s[n])?s[n]=Array.isArray(t[n])?zr(t[n],[]):{...zr(t[n])}:xd(t[n],Te(e)?{}:e[n],s[n]):s[n]=!bt(t[n],e[n]);return s}var Ns=(t,e)=>xd(t,e,zr(e)),yd=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:r})=>be(t)?t:e?t===""?NaN:t&&+t:s&&Ge(t)?new Date(t):r?r(t):t;function Tn(t){const e=t.ref;return Qi(e)?e.files:ea(e)?md(t.refs).value:pd(e)?[...e.selectedOptions].map(({value:s})=>s):ur(e)?fd(t.refs).value:yd(be(e.value)?t.ref.value:e.value,t)}var cy=(t,e,s,r)=>{const n={};for(const a of t){const o=V(e,a);o&&ce(n,a,o._f)}return{criteriaMode:s,names:[...t],fields:n,shouldUseNativeValidation:r}},ks=t=>be(t)?t:Or(t)?t.source:ve(t)?Or(t.value)?t.value.source:t.value:t;const el="AsyncFunction";var dy=t=>!!t&&!!t.validate&&!!(Ye(t.validate)&&t.validate.constructor.name===el||ve(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===el)),uy=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function tl(t,e,s){const r=V(t,s);if(r||Xi(s))return{error:r,name:s};const n=s.split(".");for(;n.length;){const a=n.join("."),o=V(e,a),l=V(t,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};n.pop()}return{name:s}}var hy=(t,e,s,r,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(e||t):(s?r.isOnBlur:n.isOnBlur)?!t:(s?r.isOnChange:n.isOnChange)?t:!0,fy=(t,e)=>!rn(V(t,e)).length&&we(t,e);const my={mode:Ue.onSubmit,reValidateMode:Ue.onChange,shouldFocusError:!0};function py(t={}){let e={...my,...t},s={submitCount:0,isDirty:!1,isLoading:Ye(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},n=ve(e.defaultValues)||ve(e.values)?Le(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Le(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Sn(),array:Sn(),state:Sn()},m=Ho(e.mode),p=Ho(e.reValidateMode),g=e.criteriaMode===Ue.all,x=y=>N=>{clearTimeout(d),d=setTimeout(y,N)},b=async y=>{if(!e.disabled&&(u.isValid||y)){const N=e.resolver?Ie((await F()).errors):await K(r,!0);N!==s.isValid&&h.state.next({isValid:N})}},j=(y,N)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((y||Array.from(l.mount)).forEach(_=>{_&&(N?ce(s.validatingFields,_,N):we(s.validatingFields,_))}),h.state.next({validatingFields:s.validatingFields,isValidating:!Ie(s.validatingFields)}))},v=(y,N=[],_,M,R=!0,E=!0)=>{if(M&&_&&!e.disabled){if(o.action=!0,E&&Array.isArray(V(r,y))){const Z=_(V(r,y),M.argA,M.argB);R&&ce(r,y,Z)}if(E&&Array.isArray(V(s.errors,y))){const Z=_(V(s.errors,y),M.argA,M.argB);R&&ce(s.errors,y,Z),fy(s.errors,y)}if(u.touchedFields&&E&&Array.isArray(V(s.touchedFields,y))){const Z=_(V(s.touchedFields,y),M.argA,M.argB);R&&ce(s.touchedFields,y,Z)}u.dirtyFields&&(s.dirtyFields=Ns(n,a)),h.state.next({name:y,isDirty:q(y,N),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else ce(a,y,N)},k=(y,N)=>{ce(s.errors,y,N),h.state.next({errors:s.errors})},T=y=>{s.errors=y,h.state.next({errors:s.errors,isValid:!1})},C=(y,N,_,M)=>{const R=V(r,y);if(R){const E=V(a,y,be(_)?V(n,y):_);be(E)||M&&M.defaultChecked||N?ce(a,y,N?E:Tn(R._f)):S(y,E),o.mount&&b()}},w=(y,N,_,M,R)=>{let E=!1,Z=!1;const ne={name:y};if(!e.disabled){const je=!!(V(r,y)&&V(r,y)._f&&V(r,y)._f.disabled);if(!_||M){u.isDirty&&(Z=s.isDirty,s.isDirty=ne.isDirty=q(),E=Z!==ne.isDirty);const Ne=je||bt(V(n,y),N);Z=!!(!je&&V(s.dirtyFields,y)),Ne||je?we(s.dirtyFields,y):ce(s.dirtyFields,y,!0),ne.dirtyFields=s.dirtyFields,E=E||u.dirtyFields&&Z!==!Ne}if(_){const Ne=V(s.touchedFields,y);Ne||(ce(s.touchedFields,y,_),ne.touchedFields=s.touchedFields,E=E||u.touchedFields&&Ne!==_)}E&&R&&h.state.next(ne)}return E?ne:{}},P=(y,N,_,M)=>{const R=V(s.errors,y),E=u.isValid&&He(N)&&s.isValid!==N;if(e.delayError&&_?(c=x(()=>k(y,_)),c(e.delayError)):(clearTimeout(d),c=null,_?ce(s.errors,y,_):we(s.errors,y)),(_?!bt(R,_):R)||!Ie(M)||E){const Z={...M,...E&&He(N)?{isValid:N}:{},errors:s.errors,name:y};s={...s,...Z},h.state.next(Z)}},F=async y=>{j(y,!0);const N=await e.resolver(a,e.context,cy(y||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return j(y),N},X=async y=>{const{errors:N}=await F(y);if(y)for(const _ of y){const M=V(N,_);M?ce(s.errors,_,M):we(s.errors,_)}else s.errors=N;return N},K=async(y,N,_={valid:!0})=>{for(const M in y){const R=y[M];if(R){const{_f:E,...Z}=R;if(E){const ne=l.array.has(E.name),je=R._f&&dy(R._f);je&&u.validatingFields&&j([M],!0);const Ne=await Qo(R,l.disabled,a,g,e.shouldUseNativeValidation&&!N,ne);if(je&&u.validatingFields&&j([M]),Ne[E.name]&&(_.valid=!1,N))break;!N&&(V(Ne,E.name)?ne?iy(s.errors,Ne,E.name):ce(s.errors,E.name,Ne[E.name]):we(s.errors,E.name))}!Ie(Z)&&await K(Z,N,_)}}return _.valid},ge=()=>{for(const y of l.unMount){const N=V(r,y);N&&(N._f.refs?N._f.refs.every(_=>!An(_)):!An(N._f.ref))&&Pt(y)}l.unMount=new Set},q=(y,N)=>!e.disabled&&(y&&N&&ce(a,y,N),!bt(vs(),n)),G=(y,N,_)=>ny(y,l,{...o.mount?a:be(N)?n:Ge(y)?{[y]:N}:N},_,N),te=y=>rn(V(o.mount?a:n,y,e.shouldUnregister?V(n,y,[]):[])),S=(y,N,_={})=>{const M=V(r,y);let R=N;if(M){const E=M._f;E&&(!E.disabled&&ce(a,y,yd(N,E)),R=Lr(E.ref)&&Te(N)?"":N,pd(E.ref)?[...E.ref.options].forEach(Z=>Z.selected=R.includes(Z.value)):E.refs?ur(E.ref)?E.refs.length>1?E.refs.forEach(Z=>(!Z.defaultChecked||!Z.disabled)&&(Z.checked=Array.isArray(R)?!!R.find(ne=>ne===Z.value):R===Z.value)):E.refs[0]&&(E.refs[0].checked=!!R):E.refs.forEach(Z=>Z.checked=Z.value===R):Qi(E.ref)?E.ref.value="":(E.ref.value=R,E.ref.type||h.values.next({name:y,values:{...a}})))}(_.shouldDirty||_.shouldTouch)&&w(y,R,_.shouldTouch,_.shouldDirty,!0),_.shouldValidate&&Re(y)},L=(y,N,_)=>{for(const M in N){const R=N[M],E=`${y}.${M}`,Z=V(r,E);(l.array.has(y)||ve(R)||Z&&!Z._f)&&!zt(R)?L(E,R,_):S(E,R,_)}},J=(y,N,_={})=>{const M=V(r,y),R=l.array.has(y),E=Le(N);ce(a,y,E),R?(h.array.next({name:y,values:{...a}}),(u.isDirty||u.dirtyFields)&&_.shouldDirty&&h.state.next({name:y,dirtyFields:Ns(n,a),isDirty:q(y,E)})):M&&!M._f&&!Te(E)?L(y,E,_):S(y,E,_),Yo(y,l)&&h.state.next({...s}),h.values.next({name:o.mount?y:void 0,values:{...a}})},Q=async y=>{o.mount=!0;const N=y.target;let _=N.name,M=!0;const R=V(r,_),E=()=>N.type?Tn(R._f):Jx(y),Z=ne=>{M=Number.isNaN(ne)||zt(ne)&&isNaN(ne.getTime())||bt(ne,V(a,_,ne))};if(R){let ne,je;const Ne=E(),pt=y.type===Wo.BLUR||y.type===Wo.FOCUS_OUT,xu=!uy(R._f)&&!e.resolver&&!V(s.errors,_)&&!R._f.deps||hy(pt,V(s.touchedFields,_),s.isSubmitted,p,m),dn=Yo(_,l,pt);ce(a,_,Ne),pt?(R._f.onBlur&&R._f.onBlur(y),c&&c(0)):R._f.onChange&&R._f.onChange(y);const un=w(_,Ne,pt,!1),yu=!Ie(un)||dn;if(!pt&&h.values.next({name:_,type:y.type,values:{...a}}),xu)return u.isValid&&(e.mode==="onBlur"&&pt?b():pt||b()),yu&&h.state.next({name:_,...dn?{}:un});if(!pt&&dn&&h.state.next({...s}),e.resolver){const{errors:ba}=await F([_]);if(Z(Ne),M){const vu=tl(s.errors,r,_),wa=tl(ba,r,vu.name||_);ne=wa.error,_=wa.name,je=Ie(ba)}}else j([_],!0),ne=(await Qo(R,l.disabled,a,g,e.shouldUseNativeValidation))[_],j([_]),Z(Ne),M&&(ne?je=!1:u.isValid&&(je=await K(r,!0)));M&&(R._f.deps&&Re(R._f.deps),P(_,je,ne,un))}},de=(y,N)=>{if(V(s.errors,N)&&y.focus)return y.focus(),1},Re=async(y,N={})=>{let _,M;const R=Tr(y);if(e.resolver){const E=await X(be(y)?y:R);_=Ie(E),M=y?!R.some(Z=>V(E,Z)):_}else y?(M=(await Promise.all(R.map(async E=>{const Z=V(r,E);return await K(Z&&Z._f?{[E]:Z}:Z)}))).every(Boolean),!(!M&&!s.isValid)&&b()):M=_=await K(r);return h.state.next({...!Ge(y)||u.isValid&&_!==s.isValid?{}:{name:y},...e.resolver||!y?{isValid:_}:{},errors:s.errors}),N.shouldFocus&&!M&&Ds(r,de,y?R:l.mount),M},vs=y=>{const N={...o.mount?a:n};return be(y)?N:Ge(y)?V(N,y):y.map(_=>V(N,_))},bs=(y,N)=>({invalid:!!V((N||s).errors,y),isDirty:!!V((N||s).dirtyFields,y),error:V((N||s).errors,y),isValidating:!!V(s.validatingFields,y),isTouched:!!V((N||s).touchedFields,y)}),pr=y=>{y&&Tr(y).forEach(N=>we(s.errors,N)),h.state.next({errors:y?s.errors:{}})},Tt=(y,N,_)=>{const M=(V(r,y,{_f:{}})._f||{}).ref,R=V(s.errors,y)||{},{ref:E,message:Z,type:ne,...je}=R;ce(s.errors,y,{...je,...N,ref:M}),h.state.next({name:y,errors:s.errors,isValid:!1}),_&&_.shouldFocus&&M&&M.focus&&M.focus()},Gt=(y,N)=>Ye(y)?h.values.subscribe({next:_=>y(G(void 0,N),_)}):G(y,N,!0),Pt=(y,N={})=>{for(const _ of y?Tr(y):l.mount)l.mount.delete(_),l.array.delete(_),N.keepValue||(we(r,_),we(a,_)),!N.keepError&&we(s.errors,_),!N.keepDirty&&we(s.dirtyFields,_),!N.keepTouched&&we(s.touchedFields,_),!N.keepIsValidating&&we(s.validatingFields,_),!e.shouldUnregister&&!N.keepDefaultValue&&we(n,_);h.values.next({values:{...a}}),h.state.next({...s,...N.keepDirty?{isDirty:q()}:{}}),!N.keepIsValid&&b()},Et=({disabled:y,name:N,field:_,fields:M})=>{(He(y)&&o.mount||y||l.disabled.has(N))&&(y?l.disabled.add(N):l.disabled.delete(N),w(N,Tn(_?_._f:V(M,N)._f),!1,!1,!0))},cn=(y,N={})=>{let _=V(r,y);const M=He(N.disabled)||He(e.disabled);return ce(r,y,{..._||{},_f:{..._&&_._f?_._f:{ref:{name:y}},name:y,mount:!0,...N}}),l.mount.add(y),_?Et({field:_,disabled:He(N.disabled)?N.disabled:e.disabled,name:y}):C(y,!0,N.value),{...M?{disabled:N.disabled||e.disabled}:{},...e.progressive?{required:!!N.required,min:ks(N.min),max:ks(N.max),minLength:ks(N.minLength),maxLength:ks(N.maxLength),pattern:ks(N.pattern)}:{},name:y,onChange:Q,onBlur:Q,ref:R=>{if(R){cn(y,N),_=V(r,y);const E=be(R.value)&&R.querySelectorAll&&R.querySelectorAll("input,select,textarea")[0]||R,Z=ly(E),ne=_._f.refs||[];if(Z?ne.find(je=>je===E):E===_._f.ref)return;ce(r,y,{_f:{..._._f,...Z?{refs:[...ne.filter(An),E,...Array.isArray(V(n,y))?[{}]:[]],ref:{type:E.type,name:y}}:{ref:E}}}),C(y,!1,void 0,E)}else _=V(r,y,{}),_._f&&(_._f.mount=!1),(e.shouldUnregister||N.shouldUnregister)&&!(Qx(l.array,y)&&o.action)&&l.unMount.add(y)}}},ga=()=>e.shouldFocusError&&Ds(r,de,l.mount),pu=y=>{He(y)&&(h.state.next({disabled:y}),Ds(r,(N,_)=>{const M=V(r,_);M&&(N.disabled=M._f.disabled||y,Array.isArray(M._f.refs)&&M._f.refs.forEach(R=>{R.disabled=M._f.disabled||y}))},0,!1))},xa=(y,N)=>async _=>{let M;_&&(_.preventDefault&&_.preventDefault(),_.persist&&_.persist());let R=Le(a);if(l.disabled.size)for(const E of l.disabled)ce(R,E,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:E,values:Z}=await F();s.errors=E,R=Z}else await K(r);if(we(s.errors,"root"),Ie(s.errors)){h.state.next({errors:{}});try{await y(R,_)}catch(E){M=E}}else N&&await N({...s.errors},_),ga(),setTimeout(ga);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ie(s.errors)&&!M,submitCount:s.submitCount+1,errors:s.errors}),M)throw M},gu=(y,N={})=>{V(r,y)&&(be(N.defaultValue)?J(y,Le(V(n,y))):(J(y,N.defaultValue),ce(n,y,Le(N.defaultValue))),N.keepTouched||we(s.touchedFields,y),N.keepDirty||(we(s.dirtyFields,y),s.isDirty=N.defaultValue?q(y,Le(V(n,y))):q()),N.keepError||(we(s.errors,y),u.isValid&&b()),h.state.next({...s}))},ya=(y,N={})=>{const _=y?Le(y):n,M=Le(_),R=Ie(y),E=R?n:M;if(N.keepDefaultValues||(n=_),!N.keepValues){if(N.keepDirtyValues){const Z=new Set([...l.mount,...Object.keys(Ns(n,a))]);for(const ne of Array.from(Z))V(s.dirtyFields,ne)?ce(E,ne,V(a,ne)):J(ne,V(E,ne))}else{if(Ji&&be(y))for(const Z of l.mount){const ne=V(r,Z);if(ne&&ne._f){const je=Array.isArray(ne._f.refs)?ne._f.refs[0]:ne._f.ref;if(Lr(je)){const Ne=je.closest("form");if(Ne){Ne.reset();break}}}}r={}}a=e.shouldUnregister?N.keepDefaultValues?Le(n):{}:Le(E),h.array.next({values:{...E}}),h.values.next({values:{...E}})}l={mount:N.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!N.keepIsValid||!!N.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:N.keepSubmitCount?s.submitCount:0,isDirty:R?!1:N.keepDirty?s.isDirty:!!(N.keepDefaultValues&&!bt(y,n)),isSubmitted:N.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:R?{}:N.keepDirtyValues?N.keepDefaultValues&&a?Ns(n,a):s.dirtyFields:N.keepDefaultValues&&y?Ns(n,y):N.keepDirty?s.dirtyFields:{},touchedFields:N.keepTouched?s.touchedFields:{},errors:N.keepErrors?s.errors:{},isSubmitSuccessful:N.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},va=(y,N)=>ya(Ye(y)?y(a):y,N);return{control:{register:cn,unregister:Pt,getFieldState:bs,handleSubmit:xa,setError:Tt,_executeSchema:F,_getWatch:G,_getDirty:q,_updateValid:b,_removeUnmounted:ge,_updateFieldArray:v,_updateDisabledField:Et,_getFieldArray:te,_reset:ya,_resetDefaultValues:()=>Ye(e.defaultValues)&&e.defaultValues().then(y=>{va(y,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:y=>{s={...s,...y}},_disableForm:pu,_subjects:h,_proxyFormState:u,_setErrors:T,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(y){o=y},get _defaultValues(){return n},get _names(){return l},set _names(y){l=y},get _formState(){return s},set _formState(y){s=y},get _options(){return e},set _options(y){e={...e,...y}}},trigger:Re,register:cn,handleSubmit:xa,watch:Gt,setValue:J,getValues:vs,reset:va,resetField:gu,clearErrors:pr,unregister:Pt,setError:Tt,setFocus:(y,N={})=>{const _=V(r,y),M=_&&_._f;if(M){const R=M.refs?M.refs[0]:M.ref;R.focus&&(R.focus(),N.shouldSelect&&Ye(R.select)&&R.select())}},getFieldState:bs}}function us(t={}){const e=ae.useRef(void 0),s=ae.useRef(void 0),[r,n]=ae.useState({isDirty:!1,isValidating:!1,isLoading:Ye(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ye(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...py(t),formState:r});const a=e.current.control;return a._options=t,ry({subject:a._subjects.state,next:o=>{sy(o,a._proxyFormState,a._updateFormState)&&n({...a._formState})}}),ae.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),ae.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),ae.useEffect(()=>{t.values&&!bt(t.values,s.current)?(a._reset(t.values,a._options.resetOptions),s.current=t.values,n(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),ae.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),ae.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),ae.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=ty(r,a),e.current}const jr=[{id:"location",title:"Location",icon:lt},{id:"vehicle",title:"Vehicle",icon:ze},{id:"payment",title:"Payment",icon:Kr}],gy=({onComplete:t,onCancel:e,isGuest:s=!1})=>{const{user:r}=Be(),[n,a]=f.useState(0),[o,l]=f.useState({pickupLocation:null,dropoffLocation:null,distance:0,duration:0,selectedVehicle:null,paymentMethod:null,isScheduled:!1}),[c,d]=f.useState(!1),{handleSubmit:u}=us(),h=()=>{n>0?a(n-1):e()},m=()=>{switch(n){case 0:return o.pickupLocation&&o.dropoffLocation;case 1:return o.selectedVehicle!==null;case 2:return o.paymentMethod!==null;default:return!1}},p=()=>{var x;switch(n){case 0:return i.jsx(Wx,{formData:o,onChange:b=>{l({...o,...b,selectedVehicle:null,paymentMethod:null,pickupLocation:b.pickupLocation||null,dropoffLocation:b.dropoffLocation||null})}});case 1:return i.jsx(Yx,{distance:o.distance,onSelect:b=>{l({...o,selectedVehicle:b,paymentMethod:null})},selectedCategory:(x=o.selectedVehicle)==null?void 0:x.id});case 2:return o.pickupLocation&&o.dropoffLocation&&o.selectedVehicle?i.jsx(Kx,{pickup:o.pickupLocation,dropoff:o.dropoffLocation,distance:o.distance,duration:o.duration,selectedVehicle:o.selectedVehicle,isScheduled:o.isScheduled,onPaymentMethodSelect:b=>{l({...o,paymentMethod:b}),d(b==="token")},selectedPaymentMethod:o.paymentMethod||void 0}):null;default:return null}},g=async x=>{try{if(!o.pickupLocation||!o.dropoffLocation){Me.error("Please provide both pickup and dropoff locations");return}if(s&&!x.phoneNumber){Me.error("Please provide a contact phone number");return}const b={pickupLocation:o.pickupLocation,dropoffLocation:o.dropoffLocation,phoneNumber:x.phoneNumber,email:s?x.email:r==null?void 0:r.email,selectedVehicle:o.selectedVehicle,paymentMethod:o.paymentMethod,isScheduled:c,scheduledTime:c?x.scheduledTime:void 0,distance:o.distance,duration:o.duration};t(b)}catch(b){console.error("Error in form submission:",b),Me.error("Failed to process booking. Please try again.")}};return i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"w-full max-w-4xl mx-auto",children:[i.jsx("div",{className:"flex justify-between mb-8",children:jr.map((x,b)=>i.jsxs("div",{className:`flex items-center ${b<jr.length-1?"flex-1":""}`,children:[i.jsx("div",{className:`
                w-10 h-10 rounded-full flex items-center justify-center
                ${n>=b?"bg-[#F7C948] text-[#2A2A2A]":"bg-white/10 text-white/50"}
              `,children:i.jsx(x.icon,{className:"w-5 h-5"})}),b<jr.length-1&&i.jsx("div",{className:`
                  flex-1 h-0.5 mx-2
                  ${n>b?"bg-[#F7C948]":"bg-white/10"}
                `})]},x.id))}),i.jsx("div",{className:"mb-8",children:p()}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:h,className:"px-6 py-2 rounded-lg font-medium bg-white/5 text-white hover:bg-white/10",children:n===0?"Cancel":"Back"}),i.jsx(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:u(g),disabled:!m(),className:`
            px-6 py-2 rounded-lg font-medium transition-all duration-200
            ${m()?"bg-[#F7C948] text-[#2A2A2A] hover:bg-[#F7C948]/90":"bg-white/5 text-white/50 cursor-not-allowed"}
          `,children:n===jr.length-1?"Complete Booking":"Next"})]})]})},xy=({className:t})=>i.jsxs("div",{className:`flex items-center space-x-2 ${t||""}`,children:[i.jsx("div",{className:"w-2 h-2 bg-[#F7C948] rounded-full animate-bounce [animation-delay:-0.3s]"}),i.jsx("div",{className:"w-2 h-2 bg-[#F7C948] rounded-full animate-bounce [animation-delay:-0.15s]"}),i.jsx("div",{className:"w-2 h-2 bg-[#F7C948] rounded-full animate-bounce"})]}),yy="https://openrouter.ai/api/v1/chat/completions",vy="https://api.deepseek.com/v1/chat/completions",by="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",wy="sk-392fb02915fa467cbb86905b64873062";async function jy(t,e){var s,r,n,a;console.log("DeepSeek API Key present:",!0),console.log("Making request to DeepSeek API...");try{const o=await fetch(vy,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${wy}`},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:`You are AI CABY, a helpful taxi booking assistant. Your goal is to assist users in booking a taxi ${e} and efficiently. Be concise and helpful, understand user intent quickly, and provide clear, actionable information.`},{role:"user",content:t}],temperature:.7,max_tokens:1e3})});console.log("DeepSeek API Response Status:",o.status);const l=await o.json();if(console.log("DeepSeek API Raw Response:",l),!o.ok)throw new Error(`DeepSeek API request failed: ${o.status} - ${((s=l==null?void 0:l.error)==null?void 0:s.message)||"Unknown error"}`);if(!((r=l.choices)!=null&&r.length))throw console.error("DeepSeek API Response has no choices:",l),new Error("Invalid response format: No choices array in response");if(!((a=(n=l.choices[0])==null?void 0:n.message)!=null&&a.content))throw console.error("Invalid DeepSeek API response format:",l),new Error("Invalid response format: No message content in first choice");return l.choices[0].message.content}catch(o){throw console.error("DeepSeek API error:",o),o}}async function Ny(t,e){var s,r,n,a;console.log("OpenRouter API Key present:",!0),console.log("Making request to OpenRouter API...");try{const o=await fetch(yy,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${by}`,"HTTP-Referer":window.location.origin,"X-Title":"AICABY"},body:JSON.stringify({model:"openai/gpt-4-turbo-preview",messages:[{role:"system",content:`You are AI CABY, a helpful taxi booking assistant. Your goal is to assist users in booking a taxi ${e} and efficiently. Be concise and helpful, understand user intent quickly, and provide clear, actionable information.`},{role:"user",content:t}],temperature:.7,max_tokens:1e3})});console.log("OpenRouter API Response Status:",o.status);const l=await o.json();if(console.log("OpenRouter API Raw Response:",l),!o.ok)throw new Error(`OpenRouter API request failed: ${o.status} - ${((s=l==null?void 0:l.error)==null?void 0:s.message)||"Unknown error"}`);if(!((r=l.choices)!=null&&r.length))throw console.error("OpenRouter API Response has no choices:",l),new Error("Invalid response format: No choices array in response");if(!((a=(n=l.choices[0])==null?void 0:n.message)!=null&&a.content))throw console.error("Invalid OpenRouter API response format:",l),new Error("Invalid response format: No message content in first choice");return l.choices[0].message.content}catch(o){throw console.error("OpenRouter API error:",o),o}}async function vd(t,e){if(!t.trim())throw new Error("Message cannot be empty");try{return console.log("Attempting to use DeepSeek API..."),await jy(t,e)}catch(s){const r=s instanceof Error?s.message:"Unknown DeepSeek error";console.error("DeepSeek API failed:",r);try{return console.log("Falling back to OpenRouter API..."),await Ny(t,e)}catch(n){const a=n instanceof Error?n.message:"Unknown OpenRouter error";throw console.error("OpenRouter API failed:",a),new Error(`Both AI services failed to respond.
DeepSeek error: ${r}
OpenRouter error: ${a}`)}}}const Pn={async fetchTrainingData(){try{console.log("Fetching training examples from Supabase...");const{data:t,error:e}=await $.from("training_examples").select("*").order("created_at",{ascending:!0});if(e)throw console.error("Supabase error fetching examples:",e),new Error(`Error fetching training examples: ${e.message}`);console.log("Fetched examples from Supabase:",t),console.log("Fetching training metadata from Supabase...");const s={version:"1.0.0",last_updated:new Date().toISOString(),total_examples:(t==null?void 0:t.length)||0},{data:r,error:n}=await $.from("training_metadata").select("*").order("created_at",{ascending:!1}).limit(1);if(n)throw console.error("Error fetching metadata:",n),new Error(`Error fetching metadata: ${n.message}`);let a;if(!r||r.length===0){console.log("No metadata found, creating initial metadata...");const{data:o,error:l}=await $.from("training_metadata").insert([s]).select();if(l)throw console.error("Error creating metadata:",l),new Error(`Error creating metadata: ${l.message}`);if(!o||o.length===0)throw console.error("No metadata returned after insert"),new Error("Failed to create metadata: No data returned");a=o[0],console.log("Created new metadata:",a)}else a=r[0],console.log("Using existing metadata:",a);return{examples:t,metadata:{version:a.version,lastUpdated:a.last_updated,totalExamples:(t==null?void 0:t.length)||0}}}catch(t){throw console.error("Error in fetchTrainingData:",t),t}},async bulkInsertExamples(t){try{console.log("Bulk inserting examples:",t);const{error:e}=await $.from("training_examples").insert(t.map(r=>({user_input:r.userInput,ai_response:r.aiResponse,context:r.context||{}})));if(e)throw console.error("Error bulk inserting examples:",e),new Error(`Error bulk inserting examples: ${e.message}`);const{error:s}=await $.from("training_metadata").update({last_updated:new Date().toISOString(),total_examples:t.length}).eq("id",1);s&&console.error("Error updating metadata:",s),console.log("Successfully inserted examples")}catch(e){throw console.error("Error in bulkInsertExamples:",e),e}},async addTrainingExample(t){try{const{error:e}=await $.from("training_examples").insert([{user_input:t.userInput,ai_response:t.aiResponse,context:t.context||{}}]);if(e)throw new Error(`Error adding training example: ${e.message}`);const{error:s}=await $.from("training_metadata").update({last_updated:new Date().toISOString()}).eq("id",1);s&&console.error("Error updating metadata:",s)}catch(e){throw console.error("Error in addTrainingExample:",e),e}},async updateTrainingExample(t,e){try{const{error:s}=await $.from("training_examples").update(e).eq("id",t);if(s)throw new Error(`Error updating training example: ${s.message}`);const{error:r}=await $.from("training_metadata").update({last_updated:new Date().toISOString()}).eq("id",1);r&&console.error("Error updating metadata:",r)}catch(s){throw console.error("Error in updateTrainingExample:",s),s}},async deleteTrainingExample(t){try{const{error:e}=await $.from("training_examples").delete().eq("id",t);if(e)throw new Error(`Error deleting training example: ${e.message}`);const{error:s}=await $.from("training_metadata").update({last_updated:new Date().toISOString()}).eq("id",1);s&&console.error("Error updating metadata:",s)}catch(e){throw console.error("Error in deleteTrainingExample:",e),e}}};class ky{constructor(){Kt(this,"trainingData",{examples:[],metadata:{version:"1.0.0",lastUpdated:new Date().toISOString(),totalExamples:0}})}async loadTrainingData(e){try{if(e){console.log("Initial data provided, attempting to upload to Supabase...");try{await Pn.bulkInsertExamples(e.examples),console.log("Successfully uploaded initial data to Supabase")}catch(s){console.error("Error uploading initial data to Supabase:",s)}}console.log("Fetching data from Supabase..."),this.trainingData=await Pn.fetchTrainingData(),console.log(`Loaded ${this.trainingData.examples.length} training examples from Supabase`)}catch(s){throw console.error("Error loading training data:",s),e&&(console.log("Using provided initial data as fallback"),this.trainingData={...e,metadata:{...e.metadata,lastUpdated:new Date().toISOString()}}),s}}findMatchingExample(e){const s=e.toLowerCase().trim();let r=null,n=0;for(const a of this.trainingData.examples){const o=this.calculateSimilarity(s,a.userInput.toLowerCase());o>n&&o>.5&&(n=o,r=a)}return r}async addExample(e){try{await Pn.addTrainingExample(e),await this.loadTrainingData()}catch(s){throw console.error("Error adding training example:",s),s}}getExamples(){return this.trainingData.examples}calculateSimilarity(e,s){const r=new Set(e.split(" ")),n=new Set(s.split(" ")),a=new Set([...r].filter(l=>n.has(l))),o=new Set([...r,...n]);return a.size/o.size}}const yt=new ky;function _y(t){return["yes","yeah","yep","sure","okay","ok","yup","y"].includes(t.toLowerCase().trim())}async function Cy(t,e,s){var l,c;const r=e.toLowerCase().trim();console.log("Processing message:",e),console.log("With context:",JSON.stringify(s,null,2));const n=yt.findMatchingExample(e);let a=t,o={};if(n&&(console.log("Found matching training example for intent/entity extraction:",n),a=n.intent||t,o=n.entities||{}),r==="hi"||r==="hello"||r==="hey")return{content:"Hello! I'm your AICABY assistant. I can help you book a ride, find locations, or manage payments. What would you like to do today?"};if(r==="pickup"||r==="dropoff")if(s.pendingLocation){const d=r,u=d==="pickup"?"dropoff":"pickup";return{content:`Great! I've set ${s.pendingLocation.address} as your ${d} point. Could you please provide your ${u} location?`,booking:{[`${d}Location`]:{name:s.pendingLocation.address,address:s.pendingLocation.address,coordinates:{lat:0,lng:0}}},pendingLocation:{address:s.pendingLocation.address,type:d}}}else return{content:"I'll help you set a location. Please provide the address you'd like to use."};if(_y(r)&&((l=s.lastQuestion)!=null&&l.includes("pickup or dropoff")))return{content:"Please specify if this is your 'pickup' or 'dropoff' location by typing one of those words.",lastQuestion:"pickup or dropoff",pendingLocation:s.pendingLocation};try{const d=`
You are AI CABY, a helpful taxi booking assistant. The user message is: "${e}"

Current conversation context:
- User intent: ${a}
- Previous question asked: ${s.lastQuestion||"None"}
- Pending location: ${s.pendingLocation?s.pendingLocation.address:"None"}
- Pending location type: ${((c=s.pendingLocation)==null?void 0:c.type)||"Not specified"}
- Extracted entities: ${JSON.stringify(o)}

Your task is to help the user book a taxi. Respond naturally and helpfully.
`;return{content:await vd(d,"detailed"),booking:Ty(e)||void 0,lastQuestion:s.lastQuestion,pendingLocation:s.pendingLocation}}catch(d){return console.error("Error generating AI response:",d),Sy(a,s)}}function Sy(t,e){var a,o;const s=(a=e==null?void 0:e.pendingLocation)==null?void 0:a.address,r=e==null?void 0:e.lastQuestion;let n="I apologize, but I'm having trouble understanding. ";return t==="book_ride"?(s&&((o=e==null?void 0:e.pendingLocation)!=null&&o.type)&&(n+=`I see you want to book a ride ${e.pendingLocation.type==="pickup"?"from":"to"} ${e.pendingLocation.address}. `),n+="Could you please provide more details about your ride?"):t==="price_inquiry"?n+="To provide an accurate price estimate, I need both pickup and dropoff locations.":r?n+=`Regarding your previous question about ${r}, could you please clarify what you'd like to know?`:n+="Could you please rephrase your request?",{content:n,intent:t,suggestions:["Book a ride","Check prices","View my bookings"]}}function Ay(t){const e=t.toLowerCase();return e.includes("book")||e.includes("ride")||e.includes("taxi")?{intent:"booking"}:e.includes("location")||e.includes("where")||e.includes("place")?{intent:"location"}:e.includes("pay")||e.includes("card")||e.includes("money")?{intent:"payment"}:e.includes("hi")||e.includes("hello")||e.includes("hey")?{intent:"greeting"}:e.includes("?")?{intent:"query"}:{intent:"unknown"}}function Ty(t){const e=t.match(/from\s+([^to]+)(?:\s+to|$)/i),s=t.match(/to\s+([^from]+)$/i);return e&&s?{pickupLocation:{address:e[1].trim(),coordinates:{lat:0,lng:0}},dropoffLocation:{address:s[1].trim(),coordinates:{lat:0,lng:0}}}:null}async function Py(t,e={}){try{const{intent:s}=Ay(t);console.log("User intent:",s),console.log("Context:",e),await new Promise(n=>setTimeout(n,500+Math.random()*500));const r=await Cy(s,t,e);if(console.log("AI response:",r),!r)throw new Error("No response from AI service");return{...r,lastQuestion:r.lastQuestion,pendingLocation:r.pendingLocation}}catch(s){throw console.error("Error in AI response generation:",s),new Error("Failed to generate AI response. Please try again.")}}const Ey=()=>{const[t,e]=f.useState(!1),[s,r]=f.useState(""),[n,a]=f.useState(null),o=f.useCallback(()=>{if(!("webkitSpeechRecognition"in window)){a("Speech recognition is not supported in this browser.");return}const c=new window.webkitSpeechRecognition;return c.continuous=!1,c.interimResults=!0,c.lang="en-US",c.onstart=()=>{e(!0),a(null)},c.onresult=d=>{const u=d.resultIndex,h=d.results[u][0].transcript;r(h)},c.onerror=d=>{a(`Error occurred in recognition: ${d.error}`),e(!1)},c.onend=()=>{e(!1)},c.start(),c},[]),l=f.useCallback(c=>{c&&(c.stop(),e(!1))},[]);return{isListening:t,transcript:s,error:n,startListening:o,stopListening:l}},bd=()=>{const[t,e]=f.useState("ai"),[s,r]=f.useState(""),[n,a]=f.useState([{id:"welcome",content:"Hello! I'm your AICABY assistant. How can I help you with your ride today?",sender:"ai",timestamp:new Date,type:"assistant"}]),[o,l]=f.useState(!1),[c,d]=f.useState(!1),{isListening:u,transcript:h,startListening:m,stopListening:p}=Ey(),[g,x]=f.useState(null),b=f.useRef(null),j=f.useRef(null),{user:v}=Be(),[k,T]=f.useState(null),[C,w]=f.useState({}),P=()=>{const S=new Date().getHours();return S<12?"morning":S<17?"afternoon":"evening"};f.useEffect(()=>{(async()=>{if(v!=null&&v.id)try{const{data:L,error:J}=await $.from("profiles").select("*").eq("id",v.id).single();if(J)throw J;const Q={id:L.id,first_name:L.first_name,email:L.email,phone_number:L.phone_number,avatar_url:L.avatar_url,payment_preferences:L.payment_preferences,created_at:L.created_at,updated_at:L.updated_at};T(Q)}catch(L){console.error("Error fetching profile:",L)}})()},[v==null?void 0:v.id]);const F=()=>{var S;(S=b.current)==null||S.scrollIntoView({behavior:"smooth"})};f.useEffect(()=>{F()},[n]),f.useEffect(()=>{var S;o||(S=j.current)==null||S.focus()},[o]),f.useEffect(()=>{h&&r(h)},[h]);const X=()=>v&&(k!=null&&k.first_name)?k.first_name:v!=null&&v.email?v.email.split("@")[0]:"Guest",K=[{icon:lt,label:"Location",requiresAuth:!1,action:()=>{var S;r("I want to set my pickup location"),(S=j.current)==null||S.focus()}},{icon:Wu,label:"Photo",requiresAuth:!0,action:()=>{var S;if(!v){Me.error("Please sign in to report issues with photos");return}r("I need to report an issue with photos"),(S=j.current)==null||S.focus()}},{icon:ih,label:"Map",requiresAuth:!0,action:()=>{var S;if(!v){Me.error("Please sign in to access route tracking");return}r("Show me the route on map"),(S=j.current)==null||S.focus()}},{icon:Kr,label:"Payment",requiresAuth:!0,action:()=>{var S;if(!v){Me.error("Please sign in to manage payment methods");return}r("I want to manage my payment methods"),(S=j.current)==null||S.focus()}}],ge=()=>{if(u)p(g),x(null);else{const S=m();x(S)}},q=async()=>{if(!s.trim())return;d(!0);const S={content:s,sender:"user",timestamp:new Date};a(L=>[...L,S]),r(""),l(!0);try{const L=await Py(s,C);w({lastQuestion:L.lastQuestion,pendingLocation:L.pendingLocation});const J={content:L.content,sender:"ai",timestamp:new Date};a(Q=>[...Q,J])}catch(L){console.error("Error getting AI response:",L);const J={content:"I apologize, but I'm having trouble processing your request. Please try again.",sender:"ai",timestamp:new Date};a(Q=>[...Q,J])}finally{l(!1)}},G=S=>{S.key==="Enter"&&!S.shiftKey&&!o&&(S.preventDefault(),q())},te=async S=>{var L;try{let J={pickup_location:S.pickupLocation,dropoff_location:S.dropoffLocation,distance:S.distance||0,duration:S.duration||0,vehicle_type:(L=S.selectedVehicle)==null?void 0:L.id,payment_method:S.paymentMethod,is_scheduled:S.isScheduled,scheduled_time:S.scheduledTime,status:"pending",created_at:new Date().toISOString(),user_reference:v==null?void 0:v.id};if(v!=null&&v.id){const{error:Q}=await $.from("bookings").insert([J]).select().single();if(Q)throw Q;Me.success("Booking created successfully!")}else{const Q={...J,guest_email:S.email,guest_phone:S.phoneNumber},{error:de}=await $.from("bookings").insert([Q]).select().single();if(de)throw de;Me.success("Guest booking created successfully!")}}catch(J){console.error("Error creating booking:",J),Me.error("Failed to create booking. Please try again.")}};return i.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#2A2A2A] to-[#1A1A1A] text-white overflow-hidden flex flex-col",children:[i.jsx(pi,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#2A2A2A",color:"#fff",borderRadius:"8px",border:"1px solid rgba(247,201,72,0.2)"},success:{iconTheme:{primary:"#22c55e",secondary:"#2A2A2A"}},error:{iconTheme:{primary:"#ef4444",secondary:"#2A2A2A"}}}}),i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#F7C948]/20 bg-[rgba(42,42,42,0.7)] backdrop-blur-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:i.jsx(ze,{className:"w-6 h-6 text-[#F7C948]"})}),i.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-[#F7C948] to-[#FFE17D] bg-clip-text text-transparent",children:"AICABY"})]}),!v&&i.jsxs(le,{to:"/signin",className:"flex items-center gap-2 px-4 py-2 bg-[#F7C948] text-black rounded-lg hover:bg-[#FFE17D] transition-colors",children:[i.jsx(wh,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Sign In"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-track-[rgba(255,255,255,0.05)] scrollbar-thumb-[rgba(247,201,72,0.3)] hover:scrollbar-thumb-[rgba(247,201,72,0.5)]",children:i.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8 h-full flex flex-col",children:i.jsxs("div",{className:`space-y-4 mb-4 relative flex-1 ${c?"":"flex items-center justify-center"}`,children:[t==="ai"&&!c&&i.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-yellow-100 flex items-center justify-center mb-4",children:i.jsx("span",{className:"text-3xl",children:""})}),i.jsxs("h1",{className:"text-2xl font-medium mb-2",children:["Good ",P(),", ",X()]}),i.jsx("p",{className:"text-zinc-400",children:"Start chatting to book your ride"}),!v&&i.jsx("p",{className:"mt-2 text-sm text-[#F7C948]",children:"Sign in to access additional features like ride tracking and saved payments"})]}),t==="manual"?i.jsxs("div",{className:"w-full",children:[i.jsxs("button",{onClick:()=>e("ai"),className:`mb-6 px-4 py-2.5 flex items-center gap-2 bg-[rgba(247,201,72,0.1)] hover:bg-[rgba(247,201,72,0.2)] 
                           text-[#F7C948] rounded-lg transition-all duration-200 border border-[#F7C948]/20
                           shadow-[0_4px_12px_rgba(247,201,72,0.1)] hover:shadow-[0_4px_16px_rgba(247,201,72,0.2)]
                           transform hover:-translate-y-0.5`,children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to AI Booking"]}),i.jsx(gy,{onComplete:te,onCancel:()=>e("ai"),isGuest:!v})]}):i.jsxs("div",{className:`space-y-4 w-full ${c?"":"hidden"}`,children:[n.map((S,L)=>i.jsxs("div",{className:`flex items-end gap-2 ${S.sender==="user"?"justify-end":"justify-start"}`,children:[S.sender==="ai"&&i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#F7C948] to-[#2A2A2A] flex items-center justify-center flex-shrink-0 border border-[#F7C948]/20",children:i.jsx("span",{role:"img","aria-label":"AI Assistant",className:"text-sm",children:""})}),i.jsxs("div",{className:`
                        max-w-[80%] rounded-2xl px-4 py-3 
                        ${S.sender==="user"?"bg-gradient-to-br from-[#F7C948] to-[#2A2A2A] text-white ml-auto shadow-lg":"bg-[rgba(255,255,255,0.1)] border border-[#F7C948]/20"}
                      `,children:[i.jsx("p",{className:`
                        text-sm md:text-base tracking-wide
                        ${S.sender==="user"?"font-bold text-white/95":"font-semibold text-white/90"}
                      `,children:typeof S.content=="string"?S.content:JSON.stringify(S.content)}),i.jsx("span",{className:`
                        text-xs mt-1.5 block font-medium
                        ${S.sender==="user"?"text-white/80":"text-[#F7C948]/80"}
                      `,children:S.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),S.sender==="user"&&i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-zinc-700 to-zinc-900 flex items-center justify-center flex-shrink-0 border border-white/10",children:i.jsx("span",{role:"img","aria-label":"User",className:"text-sm",children:""})})]},S.id||L.toString())),o&&i.jsxs("div",{className:"flex justify-start items-end gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#F7C948] to-[#2A2A2A] flex items-center justify-center flex-shrink-0 border border-[#F7C948]/20",children:i.jsx("span",{role:"img","aria-label":"AI Assistant",className:"text-sm",children:""})}),i.jsx("div",{className:"max-w-[80%] rounded-2xl px-4 py-3 bg-[rgba(255,255,255,0.1)] border border-[#F7C948]/20",children:i.jsx(xy,{className:"font-semibold text-white/90"})})]}),i.jsx("div",{ref:b})]})]})})}),i.jsx("div",{className:"border-t border-[#F7C948]/20 bg-[rgba(42,42,42,0.7)] backdrop-blur-lg",children:i.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-6",children:[i.jsxs("div",{className:"mb-0",style:{display:t==="manual"?"none":"block"},children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("button",{onClick:()=>e("ai"),className:`px-4 py-2 rounded-lg text-sm transition-all duration-200 ${t==="ai"?"bg-gradient-to-r from-[#F7C948] to-[#FFE17D] text-[#1A1A1A] font-extrabold shadow-[0_4px_12px_rgba(0,0,0,0.3)] hover:shadow-[0_6px_16px_rgba(0,0,0,0.4)]":"bg-white/5 hover:bg-[rgba(247,201,72,0.1)] text-[#F7C948] font-bold border border-[#F7C948]/20"}`,style:{color:t==="ai"?"#1A1A1A":void 0},disabled:o,children:"AI Booking"}),i.jsx("button",{onClick:()=>e("manual"),className:`px-4 py-2 rounded-lg text-sm transition-all duration-200 ${t==="manual"?"bg-[rgba(255,255,255,0.1)] text-white font-bold border-2 border-[#F7C948] shadow-[0_4px_12px_rgba(247,201,72,0.1)]":"bg-white/5 hover:bg-white/10 text-white/80 font-medium border border-white/10"}`,disabled:o,children:"Manual Booking"})]}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx("div",{className:"flex-1",children:i.jsx("input",{ref:j,type:"text",value:s,onChange:S=>r(S.target.value),onKeyPress:G,placeholder:o?"Please wait for AI's response...":"How can AICABY help you today?",className:"w-full bg-white/5 rounded-lg px-4 py-3 placeholder-[#9CA3AF] focus:outline-none focus:ring-1 focus:ring-[#F7C948]/30 border border-[#F7C948]/20 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,autoFocus:!0})}),i.jsx("button",{className:`p-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${u?"bg-[#F7C948]/20 text-[#F7C948]":"bg-white/5 hover:bg-white/10"}`,onClick:ge,disabled:o,children:i.jsx(ch,{className:`w-5 h-5 ${u?"animate-pulse":""}`})}),i.jsx("button",{onClick:q,disabled:o||!s.trim(),className:"p-3 bg-white/5 hover:bg-white/10 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(fh,{className:"w-5 h-5"})})]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-2 max-w-md mx-auto",children:K.map((S,L)=>i.jsxs("button",{onClick:S.action,disabled:o||S.requiresAuth&&!v,className:`flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg transition-colors border ${S.requiresAuth&&!v?"bg-[rgba(42,42,42,0.5)] border-[#F7C948]/10 cursor-not-allowed":"bg-[rgba(42,42,42,0.9)] border-[#F7C948]/20 hover:bg-[rgba(247,201,72,0.1)]"} disabled:opacity-50 disabled:cursor-not-allowed group`,children:[i.jsx(S.icon,{className:`w-5 h-5 ${S.requiresAuth&&!v?"text-[#F7C948]/50":"text-[#F7C948]"}`}),i.jsx("span",{className:`text-sm font-medium ${S.requiresAuth&&!v?"text-[#F7C948]/50":"text-[#F7C948]"}`,children:S.label})]},L))})]})})]})},Ry=()=>{const[t,e]=f.useState(""),[s,r]=f.useState(""),[n,a]=f.useState(!1),o=async l=>{l.preventDefault(),a(!0);try{const{error:c}=await $.auth.signInWithPassword({email:t,password:s});if(c)throw c;Me.success("Successfully logged in!")}catch(c){Me.error(c.message||"Error logging in")}finally{a(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#2A2A2A] to-[#1A1A1A] px-4",children:i.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-[rgba(255,255,255,0.05)] rounded-2xl border border-[#F7C948]/20",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Welcome back"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Or"," ",i.jsx(le,{to:"/register",className:"font-medium text-[#F7C948] hover:text-[#F7C948]/80",children:"create a new account"})]})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:o,children:[i.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),i.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:l=>e(l.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-[#F7C948]/20 placeholder-gray-500 text-white rounded-t-md focus:outline-none focus:ring-[#F7C948]/50 focus:border-[#F7C948]/50 focus:z-10 sm:text-sm bg-[rgba(255,255,255,0.05)]",placeholder:"Email address"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s,onChange:l=>r(l.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-[#F7C948]/20 placeholder-gray-500 text-white rounded-b-md focus:outline-none focus:ring-[#F7C948]/50 focus:border-[#F7C948]/50 focus:z-10 sm:text-sm bg-[rgba(255,255,255,0.05)]",placeholder:"Password"})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-black bg-[#F7C948] hover:bg-[#F7C948]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F7C948]/50 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Signing in...":"Sign in"})})]})]})})},Iy=()=>{const[t,e]=f.useState(""),[s,r]=f.useState(""),[n,a]=f.useState(""),[o,l]=f.useState(!1),c=async d=>{d.preventDefault(),l(!0);try{const{data:{user:u},error:h}=await $.auth.signUp({email:t,password:s});if(h)throw h;if(u){const{error:m}=await $.from("profiles").insert([{id:u.id,first_name:n,email:t,created_at:new Date().toISOString()}]);if(m)throw m}Me.success("Registration successful! Please check your email to verify your account.")}catch(u){Me.error(u.message||"Error during registration")}finally{l(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#2A2A2A] to-[#1A1A1A] px-4",children:i.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-[rgba(255,255,255,0.05)] rounded-2xl border border-[#F7C948]/20",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Create your account"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["Or"," ",i.jsx(le,{to:"/login",className:"font-medium text-[#F7C948] hover:text-[#F7C948]/80",children:"sign in to your account"})]})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[i.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"first-name",className:"sr-only",children:"First Name"}),i.jsx("input",{id:"first-name",name:"firstName",type:"text",required:!0,value:n,onChange:d=>a(d.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-[#F7C948]/20 placeholder-gray-500 text-white rounded-t-md focus:outline-none focus:ring-[#F7C948]/50 focus:border-[#F7C948]/50 focus:z-10 sm:text-sm bg-[rgba(255,255,255,0.05)]",placeholder:"First Name"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),i.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:d=>e(d.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-[#F7C948]/20 placeholder-gray-500 text-white focus:outline-none focus:ring-[#F7C948]/50 focus:border-[#F7C948]/50 focus:z-10 sm:text-sm bg-[rgba(255,255,255,0.05)]",placeholder:"Email address"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:s,onChange:d=>r(d.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-[#F7C948]/20 placeholder-gray-500 text-white rounded-b-md focus:outline-none focus:ring-[#F7C948]/50 focus:border-[#F7C948]/50 focus:z-10 sm:text-sm bg-[rgba(255,255,255,0.05)]",placeholder:"Password"})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-black bg-[#F7C948] hover:bg-[#F7C948]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F7C948]/50 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating account...":"Create account"})})]})]})})};function sl(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wd(...t){return e=>{let s=!1;const r=t.map(n=>{const a=sl(n,e);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let n=0;n<r.length;n++){const a=r[n];typeof a=="function"?a():sl(t[n],null)}}}}function qs(...t){return f.useCallback(wd(...t),t)}var Zs=f.forwardRef((t,e)=>{const{children:s,...r}=t,n=f.Children.toArray(s),a=n.find(Dy);if(a){const o=a.props.children,l=n.map(c=>c===a?f.Children.count(o)>1?f.Children.only(null):f.isValidElement(o)?o.props.children:null:c);return i.jsx(ti,{...r,ref:e,children:f.isValidElement(o)?f.cloneElement(o,void 0,l):null})}return i.jsx(ti,{...r,ref:e,children:s})});Zs.displayName="Slot";var ti=f.forwardRef((t,e)=>{const{children:s,...r}=t;if(f.isValidElement(s)){const n=Fy(s),a=Vy(r,s.props);return s.type!==f.Fragment&&(a.ref=e?wd(e,n):n),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});ti.displayName="SlotClone";var My=({children:t})=>i.jsx(i.Fragment,{children:t});function Dy(t){return f.isValidElement(t)&&t.type===My}function Vy(t,e){const s={...e};for(const r in e){const n=t[r],a=e[r];/^on[A-Z]/.test(r)?n&&a?s[r]=(...l)=>{a(...l),n(...l)}:n&&(s[r]=n):r==="style"?s[r]={...n,...a}:r==="className"&&(s[r]=[n,a].filter(Boolean).join(" "))}return{...t,...s}}function Fy(t){var r,n;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function jd(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(s=jd(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function ta(){for(var t,e,s=0,r="",n=arguments.length;s<n;s++)(t=arguments[s])&&(e=jd(t))&&(r&&(r+=" "),r+=e);return r}const rl=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,nl=ta,Ly=(t,e)=>s=>{var r;if((e==null?void 0:e.variants)==null)return nl(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:a}=e,o=Object.keys(n).map(d=>{const u=s==null?void 0:s[d],h=a==null?void 0:a[d];if(u===null)return null;const m=rl(u)||rl(h);return n[d][m]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:m,...p}=u;return Object.entries(p).every(g=>{let[x,b]=g;return Array.isArray(b)?b.includes({...a,...l}[x]):{...a,...l}[x]===b})?[...d,h,m]:d},[]);return nl(t,o,c,s==null?void 0:s.class,s==null?void 0:s.className)},sa="-",Oy=t=>{const e=By(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(sa);return l[0]===""&&l.length!==1&&l.shift(),Nd(l,e)||zy(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Nd=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const s=t[0],r=e.nextPart.get(s),n=r?Nd(t.slice(1),r):void 0;if(n)return n;if(e.validators.length===0)return;const a=t.join(sa);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},il=/^\[(.+)\]$/,zy=t=>{if(il.test(t)){const e=il.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},By=t=>{const{theme:e,classGroups:s}=t,r={nextPart:new Map,validators:[]};for(const n in s)si(s[n],r,n,e);return r},si=(t,e,s,r)=>{t.forEach(n=>{if(typeof n=="string"){const a=n===""?e:al(e,n);a.classGroupId=s;return}if(typeof n=="function"){if($y(n)){si(n(r),e,s,r);return}e.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([a,o])=>{si(o,al(e,a),s,r)})})},al=(t,e)=>{let s=t;return e.split(sa).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},$y=t=>t.isThemeGetter,Uy=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,r=new Map;const n=(a,o)=>{s.set(a,o),e++,e>t&&(e=0,r=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return n(a,o),o},set(a,o){s.has(a)?s.set(a,o):n(a,o)}}},ri="!",ni=":",qy=ni.length,Zy=t=>{const{prefix:e,experimentalParseClassName:s}=t;let r=n=>{const a=[];let o=0,l=0,c=0,d;for(let g=0;g<n.length;g++){let x=n[g];if(o===0&&l===0){if(x===ni){a.push(n.slice(c,g)),c=g+qy;continue}if(x==="/"){d=g;continue}}x==="["?o++:x==="]"?o--:x==="("?l++:x===")"&&l--}const u=a.length===0?n:n.substring(c),h=Wy(u),m=h!==u,p=d&&d>c?d-c:void 0;return{modifiers:a,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:p}};if(e){const n=e+ni,a=r;r=o=>o.startsWith(n)?a(o.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(s){const n=r;r=a=>s({className:a,parseClassName:n})}return r},Wy=t=>t.endsWith(ri)?t.substring(0,t.length-1):t.startsWith(ri)?t.substring(1):t,Hy=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const n=[];let a=[];return r.forEach(o=>{o[0]==="["||e[o]?(n.push(...a.sort(),o),a=[]):a.push(o)}),n.push(...a.sort()),n}},Yy=t=>({cache:Uy(t.cacheSize),parseClassName:Zy(t),sortModifiers:Hy(t),...Oy(t)}),Gy=/\s+/,Ky=(t,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n,sortModifiers:a}=e,o=[],l=t.trim().split(Gy);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{isExternal:h,modifiers:m,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:x}=s(u);if(h){c=u+(c.length>0?" "+c:c);continue}let b=!!x,j=r(b?g.substring(0,x):g);if(!j){if(!b){c=u+(c.length>0?" "+c:c);continue}if(j=r(g),!j){c=u+(c.length>0?" "+c:c);continue}b=!1}const v=a(m).join(":"),k=p?v+ri:v,T=k+j;if(o.includes(T))continue;o.push(T);const C=n(j,b);for(let w=0;w<C.length;++w){const P=C[w];o.push(k+P)}c=u+(c.length>0?" "+c:c)}return c};function Jy(){let t=0,e,s,r="";for(;t<arguments.length;)(e=arguments[t++])&&(s=kd(e))&&(r&&(r+=" "),r+=s);return r}const kd=t=>{if(typeof t=="string")return t;let e,s="";for(let r=0;r<t.length;r++)t[r]&&(e=kd(t[r]))&&(s&&(s+=" "),s+=e);return s};function Xy(t,...e){let s,r,n,a=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return s=Yy(d),r=s.cache.get,n=s.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=Ky(c,s);return n(c,u),u}return function(){return a(Jy.apply(null,arguments))}}const ke=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},_d=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Cd=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Qy=/^\d+\/\d+$/,e0=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,t0=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,s0=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,r0=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n0=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xt=t=>Qy.test(t),ie=t=>!!t&&!Number.isNaN(Number(t)),It=t=>!!t&&Number.isInteger(Number(t)),ol=t=>t.endsWith("%")&&ie(t.slice(0,-1)),gt=t=>e0.test(t),i0=()=>!0,a0=t=>t0.test(t)&&!s0.test(t),ra=()=>!1,o0=t=>r0.test(t),l0=t=>n0.test(t),c0=t=>!O(t)&&!z(t),d0=t=>xs(t,Td,ra),O=t=>_d.test(t),Mt=t=>xs(t,Pd,a0),En=t=>xs(t,w0,ie),u0=t=>xs(t,Sd,ra),h0=t=>xs(t,Ad,l0),f0=t=>xs(t,ra,o0),z=t=>Cd.test(t),Nr=t=>ys(t,Pd),m0=t=>ys(t,j0),p0=t=>ys(t,Sd),g0=t=>ys(t,Td),x0=t=>ys(t,Ad),y0=t=>ys(t,N0,!0),xs=(t,e,s)=>{const r=_d.exec(t);return r?r[1]?e(r[1]):s(r[2]):!1},ys=(t,e,s=!1)=>{const r=Cd.exec(t);return r?r[1]?e(r[1]):s:!1},Sd=t=>t==="position",v0=new Set(["image","url"]),Ad=t=>v0.has(t),b0=new Set(["length","size","percentage"]),Td=t=>b0.has(t),Pd=t=>t==="length",w0=t=>t==="number",j0=t=>t==="family-name",N0=t=>t==="shadow",k0=()=>{const t=ke("color"),e=ke("font"),s=ke("text"),r=ke("font-weight"),n=ke("tracking"),a=ke("leading"),o=ke("breakpoint"),l=ke("container"),c=ke("spacing"),d=ke("radius"),u=ke("shadow"),h=ke("inset-shadow"),m=ke("drop-shadow"),p=ke("blur"),g=ke("perspective"),x=ke("aspect"),b=ke("ease"),j=ke("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],w=()=>[z,O,c],P=()=>[Xt,"full","auto",...w()],F=()=>[It,"none","subgrid",z,O],X=()=>["auto",{span:["full",It,z,O]},z,O],K=()=>[It,"auto",z,O],ge=()=>["auto","min","max","fr",z,O],q=()=>["start","end","center","between","around","evenly","stretch","baseline"],G=()=>["start","end","center","stretch"],te=()=>["auto",...w()],S=()=>[Xt,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],L=()=>[t,z,O],J=()=>[ol,Mt],Q=()=>["","none","full",d,z,O],de=()=>["",ie,Nr,Mt],Re=()=>["solid","dashed","dotted","double"],vs=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],bs=()=>["","none",p,z,O],pr=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",z,O],Tt=()=>["none",ie,z,O],Gt=()=>["none",ie,z,O],Pt=()=>[ie,z,O],Et=()=>[Xt,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[gt],breakpoint:[gt],color:[i0],container:[gt],"drop-shadow":[gt],ease:["in","out","in-out"],font:[c0],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[gt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[gt],shadow:[gt],spacing:["px",ie],text:[gt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xt,O,z,x]}],container:["container"],columns:[{columns:[ie,O,z,l]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),O,z]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[It,"auto",z,O]}],basis:[{basis:[Xt,"full","auto",l,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ie,Xt,"auto","initial","none",O]}],grow:[{grow:["",ie,z,O]}],shrink:[{shrink:["",ie,z,O]}],order:[{order:[It,"first","last","none",z,O]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:X()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:X()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ge()}],"auto-rows":[{"auto-rows":ge()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...G(),"baseline"]}],"align-self":[{self:["auto",...G(),"baseline"]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:te()}],mx:[{mx:te()}],my:[{my:te()}],ms:[{ms:te()}],me:[{me:te()}],mt:[{mt:te()}],mr:[{mr:te()}],mb:[{mb:te()}],ml:[{ml:te()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:S()}],w:[{w:[l,"screen",...S()]}],"min-w":[{"min-w":[l,"screen","none",...S()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...S()]}],h:[{h:["screen",...S()]}],"min-h":[{"min-h":["screen","none",...S()]}],"max-h":[{"max-h":["screen",...S()]}],"font-size":[{text:["base",s,Nr,Mt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,z,En]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ol,O]}],"font-family":[{font:[m0,O,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,z,O]}],"line-clamp":[{"line-clamp":[ie,"none",z,En]}],leading:[{leading:[a,...w()]}],"list-image":[{"list-image":["none",z,O]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",z,O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[ie,"from-font","auto",z,Mt]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[ie,"auto",z,O]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",z,O]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",z,O]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),p0,u0]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",g0,d0]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},It,z,O],radial:["",z,O],conic:[It,z,O]},x0,h0]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ie,z,O]}],"outline-w":[{outline:["",ie,Nr,Mt]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",u,y0,f0]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",z,O,h]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[ie,Mt]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":L()}],opacity:[{opacity:[ie,z,O]}],"mix-blend":[{"mix-blend":[...vs(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":vs()}],filter:[{filter:["","none",z,O]}],blur:[{blur:bs()}],brightness:[{brightness:[ie,z,O]}],contrast:[{contrast:[ie,z,O]}],"drop-shadow":[{"drop-shadow":["","none",m,z,O]}],grayscale:[{grayscale:["",ie,z,O]}],"hue-rotate":[{"hue-rotate":[ie,z,O]}],invert:[{invert:["",ie,z,O]}],saturate:[{saturate:[ie,z,O]}],sepia:[{sepia:["",ie,z,O]}],"backdrop-filter":[{"backdrop-filter":["","none",z,O]}],"backdrop-blur":[{"backdrop-blur":bs()}],"backdrop-brightness":[{"backdrop-brightness":[ie,z,O]}],"backdrop-contrast":[{"backdrop-contrast":[ie,z,O]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ie,z,O]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ie,z,O]}],"backdrop-invert":[{"backdrop-invert":["",ie,z,O]}],"backdrop-opacity":[{"backdrop-opacity":[ie,z,O]}],"backdrop-saturate":[{"backdrop-saturate":[ie,z,O]}],"backdrop-sepia":[{"backdrop-sepia":["",ie,z,O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",z,O]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ie,"initial",z,O]}],ease:[{ease:["linear","initial",b,z,O]}],delay:[{delay:[ie,z,O]}],animate:[{animate:["none",j,z,O]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,z,O]}],"perspective-origin":[{"perspective-origin":pr()}],rotate:[{rotate:Tt()}],"rotate-x":[{"rotate-x":Tt()}],"rotate-y":[{"rotate-y":Tt()}],"rotate-z":[{"rotate-z":Tt()}],scale:[{scale:Gt()}],"scale-x":[{"scale-x":Gt()}],"scale-y":[{"scale-y":Gt()}],"scale-z":[{"scale-z":Gt()}],"scale-3d":["scale-3d"],skew:[{skew:Pt()}],"skew-x":[{"skew-x":Pt()}],"skew-y":[{"skew-y":Pt()}],transform:[{transform:[z,O,"","none","gpu","cpu"]}],"transform-origin":[{origin:pr()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Et()}],"translate-x":[{"translate-x":Et()}],"translate-y":[{"translate-y":Et()}],"translate-z":[{"translate-z":Et()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",z,O]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",z,O]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[ie,Nr,Mt,En]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Ed=Xy(k0);function hr(...t){return Ed(ta(t))}const _0=Ly("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ws=f.forwardRef(({className:t,variant:e,size:s,asChild:r=!1,...n},a)=>{const o=r?Zs:"button";return i.jsx(o,{className:hr(_0({variant:e,size:s,className:t})),ref:a,...n})});Ws.displayName="Button";const C0=()=>{const[t,e]=f.useState(null),[s,r]=f.useState(!1);f.useEffect(()=>{const o=l=>{l.preventDefault(),e(l),r(!0)};return window.addEventListener("beforeinstallprompt",o),()=>{window.removeEventListener("beforeinstallprompt",o)}},[]);const n=async()=>{if(!t)return;t.prompt();const{outcome:o}=await t.userChoice;o==="accepted"&&(e(null),r(!1))},a=()=>{r(!1)};return s?i.jsxs("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 bg-gray-800 rounded-lg shadow-lg p-4 z-50",children:[i.jsx("button",{onClick:a,className:"absolute top-2 right-2 text-gray-400 hover:text-white","aria-label":"Close",children:i.jsx(Sh,{size:20})}),i.jsxs("div",{className:"flex flex-col space-y-3",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Install AICABY"}),i.jsx("p",{className:"text-sm text-gray-300",children:"Install our app for a better experience with quick access and offline capabilities."}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx(Ws,{onClick:n,className:"flex-1",variant:"default",children:"Install"}),i.jsx(Ws,{onClick:a,className:"flex-1",variant:"outline",children:"Maybe Later"})]})]})]}):null},S0=()=>{const[t,e]=f.useState(""),[s,r]=f.useState(""),[n,a]=f.useState(""),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,h]=f.useState(null),m=Wt(),p=async b=>{b.preventDefault(),d(!0);try{const{data:j,error:v}=await $.auth.signInWithPassword({email:t,password:s});if(v){se.error(v.message);return}j.session&&await x()}catch(j){console.error("Error:",j),se.error(j.message)}finally{d(!1)}},g=async b=>{try{const{data:j,error:v}=await $.auth.mfa.challenge({factorId:(u==null?void 0:u.id)??""});if(v){se.error(v.message);return}const{data:k,error:T}=await $.auth.mfa.verify({code:b,factorId:(u==null?void 0:u.id)??"",challengeId:j.id});if(T){se.error(T.message);return}k&&(se.success("Successfully logged in"),m("/admin/dashboard"))}catch(j){console.error("Error during MFA verification:",j),se.error("Invalid verification code")}},x=async()=>{try{const{data:b,error:j}=await $.auth.mfa.listFactors();if(j){se.error(j.message);return}if(b!=null&&b.totp.length){const v=b.totp[0];h({id:v.id,type:"totp",totp:{qr_code:"",secret:"",uri:""},friendly_name:v.friendly_name})}else{const{data:v,error:k}=await $.auth.mfa.enroll({factorType:"totp"});if(k){se.error(k.message);return}v&&(se.success("Please scan the QR code to set up 2FA"),h({id:v.id,type:"totp",totp:v.totp,friendly_name:v.friendly_name}))}l(!0)}catch(b){console.error("Error setting up MFA:",b),se.error("Failed to setup MFA")}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsx("div",{children:i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Admin Login"})}),o?i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b=>{b.preventDefault(),g(n)},children:[i.jsx("div",{className:"rounded-md shadow-sm -space-y-px",children:i.jsx("div",{children:i.jsx("input",{type:"text",required:!0,value:n,onChange:b=>a(b.target.value),className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Enter 2FA code"})})}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:c?"Verifying...":"Verify 2FA"})})]}):i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[i.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[i.jsx("div",{children:i.jsx("input",{type:"email",required:!0,value:t,onChange:b=>e(b.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address"})}),i.jsx("div",{children:i.jsx("input",{type:"password",required:!0,value:s,onChange:b=>r(b.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"})})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:c?"Loading...":"Sign in"})})]})]})})},A0=()=>{const[t,e]=f.useState([]),[s,r]=f.useState(!0),[n,a]=f.useState(""),[o,l]=f.useState(""),c=Wt();f.useEffect(()=>{d(),u()},[]);const d=async()=>{try{const{data:{session:g},error:x}=await $.auth.getSession();if(x||!g){c("/admin/login");return}const{data:b,error:j}=await $.from("user_roles").select("role").eq("user_id",g.user.id).single();if(j||!b||b.role!=="ai_admin"){c("/admin/login");return}r(!1)}catch(g){console.error("Error checking admin access:",g),c("/admin/login")}},u=async()=>{try{const{data:g,error:x}=await $.from("training_examples").select("*").order("created_at",{ascending:!1});if(x)throw x;e(g||[])}catch(g){se.error("Error fetching training data"),console.error("Error:",g)}finally{r(!1)}},h=async g=>{g.preventDefault(),r(!0);try{const{error:x}=await $.from("training_examples").insert([{input:n,output:o}]);if(x)throw x;se.success("Training example added successfully"),a(""),l(""),u()}catch(x){se.error("Error adding training example"),console.error("Error:",x)}finally{r(!1)}},m=async g=>{if(window.confirm("Are you sure you want to delete this example?")){r(!0);try{const{error:x}=await $.from("training_examples").delete().eq("id",g);if(x)throw x;se.success("Training example deleted successfully"),u()}catch(x){se.error("Error deleting training example"),console.error("Error:",x)}finally{r(!1)}}},p=async()=>{const{error:g}=await $.auth.signOut();g?se.error("Error signing out"):c("/admin/login")};return s?i.jsx("div",{children:"Loading..."}):i.jsxs("div",{className:"min-h-screen bg-gray-100",children:[i.jsx("nav",{className:"bg-white shadow-sm",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between h-16",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("h1",{className:"text-xl font-semibold",children:"Admin Dashboard"})}),i.jsx("div",{className:"flex items-center",children:i.jsx("button",{onClick:p,className:"ml-4 px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:"Sign Out"})})]})})}),i.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[i.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Add New Training Example"}),i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"input",className:"block text-sm font-medium text-gray-700",children:"Input"}),i.jsx("textarea",{id:"input",rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:n,onChange:g=>a(g.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"output",className:"block text-sm font-medium text-gray-700",children:"Output"}),i.jsx("textarea",{id:"output",rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",value:o,onChange:g=>l(g.target.value),required:!0})]}),i.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:s?"Adding...":"Add Example"})]})]}),i.jsxs("div",{className:"mt-8 bg-white shadow rounded-lg p-6",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Training Examples"}),s?i.jsx("p",{children:"Loading..."}):i.jsx("div",{className:"space-y-4",children:t.map(g=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"space-y-2 flex-grow",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Input:"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.input})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Output:"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.output})]})]}),i.jsx("button",{onClick:()=>m(g.id),className:"ml-4 text-red-600 hover:text-red-900",children:"Delete"})]}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Added: ",new Date(g.created_at).toLocaleString()]})]},g.id))})]})]})})]})},T0=()=>{const{user:t,setUser:e}=Be();return f.useEffect(()=>{$.auth.getSession().then(({data:{session:r}})=>{e((r==null?void 0:r.user)??null)});const{data:{subscription:s}}=$.auth.onAuthStateChange((r,n)=>{e((n==null?void 0:n.user)??null)});return()=>s.unsubscribe()},[e]),i.jsxs(gl,{children:[i.jsx(pi,{position:"top-right"}),i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#2A2A2A] to-[#1A1A1A]",children:[i.jsx(C0,{}),i.jsxs(xl,{children:[i.jsx(he,{path:"/",element:t?i.jsx(bd,{}):i.jsx(_s,{to:"/login",replace:!0})}),i.jsx(he,{path:"/login",element:t?i.jsx(_s,{to:"/",replace:!0}):i.jsx(Ry,{})}),i.jsx(he,{path:"/register",element:t?i.jsx(_s,{to:"/",replace:!0}):i.jsx(Iy,{})}),i.jsxs(he,{path:"/admin",children:[i.jsx(he,{index:!0,element:i.jsx(_s,{to:"/admin/login",replace:!0})}),i.jsx(he,{path:"login",element:i.jsx(S0,{})}),i.jsx(he,{path:"dashboard",element:i.jsx(A0,{})})]})]})]})]})},ll=(t,e,s)=>{if(t&&"reportValidity"in t){const r=V(s,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Rd=(t,e)=>{for(const s in e.fields){const r=e.fields[s];r&&r.ref&&"reportValidity"in r.ref?ll(r.ref,s,t):r&&r.refs&&r.refs.forEach(n=>ll(n,s,t))}},P0=(t,e)=>{e.shouldUseNativeValidation&&Rd(t,e);const s={};for(const r in t){const n=V(e.fields,r),a=Object.assign(t[r]||{},{ref:n&&n.ref});if(E0(e.names||Object.keys(t),r)){const o=Object.assign({},V(s,r));ce(o,"root",a),ce(s,r,o)}else ce(s,r,a)}return s},E0=(t,e)=>t.some(s=>s.match(`^${e}\\.\\d+`));function R0(t,e){for(var s={};t.length;){var r=t[0],n=r.code,a=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:a,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=s[o].types,d=c&&c[r.code];s[o]=hd(o,e,s,n,d?[].concat(d,r.message):r.message)}t.shift()}return s}function na(t,e,s){return s===void 0&&(s={}),function(r,n,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return a.shouldUseNativeValidation&&Rd({},a),{errors:{},values:s.raw?Object.assign({},r):d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:P0(R0(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}}var oe;(function(t){t.assertEqual=n=>n;function e(n){}t.assertIs=e;function s(n){throw new Error}t.assertNever=s,t.arrayToEnum=n=>{const a={};for(const o of n)a[o]=o;return a},t.getValidEnumValues=n=>{const a=t.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of a)o[l]=n[l];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(a){return n[a]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&a.push(o);return a},t.find=(n,a)=>{for(const o of n)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function r(n,a=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(oe||(oe={}));var ii;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(ii||(ii={}));const D=oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ot=t=>{switch(typeof t){case"undefined":return D.undefined;case"string":return D.string;case"number":return isNaN(t)?D.nan:D.number;case"boolean":return D.boolean;case"function":return D.function;case"bigint":return D.bigint;case"symbol":return D.symbol;case"object":return Array.isArray(t)?D.array:t===null?D.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?D.promise:typeof Map<"u"&&t instanceof Map?D.map:typeof Set<"u"&&t instanceof Set?D.set:typeof Date<"u"&&t instanceof Date?D.date:D.object;default:return D.unknown}},A=oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),I0=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ve extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(a){return a.message},r={_errors:[]},n=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),r}static assert(e){if(!(e instanceof Ve))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},r=[];for(const n of this.issues)n.path.length>0?(s[n.path[0]]=s[n.path[0]]||[],s[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}Ve.create=t=>new Ve(t);const hs=(t,e)=>{let s;switch(t.code){case A.invalid_type:t.received===D.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case A.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,oe.jsonStringifyReplacer)}`;break;case A.unrecognized_keys:s=`Unrecognized key(s) in object: ${oe.joinValues(t.keys,", ")}`;break;case A.invalid_union:s="Invalid input";break;case A.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${oe.joinValues(t.options)}`;break;case A.invalid_enum_value:s=`Invalid enum value. Expected ${oe.joinValues(t.options)}, received '${t.received}'`;break;case A.invalid_arguments:s="Invalid function arguments";break;case A.invalid_return_type:s="Invalid function return type";break;case A.invalid_date:s="Invalid date";break;case A.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:oe.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case A.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case A.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case A.custom:s="Invalid input";break;case A.invalid_intersection_types:s="Intersection results could not be merged";break;case A.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case A.not_finite:s="Number must be finite";break;default:s=e.defaultError,oe.assertNever(t)}return{message:s}};let Id=hs;function M0(t){Id=t}function Br(){return Id}const $r=t=>{const{data:e,path:s,errorMaps:r,issueData:n}=t,a=[...s,...n.path||[]],o={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...n,path:a,message:l}},D0=[];function I(t,e){const s=Br(),r=$r({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===hs?void 0:hs].filter(n=>!!n)});t.common.issues.push(r)}class Ae{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const r=[];for(const n of s){if(n.status==="aborted")return Y;n.status==="dirty"&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,s){const r=[];for(const n of s){const a=await n.key,o=await n.value;r.push({key:a,value:o})}return Ae.mergeObjectSync(e,r)}static mergeObjectSync(e,s){const r={};for(const n of s){const{key:a,value:o}=n;if(a.status==="aborted"||o.status==="aborted")return Y;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const Y=Object.freeze({status:"aborted"}),as=t=>({status:"dirty",value:t}),Ee=t=>({status:"valid",value:t}),ai=t=>t.status==="aborted",oi=t=>t.status==="dirty",Ut=t=>t.status==="valid",Hs=t=>typeof Promise<"u"&&t instanceof Promise;function Ur(t,e,s,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Md(t,e,s,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,s),s}var B;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(B||(B={}));var Ts,Ps;class tt{constructor(e,s,r,n){this._cachedPath=[],this.parent=e,this.data=s,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cl=(t,e)=>{if(Ut(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Ve(t.common.issues);return this._error=s,this._error}}};function ee(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:r,description:n}=t;if(e&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,l)=>{var c,d;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??s)!==null&&d!==void 0?d:l.defaultError}},description:n}}class re{get description(){return this._def.description}_getType(e){return ot(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:ot(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ae,ctx:{common:e.parent.common,data:e.data,parsedType:ot(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(Hs(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const r=this.safeParse(e,s);if(r.success)return r.data;throw r.error}safeParse(e,s){var r;const n={common:{issues:[],async:(r=s==null?void 0:s.async)!==null&&r!==void 0?r:!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ot(e)},a=this._parseSync({data:e,path:n.path,parent:n});return cl(n,a)}"~validate"(e){var s,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ot(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Ut(a)?{value:a.value}:{issues:n.common.issues}}catch(a){!((r=(s=a==null?void 0:a.message)===null||s===void 0?void 0:s.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Ut(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,s){const r=await this.safeParseAsync(e,s);if(r.success)return r.data;throw r.error}async safeParseAsync(e,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ot(e)},n=this._parse({data:e,path:r.path,parent:r}),a=await(Hs(n)?n:Promise.resolve(n));return cl(r,a)}refine(e,s){const r=n=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(n):s;return this._refinement((n,a)=>{const o=e(n),l=()=>a.addIssue({code:A.custom,...r(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((r,n)=>e(r)?!0:(n.addIssue(typeof s=="function"?s(r,n):s),!1))}_refinement(e){return new We({schema:this,typeName:H.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Qe.create(this,this._def)}nullable(){return Ct.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ze.create(this)}promise(){return ms.create(this,this._def)}or(e){return Js.create([this,e],this._def)}and(e){return Xs.create(this,e,this._def)}transform(e){return new We({...ee(this._def),schema:this,typeName:H.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new rr({...ee(this._def),innerType:this,defaultValue:s,typeName:H.ZodDefault})}brand(){return new ia({typeName:H.ZodBranded,type:this,...ee(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new nr({...ee(this._def),innerType:this,catchValue:s,typeName:H.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return fr.create(this,e)}readonly(){return ir.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const V0=/^c[^\s-]{8,}$/i,F0=/^[0-9a-z]+$/,L0=/^[0-9A-HJKMNP-TV-Z]{26}$/i,O0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,z0=/^[a-z0-9_-]{21}$/i,B0=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,U0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,q0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Rn;const Z0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,W0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,H0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Y0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,G0=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,K0=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Dd="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",J0=new RegExp(`^${Dd}$`);function Vd(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function X0(t){return new RegExp(`^${Vd(t)}$`)}function Fd(t){let e=`${Dd}T${Vd(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function Q0(t,e){return!!((e==="v4"||!e)&&Z0.test(t)||(e==="v6"||!e)&&H0.test(t))}function ev(t,e){if(!B0.test(t))return!1;try{const[s]=t.split("."),r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(r));return!(typeof n!="object"||n===null||!n.typ||!n.alg||e&&n.alg!==e)}catch{return!1}}function tv(t,e){return!!((e==="v4"||!e)&&W0.test(t)||(e==="v6"||!e)&&Y0.test(t))}class qe extends re{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==D.string){const a=this._getOrReturnCtx(e);return I(a,{code:A.invalid_type,expected:D.string,received:a.parsedType}),Y}const r=new Ae;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),I(n,{code:A.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),I(n,{code:A.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(n=this._getOrReturnCtx(e,n),o?I(n,{code:A.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&I(n,{code:A.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")U0.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"email",code:A.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Rn||(Rn=new RegExp(q0,"u")),Rn.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"emoji",code:A.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")O0.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"uuid",code:A.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")z0.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"nanoid",code:A.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")V0.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"cuid",code:A.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")F0.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"cuid2",code:A.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")L0.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"ulid",code:A.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),I(n,{validation:"url",code:A.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"regex",code:A.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),I(n,{code:A.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),I(n,{code:A.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),I(n,{code:A.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Fd(a).test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{code:A.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?J0.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{code:A.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?X0(a).test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{code:A.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?$0.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"duration",code:A.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Q0(e.data,a.version)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"ip",code:A.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?ev(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"jwt",code:A.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?tv(e.data,a.version)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"cidr",code:A.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?G0.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"base64",code:A.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?K0.test(e.data)||(n=this._getOrReturnCtx(e,n),I(n,{validation:"base64url",code:A.invalid_string,message:a.message}),r.dirty()):oe.assertNever(a);return{status:r.value,value:e.data}}_regex(e,s,r){return this.refinement(n=>e.test(n),{validation:s,code:A.invalid_string,...B.errToObj(r)})}_addCheck(e){return new qe({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...B.errToObj(e)})}url(e){return this._addCheck({kind:"url",...B.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...B.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...B.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...B.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...B.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...B.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...B.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...B.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...B.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...B.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...B.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...B.errToObj(e)})}datetime(e){var s,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(s=e==null?void 0:e.offset)!==null&&s!==void 0?s:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...B.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...B.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...B.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...B.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...B.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...B.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...B.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...B.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...B.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...B.errToObj(s)})}nonempty(e){return this.min(1,B.errToObj(e))}trim(){return new qe({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qe({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qe({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}qe.create=t=>{var e;return new qe({checks:[],typeName:H.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ee(t)})};function sv(t,e){const s=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,n=s>r?s:r,a=parseInt(t.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return a%o/Math.pow(10,n)}class Nt extends re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==D.number){const a=this._getOrReturnCtx(e);return I(a,{code:A.invalid_type,expected:D.number,received:a.parsedType}),Y}let r;const n=new Ae;for(const a of this._def.checks)a.kind==="int"?oe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),I(r,{code:A.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),I(r,{code:A.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),I(r,{code:A.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?sv(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),I(r,{code:A.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),I(r,{code:A.not_finite,message:a.message}),n.dirty()):oe.assertNever(a);return{status:n.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,B.toString(s))}gt(e,s){return this.setLimit("min",e,!1,B.toString(s))}lte(e,s){return this.setLimit("max",e,!0,B.toString(s))}lt(e,s){return this.setLimit("max",e,!1,B.toString(s))}setLimit(e,s,r,n){return new Nt({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:B.toString(n)}]})}_addCheck(e){return new Nt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:B.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:B.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:B.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:B.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:B.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&oe.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(s)&&Number.isFinite(e)}}Nt.create=t=>new Nt({checks:[],typeName:H.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ee(t)});class kt extends re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==D.bigint)return this._getInvalidInput(e);let r;const n=new Ae;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),I(r,{code:A.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),I(r,{code:A.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),I(r,{code:A.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):oe.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return I(s,{code:A.invalid_type,expected:D.bigint,received:s.parsedType}),Y}gte(e,s){return this.setLimit("min",e,!0,B.toString(s))}gt(e,s){return this.setLimit("min",e,!1,B.toString(s))}lte(e,s){return this.setLimit("max",e,!0,B.toString(s))}lt(e,s){return this.setLimit("max",e,!1,B.toString(s))}setLimit(e,s,r,n){return new kt({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:B.toString(n)}]})}_addCheck(e){return new kt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:B.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}kt.create=t=>{var e;return new kt({checks:[],typeName:H.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ee(t)})};class Ys extends re{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==D.boolean){const r=this._getOrReturnCtx(e);return I(r,{code:A.invalid_type,expected:D.boolean,received:r.parsedType}),Y}return Ee(e.data)}}Ys.create=t=>new Ys({typeName:H.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ee(t)});class qt extends re{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==D.date){const a=this._getOrReturnCtx(e);return I(a,{code:A.invalid_type,expected:D.date,received:a.parsedType}),Y}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return I(a,{code:A.invalid_date}),Y}const r=new Ae;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),I(n,{code:A.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),I(n,{code:A.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):oe.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new qt({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:B.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:B.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}qt.create=t=>new qt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:H.ZodDate,...ee(t)});class qr extends re{_parse(e){if(this._getType(e)!==D.symbol){const r=this._getOrReturnCtx(e);return I(r,{code:A.invalid_type,expected:D.symbol,received:r.parsedType}),Y}return Ee(e.data)}}qr.create=t=>new qr({typeName:H.ZodSymbol,...ee(t)});class Gs extends re{_parse(e){if(this._getType(e)!==D.undefined){const r=this._getOrReturnCtx(e);return I(r,{code:A.invalid_type,expected:D.undefined,received:r.parsedType}),Y}return Ee(e.data)}}Gs.create=t=>new Gs({typeName:H.ZodUndefined,...ee(t)});class Ks extends re{_parse(e){if(this._getType(e)!==D.null){const r=this._getOrReturnCtx(e);return I(r,{code:A.invalid_type,expected:D.null,received:r.parsedType}),Y}return Ee(e.data)}}Ks.create=t=>new Ks({typeName:H.ZodNull,...ee(t)});class fs extends re{constructor(){super(...arguments),this._any=!0}_parse(e){return Ee(e.data)}}fs.create=t=>new fs({typeName:H.ZodAny,...ee(t)});class $t extends re{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ee(e.data)}}$t.create=t=>new $t({typeName:H.ZodUnknown,...ee(t)});class ft extends re{_parse(e){const s=this._getOrReturnCtx(e);return I(s,{code:A.invalid_type,expected:D.never,received:s.parsedType}),Y}}ft.create=t=>new ft({typeName:H.ZodNever,...ee(t)});class Zr extends re{_parse(e){if(this._getType(e)!==D.undefined){const r=this._getOrReturnCtx(e);return I(r,{code:A.invalid_type,expected:D.void,received:r.parsedType}),Y}return Ee(e.data)}}Zr.create=t=>new Zr({typeName:H.ZodVoid,...ee(t)});class Ze extends re{_parse(e){const{ctx:s,status:r}=this._processInputParams(e),n=this._def;if(s.parsedType!==D.array)return I(s,{code:A.invalid_type,expected:D.array,received:s.parsedType}),Y;if(n.exactLength!==null){const o=s.data.length>n.exactLength.value,l=s.data.length<n.exactLength.value;(o||l)&&(I(s,{code:o?A.too_big:A.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&(I(s,{code:A.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&(I(s,{code:A.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>n.type._parseAsync(new tt(s,o,s.path,l)))).then(o=>Ae.mergeArray(r,o));const a=[...s.data].map((o,l)=>n.type._parseSync(new tt(s,o,s.path,l)));return Ae.mergeArray(r,a)}get element(){return this._def.type}min(e,s){return new Ze({...this._def,minLength:{value:e,message:B.toString(s)}})}max(e,s){return new Ze({...this._def,maxLength:{value:e,message:B.toString(s)}})}length(e,s){return new Ze({...this._def,exactLength:{value:e,message:B.toString(s)}})}nonempty(e){return this.min(1,e)}}Ze.create=(t,e)=>new Ze({type:t,minLength:null,maxLength:null,exactLength:null,typeName:H.ZodArray,...ee(e)});function Qt(t){if(t instanceof me){const e={};for(const s in t.shape){const r=t.shape[s];e[s]=Qe.create(Qt(r))}return new me({...t._def,shape:()=>e})}else return t instanceof Ze?new Ze({...t._def,type:Qt(t.element)}):t instanceof Qe?Qe.create(Qt(t.unwrap())):t instanceof Ct?Ct.create(Qt(t.unwrap())):t instanceof st?st.create(t.items.map(e=>Qt(e))):t}class me extends re{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=oe.objectKeys(e);return this._cached={shape:e,keys:s}}_parse(e){if(this._getType(e)!==D.object){const d=this._getOrReturnCtx(e);return I(d,{code:A.invalid_type,expected:D.object,received:d.parsedType}),Y}const{status:r,ctx:n}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ft&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new tt(n,h,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof ft){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")l.length>0&&(I(n,{code:A.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new tt(n,h,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>Ae.mergeObjectSync(r,d)):Ae.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return B.errToObj,new me({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,r)=>{var n,a,o,l;const c=(o=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,s,r).message)!==null&&o!==void 0?o:r.defaultError;return s.code==="unrecognized_keys"?{message:(l=B.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new me({...this._def,unknownKeys:"strip"})}passthrough(){return new me({...this._def,unknownKeys:"passthrough"})}extend(e){return new me({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new me({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:H.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new me({...this._def,catchall:e})}pick(e){const s={};return oe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(s[r]=this.shape[r])}),new me({...this._def,shape:()=>s})}omit(e){const s={};return oe.objectKeys(this.shape).forEach(r=>{e[r]||(s[r]=this.shape[r])}),new me({...this._def,shape:()=>s})}deepPartial(){return Qt(this)}partial(e){const s={};return oe.objectKeys(this.shape).forEach(r=>{const n=this.shape[r];e&&!e[r]?s[r]=n:s[r]=n.optional()}),new me({...this._def,shape:()=>s})}required(e){const s={};return oe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])s[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Qe;)a=a._def.innerType;s[r]=a}}),new me({...this._def,shape:()=>s})}keyof(){return Ld(oe.objectKeys(this.shape))}}me.create=(t,e)=>new me({shape:()=>t,unknownKeys:"strip",catchall:ft.create(),typeName:H.ZodObject,...ee(e)});me.strictCreate=(t,e)=>new me({shape:()=>t,unknownKeys:"strict",catchall:ft.create(),typeName:H.ZodObject,...ee(e)});me.lazycreate=(t,e)=>new me({shape:t,unknownKeys:"strip",catchall:ft.create(),typeName:H.ZodObject,...ee(e)});class Js extends re{_parse(e){const{ctx:s}=this._processInputParams(e),r=this._def.options;function n(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Ve(l.ctx.common.issues));return I(s,{code:A.invalid_union,unionErrors:o}),Y}if(s.common.async)return Promise.all(r.map(async a=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(n);{let a;const o=[];for(const c of r){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Ve(c));return I(s,{code:A.invalid_union,unionErrors:l}),Y}}get options(){return this._def.options}}Js.create=(t,e)=>new Js({options:t,typeName:H.ZodUnion,...ee(e)});const at=t=>t instanceof er?at(t.schema):t instanceof We?at(t.innerType()):t instanceof tr?[t.value]:t instanceof _t?t.options:t instanceof sr?oe.objectValues(t.enum):t instanceof rr?at(t._def.innerType):t instanceof Gs?[void 0]:t instanceof Ks?[null]:t instanceof Qe?[void 0,...at(t.unwrap())]:t instanceof Ct?[null,...at(t.unwrap())]:t instanceof ia||t instanceof ir?at(t.unwrap()):t instanceof nr?at(t._def.innerType):[];class nn extends re{_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==D.object)return I(s,{code:A.invalid_type,expected:D.object,received:s.parsedType}),Y;const r=this.discriminator,n=s.data[r],a=this.optionsMap.get(n);return a?s.common.async?a._parseAsync({data:s.data,path:s.path,parent:s}):a._parseSync({data:s.data,path:s.path,parent:s}):(I(s,{code:A.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Y)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,s,r){const n=new Map;for(const a of s){const o=at(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(n.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);n.set(l,a)}}return new nn({typeName:H.ZodDiscriminatedUnion,discriminator:e,options:s,optionsMap:n,...ee(r)})}}function li(t,e){const s=ot(t),r=ot(e);if(t===e)return{valid:!0,data:t};if(s===D.object&&r===D.object){const n=oe.objectKeys(e),a=oe.objectKeys(t).filter(l=>n.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=li(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===D.array&&r===D.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=li(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return s===D.date&&r===D.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Xs extends re{_parse(e){const{status:s,ctx:r}=this._processInputParams(e),n=(a,o)=>{if(ai(a)||ai(o))return Y;const l=li(a.value,o.value);return l.valid?((oi(a)||oi(o))&&s.dirty(),{status:s.value,value:l.data}):(I(r,{code:A.invalid_intersection_types}),Y)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>n(a,o)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Xs.create=(t,e,s)=>new Xs({left:t,right:e,typeName:H.ZodIntersection,...ee(s)});class st extends re{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.array)return I(r,{code:A.invalid_type,expected:D.array,received:r.parsedType}),Y;if(r.data.length<this._def.items.length)return I(r,{code:A.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Y;!this._def.rest&&r.data.length>this._def.items.length&&(I(r,{code:A.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new tt(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>Ae.mergeArray(s,o)):Ae.mergeArray(s,a)}get items(){return this._def.items}rest(e){return new st({...this._def,rest:e})}}st.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new st({items:t,typeName:H.ZodTuple,rest:null,...ee(e)})};class Qs extends re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.object)return I(r,{code:A.invalid_type,expected:D.object,received:r.parsedType}),Y;const n=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)n.push({key:a._parse(new tt(r,l,r.path,l)),value:o._parse(new tt(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Ae.mergeObjectAsync(s,n):Ae.mergeObjectSync(s,n)}get element(){return this._def.valueType}static create(e,s,r){return s instanceof re?new Qs({keyType:e,valueType:s,typeName:H.ZodRecord,...ee(r)}):new Qs({keyType:qe.create(),valueType:e,typeName:H.ZodRecord,...ee(s)})}}class Wr extends re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.map)return I(r,{code:A.invalid_type,expected:D.map,received:r.parsedType}),Y;const n=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:n._parse(new tt(r,l,r.path,[d,"key"])),value:a._parse(new tt(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Y;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Y;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}Wr.create=(t,e,s)=>new Wr({valueType:e,keyType:t,typeName:H.ZodMap,...ee(s)});class Zt extends re{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==D.set)return I(r,{code:A.invalid_type,expected:D.set,received:r.parsedType}),Y;const n=this._def;n.minSize!==null&&r.data.size<n.minSize.value&&(I(r,{code:A.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&r.data.size>n.maxSize.value&&(I(r,{code:A.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Y;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...r.data.values()].map((c,d)=>a._parse(new tt(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,s){return new Zt({...this._def,minSize:{value:e,message:B.toString(s)}})}max(e,s){return new Zt({...this._def,maxSize:{value:e,message:B.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}Zt.create=(t,e)=>new Zt({valueType:t,minSize:null,maxSize:null,typeName:H.ZodSet,...ee(e)});class os extends re{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==D.function)return I(s,{code:A.invalid_type,expected:D.function,received:s.parsedType}),Y;function r(l,c){return $r({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Br(),hs].filter(d=>!!d),issueData:{code:A.invalid_arguments,argumentsError:c}})}function n(l,c){return $r({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Br(),hs].filter(d=>!!d),issueData:{code:A.invalid_return_type,returnTypeError:c}})}const a={errorMap:s.common.contextualErrorMap},o=s.data;if(this._def.returns instanceof ms){const l=this;return Ee(async function(...c){const d=new Ve([]),u=await l._def.args.parseAsync(c,a).catch(p=>{throw d.addIssue(r(c,p)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,a).catch(p=>{throw d.addIssue(n(h,p)),d})})}else{const l=this;return Ee(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new Ve([r(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,a);if(!h.success)throw new Ve([n(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new os({...this._def,args:st.create(e).rest($t.create())})}returns(e){return new os({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,s,r){return new os({args:e||st.create([]).rest($t.create()),returns:s||$t.create(),typeName:H.ZodFunction,...ee(r)})}}class er extends re{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}er.create=(t,e)=>new er({getter:t,typeName:H.ZodLazy,...ee(e)});class tr extends re{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return I(s,{received:s.data,code:A.invalid_literal,expected:this._def.value}),Y}return{status:"valid",value:e.data}}get value(){return this._def.value}}tr.create=(t,e)=>new tr({value:t,typeName:H.ZodLiteral,...ee(e)});function Ld(t,e){return new _t({values:t,typeName:H.ZodEnum,...ee(e)})}class _t extends re{constructor(){super(...arguments),Ts.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),r=this._def.values;return I(s,{expected:oe.joinValues(r),received:s.parsedType,code:A.invalid_type}),Y}if(Ur(this,Ts)||Md(this,Ts,new Set(this._def.values)),!Ur(this,Ts).has(e.data)){const s=this._getOrReturnCtx(e),r=this._def.values;return I(s,{received:s.data,code:A.invalid_enum_value,options:r}),Y}return Ee(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return _t.create(e,{...this._def,...s})}exclude(e,s=this._def){return _t.create(this.options.filter(r=>!e.includes(r)),{...this._def,...s})}}Ts=new WeakMap;_t.create=Ld;class sr extends re{constructor(){super(...arguments),Ps.set(this,void 0)}_parse(e){const s=oe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==D.string&&r.parsedType!==D.number){const n=oe.objectValues(s);return I(r,{expected:oe.joinValues(n),received:r.parsedType,code:A.invalid_type}),Y}if(Ur(this,Ps)||Md(this,Ps,new Set(oe.getValidEnumValues(this._def.values))),!Ur(this,Ps).has(e.data)){const n=oe.objectValues(s);return I(r,{received:r.data,code:A.invalid_enum_value,options:n}),Y}return Ee(e.data)}get enum(){return this._def.values}}Ps=new WeakMap;sr.create=(t,e)=>new sr({values:t,typeName:H.ZodNativeEnum,...ee(e)});class ms extends re{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==D.promise&&s.common.async===!1)return I(s,{code:A.invalid_type,expected:D.promise,received:s.parsedType}),Y;const r=s.parsedType===D.promise?s.data:Promise.resolve(s.data);return Ee(r.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}ms.create=(t,e)=>new ms({type:t,typeName:H.ZodPromise,...ee(e)});class We extends re{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===H.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:r}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:o=>{I(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const o=n.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return Y;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Y:c.status==="dirty"||s.value==="dirty"?as(c.value):c});{if(s.value==="aborted")return Y;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Y:l.status==="dirty"||s.value==="dirty"?as(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Y:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Y:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(n.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ut(o))return o;const l=n.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ut(o)?Promise.resolve(n.transform(o.value,a)).then(l=>({status:s.value,value:l})):o);oe.assertNever(n)}}We.create=(t,e,s)=>new We({schema:t,typeName:H.ZodEffects,effect:e,...ee(s)});We.createWithPreprocess=(t,e,s)=>new We({schema:e,effect:{type:"preprocess",transform:t},typeName:H.ZodEffects,...ee(s)});class Qe extends re{_parse(e){return this._getType(e)===D.undefined?Ee(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qe.create=(t,e)=>new Qe({innerType:t,typeName:H.ZodOptional,...ee(e)});class Ct extends re{_parse(e){return this._getType(e)===D.null?Ee(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ct.create=(t,e)=>new Ct({innerType:t,typeName:H.ZodNullable,...ee(e)});class rr extends re{_parse(e){const{ctx:s}=this._processInputParams(e);let r=s.data;return s.parsedType===D.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}rr.create=(t,e)=>new rr({innerType:t,typeName:H.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ee(e)});class nr extends re{_parse(e){const{ctx:s}=this._processInputParams(e),r={...s,common:{...s.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Hs(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ve(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Ve(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}nr.create=(t,e)=>new nr({innerType:t,typeName:H.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ee(e)});class Hr extends re{_parse(e){if(this._getType(e)!==D.nan){const r=this._getOrReturnCtx(e);return I(r,{code:A.invalid_type,expected:D.nan,received:r.parsedType}),Y}return{status:"valid",value:e.data}}}Hr.create=t=>new Hr({typeName:H.ZodNaN,...ee(t)});const rv=Symbol("zod_brand");class ia extends re{_parse(e){const{ctx:s}=this._processInputParams(e),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class fr extends re{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Y:a.status==="dirty"?(s.dirty(),as(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const n=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?Y:n.status==="dirty"?(s.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:r.path,parent:r})}}static create(e,s){return new fr({in:e,out:s,typeName:H.ZodPipeline})}}class ir extends re{_parse(e){const s=this._def.innerType._parse(e),r=n=>(Ut(n)&&(n.value=Object.freeze(n.value)),n);return Hs(s)?s.then(n=>r(n)):r(s)}unwrap(){return this._def.innerType}}ir.create=(t,e)=>new ir({innerType:t,typeName:H.ZodReadonly,...ee(e)});function dl(t,e){const s=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof s=="string"?{message:s}:s}function Od(t,e={},s){return t?fs.create().superRefine((r,n)=>{var a,o;const l=t(r);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const h=dl(e,r),m=(u=(d=h.fatal)!==null&&d!==void 0?d:s)!==null&&u!==void 0?u:!0;n.addIssue({code:"custom",...h,fatal:m})}});if(!l){const c=dl(e,r),d=(o=(a=c.fatal)!==null&&a!==void 0?a:s)!==null&&o!==void 0?o:!0;n.addIssue({code:"custom",...c,fatal:d})}}):fs.create()}const nv={object:me.lazycreate};var H;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(H||(H={}));const iv=(t,e={message:`Input not instance of ${t.name}`})=>Od(s=>s instanceof t,e),zd=qe.create,Bd=Nt.create,av=Hr.create,ov=kt.create,$d=Ys.create,lv=qt.create,cv=qr.create,dv=Gs.create,uv=Ks.create,hv=fs.create,fv=$t.create,mv=ft.create,pv=Zr.create,gv=Ze.create,xv=me.create,yv=me.strictCreate,vv=Js.create,bv=nn.create,wv=Xs.create,jv=st.create,Nv=Qs.create,kv=Wr.create,_v=Zt.create,Cv=os.create,Sv=er.create,Av=tr.create,Tv=_t.create,Pv=sr.create,Ev=ms.create,ul=We.create,Rv=Qe.create,Iv=Ct.create,Mv=We.createWithPreprocess,Dv=fr.create,Vv=()=>zd().optional(),Fv=()=>Bd().optional(),Lv=()=>$d().optional(),Ov={string:t=>qe.create({...t,coerce:!0}),number:t=>Nt.create({...t,coerce:!0}),boolean:t=>Ys.create({...t,coerce:!0}),bigint:t=>kt.create({...t,coerce:!0}),date:t=>qt.create({...t,coerce:!0})},zv=Y;var Ke=Object.freeze({__proto__:null,defaultErrorMap:hs,setErrorMap:M0,getErrorMap:Br,makeIssue:$r,EMPTY_PATH:D0,addIssueToContext:I,ParseStatus:Ae,INVALID:Y,DIRTY:as,OK:Ee,isAborted:ai,isDirty:oi,isValid:Ut,isAsync:Hs,get util(){return oe},get objectUtil(){return ii},ZodParsedType:D,getParsedType:ot,ZodType:re,datetimeRegex:Fd,ZodString:qe,ZodNumber:Nt,ZodBigInt:kt,ZodBoolean:Ys,ZodDate:qt,ZodSymbol:qr,ZodUndefined:Gs,ZodNull:Ks,ZodAny:fs,ZodUnknown:$t,ZodNever:ft,ZodVoid:Zr,ZodArray:Ze,ZodObject:me,ZodUnion:Js,ZodDiscriminatedUnion:nn,ZodIntersection:Xs,ZodTuple:st,ZodRecord:Qs,ZodMap:Wr,ZodSet:Zt,ZodFunction:os,ZodLazy:er,ZodLiteral:tr,ZodEnum:_t,ZodNativeEnum:sr,ZodPromise:ms,ZodEffects:We,ZodTransformer:We,ZodOptional:Qe,ZodNullable:Ct,ZodDefault:rr,ZodCatch:nr,ZodNaN:Hr,BRAND:rv,ZodBranded:ia,ZodPipeline:fr,ZodReadonly:ir,custom:Od,Schema:re,ZodSchema:re,late:nv,get ZodFirstPartyTypeKind(){return H},coerce:Ov,any:hv,array:gv,bigint:ov,boolean:$d,date:lv,discriminatedUnion:bv,effect:ul,enum:Tv,function:Cv,instanceof:iv,intersection:wv,lazy:Sv,literal:Av,map:kv,nan:av,nativeEnum:Pv,never:mv,null:uv,nullable:Iv,number:Bd,object:xv,oboolean:Lv,onumber:Fv,optional:Rv,ostring:Vv,pipeline:Dv,preprocess:Mv,promise:Ev,record:Nv,set:_v,strictObject:yv,string:zd,symbol:cv,transformer:ul,tuple:jv,undefined:dv,union:vv,unknown:fv,void:pv,NEVER:zv,ZodIssueCode:A,quotelessJson:I0,ZodError:Ve});const et=f.forwardRef(({label:t,error:e,className:s="",...r},n)=>i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-zinc-300",children:t}),i.jsx("input",{ref:n,className:`
            w-full px-4 py-3 rounded-lg focus:outline-none transition-all duration-200
            bg-zinc-800/50
            border border-[#F7C948]/20
            text-white
            placeholder-zinc-500
            ${e?"border-red-500 focus:ring-1 focus:ring-red-500/30":"focus:ring-1 focus:ring-[#F7C948]/30 focus:border-[#F7C948]/30 hover:border-[#F7C948]/30"}
            ${s}
          `,...r}),e&&i.jsx("p",{className:"text-sm text-red-500 dark:text-red-400",children:e})]}));et.displayName="Input";const Ud=({to:t,className:e=""})=>{const s=Wt(),r=()=>{s(t||-1)};return i.jsxs("button",{onClick:r,className:`inline-flex items-center text-zinc-600 dark:text-zinc-400 hover:text-primary dark:hover:text-primary transition-colors ${e}`,children:[i.jsx(fi,{className:"w-5 h-5 mr-1"}),i.jsx("span",{children:"Back"})]})},Bv=Ke.object({email:Ke.string().email("Please enter a valid email"),password:Ke.string().min(6,"Password must be at least 6 characters"),rememberMe:Ke.boolean().optional()}),$v=()=>{var u,h;const t=Wt(),{signIn:e,isLoading:s,error:r}=Be(),[n,a]=ae.useState(null),{register:o,handleSubmit:l,formState:{errors:c}}=us({resolver:na(Bv),defaultValues:{email:"",password:"",rememberMe:!1}}),d=async m=>{try{a(null),await e(m.email,m.password),t("/dashboard")}catch(p){console.error("Sign in error:",p),a("Failed to sign in. Please check your credentials.")}};return ae.useEffect(()=>{r&&a(r)},[r]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-50 dark:bg-zinc-900 px-4 transition-colors",children:i.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-zinc-800 p-8 rounded-xl shadow-lg dark:shadow-zinc-900/50 border border-zinc-200 dark:border-zinc-700",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsx(Ud,{}),i.jsx("div",{className:"bg-primary p-2 rounded-xl inline-flex",children:i.jsx(ze,{className:"w-6 h-6 text-white"})})]}),i.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-white text-center",children:"Welcome Back!"}),i.jsx("p",{className:"mt-2 text-zinc-600 dark:text-zinc-400 text-center",children:"Sign in to continue your journey."}),i.jsx("div",{className:"mt-4 flex flex-col items-center space-y-3",children:i.jsxs(le,{to:"/about",className:"inline-flex items-center text-sm text-zinc-600 dark:text-zinc-400 hover:text-primary dark:hover:text-primary transition-colors",children:[i.jsx(bl,{className:"w-4 h-4 mr-1"}),"Learn more about AI CABY"]})})]}),n&&i.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-4",children:i.jsx("p",{className:"text-sm text-red-600",children:n})}),i.jsxs("form",{onSubmit:l(d),className:"space-y-6",children:[i.jsx(et,{label:"Email",type:"email",...o("email"),error:(u=c.email)==null?void 0:u.message,disabled:s}),i.jsx(et,{label:"Password",type:"password",...o("password"),error:(h=c.password)==null?void 0:h.message,disabled:s}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",...o("rememberMe"),id:"remember-me",className:"h-4 w-4 text-primary focus:ring-primary/20 border-zinc-300 dark:border-zinc-600 rounded"}),i.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-zinc-600 dark:text-zinc-400",children:"Remember me"})]}),i.jsx(le,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/90 hover:underline transition-colors",children:"Forgot password?"})]}),i.jsx("button",{type:"submit",disabled:s,className:`w-full py-3 px-4 text-black rounded-lg transition-all duration-200 ${s?"bg-primary/70 cursor-not-allowed":"bg-primary hover:bg-primary/90 hover:shadow-lg"}`,children:s?i.jsxs("span",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-black",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),i.jsxs("p",{className:"text-center text-sm text-zinc-600 dark:text-zinc-400 mt-6",children:["Don't have an account?"," ",i.jsx(le,{to:"/signup",className:"text-primary hover:text-primary/90 font-medium transition-colors",children:"Sign up"})]})]})})},qd=({type:t,message:e,duration:s=5e3,onClose:r})=>{const[n,a]=f.useState(!0);if(f.useEffect(()=>{if(s>0){const c=setTimeout(()=>{a(!1),r==null||r()},s);return()=>clearTimeout(c)}},[s,r]),!n)return null;const o={success:"bg-green-50 border-green-500 text-green-700",error:"bg-red-50 border-red-500 text-red-700",info:"bg-blue-50 border-blue-500 text-blue-700"}[t],l={success:"text-green-400",error:"text-red-400",info:"text-blue-400"}[t];return i.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md animate-fade-in",children:i.jsxs("div",{className:`${o} border-l-4 p-4 rounded-r shadow-md flex items-start`,role:"alert",children:[i.jsxs("div",{className:"flex-shrink-0",children:[t==="success"&&i.jsx("svg",{className:`h-5 w-5 ${l}`,viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t==="error"&&i.jsx("svg",{className:`h-5 w-5 ${l}`,viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),t==="info"&&i.jsx("svg",{className:`h-5 w-5 ${l}`,viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})]}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm",children:e})}),i.jsxs("button",{onClick:()=>{a(!1),r==null||r()},className:`ml-auto -mx-1.5 -my-1.5 rounded-lg focus:ring-2 p-1.5 inline-flex h-8 w-8 ${t==="success"?"hover:bg-green-100 focus:ring-green-400":t==="error"?"hover:bg-red-100 focus:ring-red-400":"hover:bg-blue-100 focus:ring-blue-400"}`,children:[i.jsx("span",{className:"sr-only",children:"Close"}),i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})})},Uv=Ke.object({email:Ke.string().email("Please enter a valid email"),password:Ke.string().min(6,"Password must be at least 6 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:Ke.string()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),hl=()=>{var u,h,m;const{signUp:t,isLoading:e,error:s}=Be(),[r,n]=f.useState(!1),{register:a,handleSubmit:o,reset:l,formState:{errors:c}}=us({resolver:na(Uv),defaultValues:{email:"",password:"",confirmPassword:""}}),d=async p=>{try{await t(p.email,p.password),n(!0),l()}catch(g){console.error("Sign up error:",g)}};return i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-zinc-50 dark:bg-zinc-900 px-4 transition-colors",children:[r&&i.jsx(qd,{type:"info",message:"Please check your email to verify your account. You'll need to verify your email before you can sign in.",duration:1e4,onClose:()=>n(!1)}),i.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-zinc-800 p-8 rounded-xl shadow-lg dark:shadow-zinc-900/50 border border-zinc-200 dark:border-zinc-700",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsx(Ud,{}),i.jsx("div",{className:"bg-primary p-2 rounded-xl inline-flex",children:i.jsx(ze,{className:"w-6 h-6 text-white"})})]}),i.jsx("h2",{className:"text-3xl font-bold text-zinc-900 dark:text-white text-center",children:"Get Started!"}),i.jsx("p",{className:"mt-2 text-zinc-600 dark:text-zinc-400 text-center",children:"Create your account to begin."}),i.jsx("div",{className:"mt-4 flex flex-col items-center space-y-3",children:i.jsxs(le,{to:"/about",className:"inline-flex items-center text-sm text-zinc-600 dark:text-zinc-400 hover:text-primary dark:hover:text-primary transition-colors",children:[i.jsx(bl,{className:"w-4 h-4 mr-1"}),"Learn more about AI CABY"]})})]}),s&&i.jsx("div",{className:"bg-red-50 dark:bg-red-500/10 text-red-500 dark:text-red-400 p-4 rounded-lg text-sm",children:s}),i.jsxs("form",{onSubmit:o(d),className:"space-y-6",children:[i.jsx(et,{label:"Email",type:"email",...a("email"),error:(u=c.email)==null?void 0:u.message,disabled:e}),i.jsx(et,{label:"Password",type:"password",...a("password"),error:(h=c.password)==null?void 0:h.message,disabled:e}),i.jsx(et,{label:"Confirm Password",type:"password",...a("confirmPassword"),error:(m=c.confirmPassword)==null?void 0:m.message,disabled:e}),i.jsx("button",{type:"submit",disabled:e,className:"w-full bg-primary text-black py-3 px-6 rounded-lg font-medium hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Creating account...":"Create Account"})]}),i.jsxs("p",{className:"text-center text-zinc-600 dark:text-zinc-400",children:["Already have an account?"," ",i.jsx(le,{to:"/signin",className:"text-primary hover:text-primary/90 hover:underline transition-colors",children:"Sign in"})]}),i.jsxs("p",{className:"text-center text-xs text-zinc-500 dark:text-zinc-400 mt-4",children:["By signing up, you agree to our"," ",i.jsx(le,{to:"/driver/docs?tab=mediation",className:"text-primary hover:text-primary/90 hover:underline transition-colors",children:"Terms of Service"})," ","and"," ",i.jsx(le,{to:"/driver/docs?tab=guidelines",className:"text-primary hover:text-primary/90 hover:underline transition-colors",children:"Privacy Policy"})]})]})]})},qv=Ke.object({email:Ke.string().email("Please enter a valid email")}),Zv=()=>{var d;const{resetPassword:t,isLoading:e,error:s}=Be(),[r,n]=f.useState(!1),{register:a,handleSubmit:o,formState:{errors:l}}=us({resolver:na(qv),defaultValues:{email:""}}),c=async u=>{try{await t(u.email),n(!0)}catch(h){console.error("Password reset error:",h)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-zinc-100 to-white px-4",children:i.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg border border-zinc-200",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[i.jsx("div",{className:"bg-yellow-500 p-2 rounded-xl inline-flex",children:i.jsx(ze,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-2xl font-bold text-zinc-900",children:"AI CABY"})]}),i.jsx("h2",{className:"text-3xl font-bold text-zinc-900",children:"Reset Password"}),i.jsx("p",{className:"mt-2 text-zinc-600",children:"Enter your email to receive a password reset link."})]}),r&&i.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-green-600",children:"Password reset link has been sent to your email. Please check your inbox."})}),s&&i.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600",children:s})}),i.jsxs("form",{onSubmit:o(c),className:"space-y-6",children:[i.jsx(et,{label:"Email",type:"email",...a("email"),error:(d=l.email)==null?void 0:d.message,disabled:e}),i.jsx("button",{type:"submit",disabled:e,className:"w-full bg-yellow-500 text-white py-3 px-6 rounded-lg font-medium hover:bg-yellow-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Sending Reset Link...":"Send Reset Link"})]}),i.jsxs("p",{className:"text-center text-zinc-600",children:["Remember your password?"," ",i.jsx(le,{to:"/signin",className:"text-yellow-500 hover:text-yellow-600 hover:underline",children:"Sign in"})]})]})})};function aa(t,e=[]){let s=[];function r(a,o){const l=f.createContext(o),c=s.length;s=[...s,o];const d=h=>{var j;const{scope:m,children:p,...g}=h,x=((j=m==null?void 0:m[t])==null?void 0:j[c])||l,b=f.useMemo(()=>g,Object.values(g));return i.jsx(x.Provider,{value:b,children:p})};d.displayName=a+"Provider";function u(h,m){var x;const p=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,g=f.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const n=()=>{const a=s.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[r,Wv(n,...e)]}function Wv(...t){const e=t[0];if(t.length===1)return e;const s=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return s.scopeName=e.scopeName,s}function Hv(t){const e=t+"CollectionProvider",[s,r]=aa(e),[n,a]=s(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:g,children:x}=p,b=ae.useRef(null),j=ae.useRef(new Map).current;return i.jsx(n,{scope:g,itemMap:j,collectionRef:b,children:x})};o.displayName=e;const l=t+"CollectionSlot",c=ae.forwardRef((p,g)=>{const{scope:x,children:b}=p,j=a(l,x),v=qs(g,j.collectionRef);return i.jsx(Zs,{ref:v,children:b})});c.displayName=l;const d=t+"CollectionItemSlot",u="data-radix-collection-item",h=ae.forwardRef((p,g)=>{const{scope:x,children:b,...j}=p,v=ae.useRef(null),k=qs(g,v),T=a(d,x);return ae.useEffect(()=>(T.itemMap.set(v,{ref:v,...j}),()=>void T.itemMap.delete(v))),i.jsx(Zs,{[u]:"",ref:k,children:b})});h.displayName=d;function m(p){const g=a(t+"CollectionConsumer",p);return ae.useCallback(()=>{const b=g.collectionRef.current;if(!b)return[];const j=Array.from(b.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((T,C)=>j.indexOf(T.ref.current)-j.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},m,r]}function Zd(t,e,{checkForDefaultPrevented:s=!0}={}){return function(n){if(t==null||t(n),s===!1||!n.defaultPrevented)return e==null?void 0:e(n)}}function Wd(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...s)=>{var r;return(r=e.current)==null?void 0:r.call(e,...s)},[])}function oa({prop:t,defaultProp:e,onChange:s=()=>{}}){const[r,n]=Yv({defaultProp:e,onChange:s}),a=t!==void 0,o=a?t:r,l=Wd(s),c=f.useCallback(d=>{if(a){const h=typeof d=="function"?d(t):d;h!==t&&l(h)}else n(d)},[a,t,n,l]);return[o,c]}function Yv({defaultProp:t,onChange:e}){const s=f.useState(t),[r]=s,n=f.useRef(r),a=Wd(e);return f.useEffect(()=>{n.current!==r&&(a(r),n.current=r)},[r,n,a]),s}var Gv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],mr=Gv.reduce((t,e)=>{const s=f.forwardRef((r,n)=>{const{asChild:a,...o}=r,l=a?Zs:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:n})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),Yr=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{};function Kv(t,e){return f.useReducer((s,r)=>e[s][r]??s,t)}var Hd=t=>{const{present:e,children:s}=t,r=Jv(e),n=typeof s=="function"?s({present:r.isPresent}):f.Children.only(s),a=qs(r.ref,Xv(n));return typeof s=="function"||r.isPresent?f.cloneElement(n,{ref:a}):null};Hd.displayName="Presence";function Jv(t){const[e,s]=f.useState(),r=f.useRef({}),n=f.useRef(t),a=f.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Kv(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=kr(r.current);a.current=l==="mounted"?d:"none"},[l]),Yr(()=>{const d=r.current,u=n.current;if(u!==t){const m=a.current,p=kr(d);t?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==p?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,c]),Yr(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=p=>{const x=kr(r.current).includes(p.animationName);if(p.target===e&&x&&(c("ANIMATION_END"),!n.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=p=>{p.target===e&&(a.current=kr(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{d&&(r.current=getComputedStyle(d)),s(d)},[])}}function kr(t){return(t==null?void 0:t.animationName)||"none"}function Xv(t){var r,n;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?t.ref:(e=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var Qv=ku.useId||(()=>{}),eb=0;function Yd(t){const[e,s]=f.useState(Qv());return Yr(()=>{s(r=>r??String(eb++))},[t]),e?`radix-${e}`:""}var la="Collapsible",[tb,Gd]=aa(la),[sb,ca]=tb(la),Kd=f.forwardRef((t,e)=>{const{__scopeCollapsible:s,open:r,defaultOpen:n,disabled:a,onOpenChange:o,...l}=t,[c=!1,d]=oa({prop:r,defaultProp:n,onChange:o});return i.jsx(sb,{scope:s,disabled:a,contentId:Yd(),open:c,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),children:i.jsx(mr.div,{"data-state":ua(c),"data-disabled":a?"":void 0,...l,ref:e})})});Kd.displayName=la;var Jd="CollapsibleTrigger",Xd=f.forwardRef((t,e)=>{const{__scopeCollapsible:s,...r}=t,n=ca(Jd,s);return i.jsx(mr.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":ua(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...r,ref:e,onClick:Zd(t.onClick,n.onOpenToggle)})});Xd.displayName=Jd;var da="CollapsibleContent",Qd=f.forwardRef((t,e)=>{const{forceMount:s,...r}=t,n=ca(da,t.__scopeCollapsible);return i.jsx(Hd,{present:s||n.open,children:({present:a})=>i.jsx(rb,{...r,ref:e,present:a})})});Qd.displayName=da;var rb=f.forwardRef((t,e)=>{const{__scopeCollapsible:s,present:r,children:n,...a}=t,o=ca(da,s),[l,c]=f.useState(r),d=f.useRef(null),u=qs(e,d),h=f.useRef(0),m=h.current,p=f.useRef(0),g=p.current,x=o.open||l,b=f.useRef(x),j=f.useRef(void 0);return f.useEffect(()=>{const v=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(v)},[]),Yr(()=>{const v=d.current;if(v){j.current=j.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const k=v.getBoundingClientRect();h.current=k.height,p.current=k.width,b.current||(v.style.transitionDuration=j.current.transitionDuration,v.style.animationName=j.current.animationName),c(r)}},[o.open,r]),i.jsx(mr.div,{"data-state":ua(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...a,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:x&&n})});function ua(t){return t?"open":"closed"}var nb=Kd,ib=Xd,ab=Qd,ob=f.createContext(void 0);function lb(t){const e=f.useContext(ob);return t||e||"ltr"}var mt="Accordion",cb=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ha,db,ub]=Hv(mt),[an,ww]=aa(mt,[ub,Gd]),fa=Gd(),eu=ae.forwardRef((t,e)=>{const{type:s,...r}=t,n=r,a=r;return i.jsx(ha.Provider,{scope:t.__scopeAccordion,children:s==="multiple"?i.jsx(pb,{...a,ref:e}):i.jsx(mb,{...n,ref:e})})});eu.displayName=mt;var[tu,hb]=an(mt),[su,fb]=an(mt,{collapsible:!1}),mb=ae.forwardRef((t,e)=>{const{value:s,defaultValue:r,onValueChange:n=()=>{},collapsible:a=!1,...o}=t,[l,c]=oa({prop:s,defaultProp:r,onChange:n});return i.jsx(tu,{scope:t.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:ae.useCallback(()=>a&&c(""),[a,c]),children:i.jsx(su,{scope:t.__scopeAccordion,collapsible:a,children:i.jsx(ru,{...o,ref:e})})})}),pb=ae.forwardRef((t,e)=>{const{value:s,defaultValue:r,onValueChange:n=()=>{},...a}=t,[o=[],l]=oa({prop:s,defaultProp:r,onChange:n}),c=ae.useCallback(u=>l((h=[])=>[...h,u]),[l]),d=ae.useCallback(u=>l((h=[])=>h.filter(m=>m!==u)),[l]);return i.jsx(tu,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:i.jsx(su,{scope:t.__scopeAccordion,collapsible:!0,children:i.jsx(ru,{...a,ref:e})})})}),[gb,on]=an(mt),ru=ae.forwardRef((t,e)=>{const{__scopeAccordion:s,disabled:r,dir:n,orientation:a="vertical",...o}=t,l=ae.useRef(null),c=qs(l,e),d=db(s),h=lb(n)==="ltr",m=Zd(t.onKeyDown,p=>{var F;if(!cb.includes(p.key))return;const g=p.target,x=d().filter(X=>{var K;return!((K=X.ref.current)!=null&&K.disabled)}),b=x.findIndex(X=>X.ref.current===g),j=x.length;if(b===-1)return;p.preventDefault();let v=b;const k=0,T=j-1,C=()=>{v=b+1,v>T&&(v=k)},w=()=>{v=b-1,v<k&&(v=T)};switch(p.key){case"Home":v=k;break;case"End":v=T;break;case"ArrowRight":a==="horizontal"&&(h?C():w());break;case"ArrowDown":a==="vertical"&&C();break;case"ArrowLeft":a==="horizontal"&&(h?w():C());break;case"ArrowUp":a==="vertical"&&w();break}const P=v%j;(F=x[P].ref.current)==null||F.focus()});return i.jsx(gb,{scope:s,disabled:r,direction:n,orientation:a,children:i.jsx(ha.Slot,{scope:s,children:i.jsx(mr.div,{...o,"data-orientation":a,ref:c,onKeyDown:r?void 0:m})})})}),Gr="AccordionItem",[xb,ma]=an(Gr),nu=ae.forwardRef((t,e)=>{const{__scopeAccordion:s,value:r,...n}=t,a=on(Gr,s),o=hb(Gr,s),l=fa(s),c=Yd(),d=r&&o.value.includes(r)||!1,u=a.disabled||t.disabled;return i.jsx(xb,{scope:s,open:d,disabled:u,triggerId:c,children:i.jsx(nb,{"data-orientation":a.orientation,"data-state":du(d),...l,...n,ref:e,disabled:u,open:d,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});nu.displayName=Gr;var iu="AccordionHeader",au=ae.forwardRef((t,e)=>{const{__scopeAccordion:s,...r}=t,n=on(mt,s),a=ma(iu,s);return i.jsx(mr.h3,{"data-orientation":n.orientation,"data-state":du(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:e})});au.displayName=iu;var ci="AccordionTrigger",ou=ae.forwardRef((t,e)=>{const{__scopeAccordion:s,...r}=t,n=on(mt,s),a=ma(ci,s),o=fb(ci,s),l=fa(s);return i.jsx(ha.ItemSlot,{scope:s,children:i.jsx(ib,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":n.orientation,id:a.triggerId,...l,...r,ref:e})})});ou.displayName=ci;var lu="AccordionContent",cu=ae.forwardRef((t,e)=>{const{__scopeAccordion:s,...r}=t,n=on(mt,s),a=ma(lu,s),o=fa(s);return i.jsx(ab,{role:"region","aria-labelledby":a.triggerId,"data-orientation":n.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});cu.displayName=lu;function du(t){return t?"open":"closed"}var yb=eu,vb=nu,bb=au,wb=ou,jb=cu;const Nb=yb,uu=f.forwardRef(({className:t,...e},s)=>i.jsx(vb,{ref:s,className:hr("border-b",t),...e}));uu.displayName="AccordionItem";const hu=f.forwardRef(({className:t,children:e,...s},r)=>i.jsx(bb,{className:"flex",children:i.jsxs(wb,{ref:r,className:hr("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...s,children:[e,i.jsx(Gu,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));hu.displayName="AccordionTrigger";const fu=f.forwardRef(({className:t,children:e,...s},r)=>i.jsx(jb,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:i.jsx("div",{className:hr("pb-4 pt-0",t),children:e})}));fu.displayName="AccordionContent";const kb=({faqs:t,title:e})=>i.jsxs("div",{className:"w-full max-w-3xl mx-auto",children:[e&&i.jsx("h2",{className:"text-2xl font-bold mb-6",children:e}),i.jsx(Nb,{type:"single",collapsible:!0,className:"w-full",children:t.map((s,r)=>i.jsxs(uu,{value:`item-${r}`,children:[i.jsx(hu,{className:"text-left",children:s.question}),i.jsx(fu,{children:i.jsx("div",{className:"prose prose-invert max-w-none",children:s.answer})})]},r))})]}),_b=[{question:"How do I get started as a driver?",answer:"To get started as a driver, you'll need to: 1) Sign up for an account, 2) Complete your profile with required documents, 3) Pass our verification process, and 4) Start accepting rides."},{question:"What documents do I need to provide?",answer:"You'll need to provide: Valid driver's license, Vehicle registration (if using your own vehicle), Proof of insurance, and A clear profile photo."},{question:"How do I get paid?",answer:"Payments are processed weekly and deposited directly to your linked bank account. You can also view your earnings in real-time through the driver dashboard."},{question:"What are the vehicle requirements?",answer:"Your vehicle must be: Less than 10 years old, Have 4 doors, Pass a vehicle inspection, Have working AC and heating, and Be clean and well-maintained."},{question:"How does the rating system work?",answer:"Passengers rate their experience from 1-5 stars after each ride. Maintaining a high rating is important - drivers must maintain at least a 4.6 average to continue driving."},{question:"What safety measures are in place?",answer:"We prioritize safety with: Real-time GPS tracking, 24/7 support, Emergency assistance button, Two-way rating system, and Comprehensive insurance coverage during rides."},{question:"Can I set my own schedule?",answer:"Yes! You have complete flexibility to choose when you want to drive. Log in to the app whenever you're ready to start accepting rides."},{question:"What fees does AICABY charge?",answer:"AICABY takes a percentage of each fare to cover platform costs, payment processing, and insurance. The exact percentage varies by region and is clearly shown in your driver agreement."},{question:"How do you guarantee you'll never switch to a commission-based model in the future?",answer:"Our commitment to a driver-first philosophy is unwavering. We firmly believe that drivers should keep 100% of their earnings. A shift to a commission-based model would contradict this core principle. Instead, we've built our platform around a fixed service fee of just 1.5 per trip, ensuring predictable costs for drivers and sustainable growth for our platformno matter the price of the ride. This approach guarantees transparency and fairness, and it's a promise we'll always uphold."},{question:"How do you guarantee the safety of both drivers and passengers?",answer:"Safety is a top priority for us. We have several safety measures in place, including verified driver profiles, ride tracking, and an emergency SOS button for both drivers and passengers. We also conduct thorough background checks on all drivers to ensure a secure environment for everyone. Additionally, we encourage passengers to share their ride details with family or friends, and we monitor ride data to respond quickly in case of emergencies."},{question:"How do you plan to attract customers to the platform?",answer:"We have a multi-faceted strategy for growing our user base. Initially, we're offering exclusive discounts for drivers who join early, and we're encouraging word-of-mouth marketing through driver referrals. We're also investing in digital marketing campaigns and partnerships with local businesses. Plus, by providing drivers with full control of their earnings, we believe drivers will be motivated to promote AICABY to their passengers."},{question:"What happens if the platform doesn't get enough passengers?",answer:"We're actively working on both sides of the equationbringing in drivers and passengers. To address potential gaps, we will offer marketing incentives and promotions to encourage passengers to try our platform. Drivers can also continue using other apps like Uber or Bolt while benefiting from AICABY as an additional source of income."},{question:"How does your platform ensure fair pricing for passengers and competitive earnings for drivers?",answer:"We use a market price algorithm to ensure that both passengers pay a fair price and drivers earn competitively. The algorithm dynamically adjusts prices based on factors like demand, location, and time of day, so passengers are charged appropriately, while drivers are compensated based on current market conditions. This ensures a balanced and fair experience for both parties, keeping the system efficient and sustainable for everyone."},{question:"How do you ensure passengers will choose AICABY over established platforms like Uber or Bolt?",answer:"Our driver-focused model means drivers have more incentive to deliver excellent service, which we believe will translate into a better experience for passengers. Additionally, with features like flexible payment options and real-time driver communication, passengers will find our platform user-friendly and affordable. Our competitive rates and commitment to passenger safety also make us a compelling choice."},{question:"What payment methods are supported, and how are drivers paid?",answer:"We support multiple payment methods, including Cash, Tikkie, and Pin. Drivers can decide how they want to be paid by passengers, giving them full control over the process. Payments are made directly from the passenger to the driverAICABY does not collect or hold any funds, ensuring quick and hassle-free transactions."},{question:"What measures are in place to resolve disputes between drivers and passengers?",answer:"In the rare case of disputes, we have a customer support team that handles both driver and passenger complaints. We encourage passengers and drivers to rate each other after rides, and consistent poor behavior from either party could lead to removal from the platform. We also provide a clear process for reviewing any issues and take action based on the situation's merits."},{question:"How do you handle customer support for drivers and passengers?",answer:"We provide 24/7 customer support via multiple channels, including chat, email, and phone. Drivers and passengers can contact us directly for any issues regarding the app, payments, or ride disputes. Our goal is to ensure that both drivers and passengers feel supported and can quickly resolve any problems they encounter."},{question:"Can drivers use AICABY alongside other platforms like Uber or Bolt?",answer:"Absolutely. AICABY is designed to be flexible. Drivers can continue using Uber, Bolt, or any other platform while also accepting rides on AICABY. We want to offer drivers an additional tool that helps them earn more, not restrict them from using other apps."},{question:"What are the main benefits for drivers using AICABY over other platforms?",answer:"The biggest benefit is that drivers keep 100% of their earnings. With other platforms, drivers often lose 20-25% to commission fees. We also offer more flexibility in terms of payment methods, and drivers can set their own pricing within the app's guidelines."},{question:"How is pricing for rides determined?",answer:"Pricing is based on several factors including distance, time, and driver availability. Drivers can also negotiate fees for special requests, like longer waiting times or multiple stops, directly with passengers."},{question:"What features does AICABY offer to help drivers work more efficiently?",answer:`We've built several driver-focused features into the app, including a "Return Ride" feature that allows drivers to pick up passengers on their way back from a drop-off, ensuring fewer empty trips. We also offer radar detection tools to help drivers avoid speed traps in unfamiliar areas, and an easy-to-use interface for managing payments, earnings, and rides.`},{question:"What happens if the app or platform encounters technical issues?",answer:"Our team is dedicated to providing a smooth and reliable experience for all users. However, if technical issues do arise, we have a dedicated tech support team ready to address them 24/7. We also offer a status page where drivers and passengers can check for any known issues and updates."},{question:"How do you handle background checks and driver verification?",answer:"All drivers are required to undergo a thorough background check before joining AICABY. This includes verifying identity, checking driving records, and ensuring they meet all local requirements for rideshare drivers. We take safety very seriously and want to make sure passengers are always in safe hands."}],Cb=()=>{const[t]=_u(),[e,s]=f.useState("faq");f.useEffect(()=>{const o=t.get("tab");o&&(o==="faq"||o==="mediation"||o==="refund"||o==="guidelines")&&s(o)},[t]);const[r,n]=f.useState(null),a=o=>{try{s(o)}catch(l){n("An error occurred while switching tabs"),console.error("Tab switch error:",l)}};return r?i.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:i.jsxs("div",{className:"text-red-500 p-8 bg-red-50 rounded-lg shadow-lg",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Error"}),i.jsx("p",{children:r}),i.jsx("button",{onClick:()=>n(null),className:"mt-4 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"Try Again"})]})}):i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsxs("nav",{className:"px-6 py-4 flex justify-between items-center bg-zinc-900/90 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"bg-yellow-500 p-2 rounded-xl",children:i.jsx(ze,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-white text-xl font-bold",children:"AI CABY"})]}),i.jsxs(le,{to:"/driver",className:"flex items-center space-x-2 text-zinc-400 hover:text-yellow-500 transition-colors",children:[i.jsx(fi,{className:"w-5 h-5"}),i.jsx("span",{children:"Back to Driver Page"})]})]}),i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-zinc-900 mb-8",children:"Documentation"}),i.jsxs("div",{className:"flex space-x-4 mb-8 border-b border-zinc-200",children:[i.jsx("button",{onClick:()=>a("faq"),className:"py-4 px-6 font-medium transition-colors "+(e==="faq"?"text-yellow-500 border-b-2 border-yellow-500":"text-zinc-600 hover:text-yellow-500"),children:"FAQ"}),i.jsx("button",{onClick:()=>a("mediation"),className:"py-4 px-6 font-medium transition-colors "+(e==="mediation"?"text-yellow-500 border-b-2 border-yellow-500":"text-zinc-600 hover:text-yellow-500"),children:"Mediation Terms"}),i.jsx("button",{onClick:()=>a("refund"),className:"py-4 px-6 font-medium transition-colors "+(e==="refund"?"text-yellow-500 border-b-2 border-yellow-500":"text-zinc-600 hover:text-yellow-500"),children:"Refund Policy"}),i.jsx("button",{onClick:()=>a("guidelines"),className:"py-4 px-6 font-medium transition-colors "+(e==="guidelines"?"text-yellow-500 border-b-2 border-yellow-500":"text-zinc-600 hover:text-yellow-500"),children:"Community Guidelines"})]}),e==="faq"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-zinc-900 mb-8",children:"Frequently Asked Questions"}),i.jsx(kb,{faqs:_b})]}),e==="mediation"&&i.jsxs("div",{className:"prose prose-zinc max-w-none",children:[i.jsx("h2",{className:"text-3xl font-bold text-zinc-900 mb-8",children:"AICABY Mediation by Support Team - Terms and Conditions"}),i.jsx("p",{className:"text-zinc-600 mb-8",children:"These Terms and Conditions govern the process of mediation by the AICABY Support Team for resolving disputes between drivers and passengers on the AICABY platform. By agreeing to use AICABY's services, both drivers and passengers acknowledge and agree to the following terms when a dispute arises:"}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"1. Scope of Mediation"}),i.jsx("p",{className:"text-zinc-600 mb-4",children:"The Mediation by Support Team process applies to disputes related to:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-8 text-zinc-600",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Fare disputes"}),": Any disagreement regarding the fare charged or agreed upon."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Service quality"}),": Issues concerning the quality of the ride, vehicle condition, or driver/passenger behavior."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment issues"}),": Discrepancies in the payment method or amount agreed upon before the ride."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cancellations"}),": Disputes arising from cancellations or failure to meet agreed-upon pickup terms."]})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"2. Submission of Evidence"}),i.jsx("p",{className:"text-zinc-600 mb-4",children:"Both the driver and the passenger must provide supporting evidence related to the dispute, including but not limited to:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-8 text-zinc-600",children:[i.jsx("li",{children:"Screenshots of in-app conversations."}),i.jsx("li",{children:"Photos documenting any issues (e.g., vehicle condition or damages)."}),i.jsx("li",{children:"Detailed explanations of the events leading to the dispute."}),i.jsx("li",{children:"Ride details, including GPS tracking, fare breakdown, and communication logs."})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"3. Mediation Process"}),i.jsx("p",{className:"text-zinc-600 mb-4",children:"Upon receiving a dispute:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-8 text-zinc-600",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Review of Evidence"}),": The AICABY Mediation Team will carefully review the evidence provided by both parties."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Communication"}),": The Mediation Team may contact either party for further clarification or additional information."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Resolution Timeline"}),": AICABY aims to resolve disputes within 3-5 business days."]})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"4. Contact Information"}),i.jsx("p",{className:"text-zinc-600 mb-4",children:"For any questions or concerns related to the Mediation by Support Team process, please contact us at:"}),i.jsxs("p",{className:"text-zinc-600",children:["Email:"," ",i.jsx("a",{href:"mailto:support@aicaby.com",className:"text-yellow-500 hover:text-yellow-600 hover:underline",children:"support@aicaby.com"})]})]}),e==="refund"&&i.jsxs("div",{className:"prose prose-zinc max-w-none",children:[i.jsx("h2",{className:"text-3xl font-bold text-zinc-900 mb-8",children:"AICABY Refund Policy"}),i.jsx("p",{className:"text-zinc-600 mb-8",children:"At AICABY, we are committed to providing a fair, transparent, and efficient platform for both drivers and passengers. Since AICABY is a peer-to-peer platform, drivers and passengers are responsible for mutually agreeing on the terms of each ride before it starts. This includes fare, payment method, and any special requests."}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"1. Pre-Ride Agreement"}),i.jsx("p",{className:"text-zinc-600 mb-4",children:"Before the ride begins, both drivers and passengers must agree to the following:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-8 text-zinc-600",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Fare"}),": The total fare amount for the ride, as calculated by the app or negotiated beforehand."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Payment Method"}),": The method of payment, which can include cash, card, or Tikkie, must be mutually agreed upon before the ride starts."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Special Conditions"}),": Any specific requests, such as extra stops, route preferences, or handling of luggage, should be discussed and agreed upon before pickup."]})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"2. Refund Eligibility"}),i.jsx("p",{className:"text-zinc-600 mb-4",children:"Refunds are only considered in the following circumstances:"}),i.jsx("h4",{className:"text-xl font-bold text-zinc-900 mt-8 mb-4",children:"A. Passenger-Initiated Refunds:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-8 text-zinc-600",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"No-Show by Driver"}),": If the driver does not show up within 10-15 minutes."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Unacceptable Ride Conditions"}),": If conditions are unsafe or unsanitary."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Driver Cancellations"}),": If driver cancels after accepting."]})]}),i.jsx("h4",{className:"text-xl font-bold text-zinc-900 mt-8 mb-4",children:"B. Driver-Initiated Refunds:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-8 text-zinc-600",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Passenger No-Show"}),": If passenger is not at pickup within 10-15 minutes."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Uncooperative Passenger"}),": If passenger behavior is unsafe or violates rules."]})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"3. Refund Request Process"}),i.jsxs("ol",{className:"list-decimal pl-6 mb-8 text-zinc-600",children:[i.jsx("li",{children:"Submit request through AICABY app within 24 hours"}),i.jsx("li",{children:"Provide ride ID and supporting evidence"}),i.jsx("li",{children:"Wait for review (3-5 business days)"}),i.jsx("li",{children:"Receive decision and refund if eligible"})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"4. Contact Information"}),i.jsxs("p",{className:"text-zinc-600",children:["For refund-related inquiries, contact us at:"," ",i.jsx("a",{href:"mailto:support@aicaby.com",className:"text-yellow-500 hover:text-yellow-600 hover:underline",children:"support@aicaby.com"})]})]}),e==="guidelines"&&i.jsxs("div",{className:"prose prose-zinc max-w-none",children:[i.jsx("h2",{className:"text-3xl font-bold text-zinc-900 mb-8",children:"AICABY Driver Community Guidelines"}),i.jsx("p",{className:"text-zinc-600 mb-8",children:"At AICABY, our mission is to empower drivers with more control and freedom while ensuring that both drivers and passengers enjoy a safe, professional, and comfortable experience."}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"1. Respectful and Professional Behavior"}),i.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg mb-8",children:[i.jsx("h4",{className:"font-bold mb-4",children:"What we expect:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Respectful treatment"}),": Treat every passenger with dignity and respect."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Open communication"}),": Respond promptly to questions or concerns."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Appropriate behavior"}),": Maintain professional boundaries."]})]}),i.jsx("p",{className:"text-sm italic",children:"Violations may result in warnings or account suspension."})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"2. Punctuality and Reliability"}),i.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg mb-8",children:[i.jsx("h4",{className:"font-bold mb-4",children:"Key Requirements:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"Arrive on time at pickup locations"}),i.jsx("li",{children:"Avoid unnecessary cancellations"}),i.jsx("li",{children:"Complete rides as agreed"})]}),i.jsx("p",{className:"text-sm italic",children:"Frequent violations may affect your account status."})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"3. Vehicle and Safety Standards"}),i.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg mb-8",children:[i.jsx("h4",{className:"font-bold mb-4",children:"Requirements:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"Maintain a clean, well-maintained vehicle"}),i.jsx("li",{children:"Follow all traffic laws and safety regulations"}),i.jsx("li",{children:"Conduct regular vehicle inspections"})]}),i.jsx("p",{className:"text-sm italic",children:"Safety violations may result in immediate suspension."})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"4. Payment and Honesty"}),i.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg mb-8",children:[i.jsx("h4",{className:"font-bold mb-4",children:"Guidelines:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"Charge only the agreed fare"}),i.jsx("li",{children:"Accept passenger's preferred payment method"}),i.jsx("li",{children:"Maintain transparency in all transactions"})]}),i.jsx("p",{className:"text-sm italic",children:"Payment violations may lead to permanent deactivation."})]}),i.jsx("h3",{className:"text-2xl font-bold text-zinc-900 mt-12 mb-6",children:"5. Privacy and Data Protection"}),i.jsxs("div",{className:"bg-yellow-50 p-6 rounded-lg mb-8",children:[i.jsx("h4",{className:"font-bold mb-4",children:"Requirements:"}),i.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[i.jsx("li",{children:"Protect passenger personal information"}),i.jsx("li",{children:"Only contact passengers through the platform"}),i.jsx("li",{children:"Report any data breaches immediately"})]}),i.jsx("p",{className:"text-sm italic",children:"Privacy violations will result in immediate review."})]}),i.jsxs("div",{className:"bg-zinc-50 p-6 rounded-lg mt-12",children:[i.jsx("h3",{className:"text-xl font-bold mb-4",children:"Need Help?"}),i.jsxs("p",{children:["Contact our support team for guidance:"," ",i.jsx("a",{href:"mailto:support@aicaby.com",className:"text-yellow-500 hover:text-yellow-600 hover:underline",children:"support@aicaby.com"})]})]})]})]})]})},Sb=()=>{const t=Wt(),e=()=>{t("/signin")};return i.jsxs("div",{className:"min-h-screen w-full bg-white overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0",children:i.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(245,158,11,0.1)_1px,transparent_1px)] bg-[length:40px_40px]"})}),i.jsxs("nav",{className:"relative z-10 px-6 py-4 flex justify-between items-center bg-zinc-900/90 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"bg-yellow-500 p-2 rounded-xl",children:i.jsx(ze,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-white text-xl font-bold",children:"AI CABY"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(le,{to:"/",className:"px-4 py-2 text-zinc-400 hover:text-yellow-500 transition-colors flex items-center gap-2",children:"Back to Passengers"}),i.jsx(le,{to:"/driver/docs",className:"px-4 py-2 text-zinc-400 hover:text-yellow-500 transition-colors flex items-center gap-2",children:"Documentation"}),i.jsx(le,{to:"/driver/signup",className:"px-4 py-2 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-colors shadow-lg hover:shadow-xl",children:"Drive with Us"})]})]}),i.jsx("header",{className:"relative z-10 w-full py-20",children:i.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-12",children:[i.jsxs("div",{className:"flex-1 space-y-8",children:[i.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold text-zinc-900",children:["AI CABY: Empowering Drivers,",i.jsx("span",{className:"text-yellow-500 block mt-2",children:"Revolutionizing Rides"})]}),i.jsxs("p",{className:"text-xl text-zinc-600",children:["Keep ",i.jsx("span",{className:"text-yellow-500 font-bold",children:"100%"})," of your earnings with just 1.5 per ride",i.jsx("span",{className:"block mt-2 text-zinc-500",children:"No commission. No hidden fees. Just fair earnings."})]}),i.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:`bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-4 px-8 rounded-xl 
                         transition-colors text-lg shadow-lg hover:shadow-xl`,children:"Get Started Today"})]}),i.jsxs(U.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8},className:"flex-1 bg-zinc-900 p-8 rounded-2xl shadow-2xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-yellow-500/10 rounded-full -translate-y-16 translate-x-16"}),i.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Monthly Scenario with 300 Rides:"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"p-4 bg-zinc-800/50 rounded-xl",children:[i.jsx("div",{className:"flex items-center text-red-400 mb-2",children:i.jsx("span",{className:"text-lg",children:" Traditional Platforms"})}),i.jsx("div",{className:"text-xl text-white",children:"5,000 earned, minus 20-25% ="}),i.jsx("div",{className:"text-2xl text-white font-mono mt-2",children:"3,750 - 4,000 in your pocket"})]}),i.jsxs("div",{className:"p-4 bg-yellow-500/10 rounded-xl border border-yellow-500/20",children:[i.jsx("div",{className:"flex items-center text-yellow-500 mb-2",children:i.jsx("span",{className:"text-lg",children:" AI CABY"})}),i.jsx("div",{className:"text-xl text-white",children:"5,000 earned, minus (300 rides  1.5) ="}),i.jsx("div",{className:"text-2xl text-white font-mono mt-2",children:"4,550 in your pocket"})]}),i.jsx("div",{className:"text-center mt-4 text-yellow-500 font-semibold text-lg",children:"That's an extra 550-800 every month!"})]})]})]})})}),i.jsx("section",{className:"relative z-10 w-full py-20 bg-zinc-900",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-12 text-center",children:"Why Choose Us?"}),i.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Fair & Transparent",desc:"Enjoy a fixed service fee of 1.5 per ride with no hidden costs. What you earn is yours to keep."},{title:"Cost Savings",desc:"Save hundreds of euros each month by avoiding commission fees that cut deep into your earnings."},{title:"Flexible & Open",desc:"Use AI CABY alongside other platforms. We don't demand exclusivity because we understand flexibility is key."}].map((s,r)=>i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:r*.1},className:"p-6 bg-zinc-800/50 rounded-xl hover:bg-zinc-800/70 transition-colors",children:[i.jsx("h3",{className:"text-xl font-semibold text-yellow-500 mb-4",children:s.title}),i.jsx("p",{className:"text-zinc-400",children:s.desc})]},s.title))})]})}),i.jsx("section",{className:"relative z-10 w-full py-20 bg-white",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx("h2",{className:"text-3xl font-bold text-zinc-900 mb-4 text-center",children:"Advanced Features"}),i.jsx("p",{className:"text-xl text-zinc-600 text-center mb-12",children:"AI-Powered Smart Ride"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[i.jsxs(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.8},className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx(oh,{className:"w-6 h-6 text-yellow-500 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-zinc-900",children:"Multilingual Support"}),i.jsx("p",{className:"text-zinc-600",children:"Chat in any language and book rides effortlessly. Our translation system handles over 95 languages with remarkable accuracy."})]})]}),i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx(uh,{className:"w-6 h-6 text-yellow-500 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-zinc-900",children:"Smart Routing"}),i.jsx("p",{className:"text-zinc-600",children:"Real-time traffic analysis and optimal route calculation."})]})]}),i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx(mi,{className:"w-6 h-6 text-yellow-500 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-zinc-900",children:"Scheduled Rides"}),i.jsx("p",{className:"text-zinc-600",children:"Book rides up to a week in advance with smart scheduling."})]})]}),i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx(xh,{className:"w-6 h-6 text-yellow-500 mt-1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-zinc-900",children:"Enhanced Safety"}),i.jsx("p",{className:"text-zinc-600",children:"Advanced driver safety protocols and real-time monitoring."})]})]})]}),i.jsxs(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.8},className:"bg-zinc-900 rounded-2xl p-8 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/20 to-transparent"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Community Benefits"}),i.jsx("p",{className:"text-lg text-zinc-400 mb-8",children:"Join a movement where drivers and passengers work together to reshape the taxi industry."}),i.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:`bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-3 px-6 rounded-xl
                           transition-colors shadow-lg hover:shadow-xl`,children:"Join Our Community"})]})]})]})]})}),i.jsx("section",{className:"relative z-10 w-full py-20 bg-zinc-900 text-center",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8",children:[i.jsx("h2",{className:"text-4xl font-bold text-white",children:"Ready to Keep More of What You Earn?"}),i.jsx("p",{className:"text-xl text-zinc-400",children:"Join AI CABY today and experience the future of ridesharing."}),i.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:`bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-4 px-8 rounded-xl
                       transition-colors text-lg shadow-lg hover:shadow-xl`,children:"Start Driving Now"}),i.jsx("p",{className:"text-lg text-yellow-500 font-semibold mt-8",children:"AI CABY: Your Ride, Your Rules, Your Earnings."})]})})}),i.jsx("footer",{className:"relative z-10 w-full py-12 bg-zinc-900 border-t border-zinc-800",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-4",children:"AI CABY"}),i.jsx("p",{className:"text-zinc-400",children:"Empowering drivers with fair earnings and smart technology."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-4",children:"Quick Links"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(le,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"About Us"})}),i.jsx("li",{children:i.jsx(le,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"How It Works"})}),i.jsx("li",{children:i.jsx(le,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"FAQ"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-4",children:"Legal"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(le,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"Privacy Policy"})}),i.jsx("li",{children:i.jsx(le,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"Terms of Service"})}),i.jsx("li",{children:i.jsx(le,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"Contact Us"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-semibold mb-4",children:"Connect"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(le,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"Twitter"})}),i.jsx("li",{children:i.jsx(le,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"LinkedIn"})}),i.jsx("li",{children:i.jsx(le,{to:"#",className:"text-zinc-400 hover:text-yellow-500",children:"Facebook"})})]})]})]}),i.jsxs("div",{className:"mt-12 pt-8 border-t border-zinc-800 text-center text-zinc-400",children:[" ",new Date().getFullYear()," AI CABY. All rights reserved."]})]})})]})},Ab=()=>i.jsxs("div",{className:"min-h-screen bg-background-light",children:[i.jsx("div",{className:"absolute inset-0 overflow-hidden",children:i.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,rgba(245,158,11,0.1)_1px,transparent_1px)] bg-[length:40px_40px]"})}),i.jsxs("nav",{className:"relative z-10 px-6 py-4 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"bg-yellow-500 p-2 rounded-xl",children:i.jsx(ze,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-text-light text-xl font-bold",children:"AI CABY"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(le,{to:"/driver",className:"px-4 py-2 text-text-light hover:text-primary transition-colors flex items-center gap-2",children:["For Drivers ",i.jsx(zu,{className:"w-4 h-4"})]}),i.jsx(le,{to:"/signup",className:"px-4 py-2 bg-primary text-white rounded-xl hover:bg-accent-yellow-dark transition-colors shadow-lg hover:shadow-xl",children:"Get Started"})]})]}),i.jsx("main",{className:"relative z-10 container mx-auto px-6 pt-20 pb-16",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8",children:[i.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold text-text-light",children:["Your AI-Powered",i.jsx("span",{className:"text-yellow-500 block mt-2",children:"Taxi Experience"})]}),i.jsx("p",{className:"text-lg text-text-secondary-light max-w-lg",children:"Experience the future of transportation with AI CABY. Smart bookings, real-time tracking, and personalized service - all through natural conversation."}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsx(le,{to:"/signup",className:`px-8 py-4 bg-primary text-white rounded-xl hover:bg-accent-yellow-dark 
                         transition-all transform hover:-translate-y-1 shadow-lg hover:shadow-xl`,children:"Start Your Journey"}),i.jsx(le,{to:"/about",className:`px-8 py-4 border-2 border-primary text-primary rounded-xl 
                         hover:bg-primary hover:text-white transition-all transform 
                         hover:-translate-y-1`,children:"Learn More"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-6 mt-12",children:[{title:"AI Assistant",desc:"Natural language booking"},{title:"Smart Routes",desc:"Optimal path finding"},{title:"Real-time",desc:"Live tracking & updates"},{title:"Secure",desc:"End-to-end encryption"}].map(t=>i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-text-light",children:t.title}),i.jsx("p",{className:"text-text-secondary-light",children:t.desc})]},t.title))})]}),i.jsx(U.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8},className:"relative",children:i.jsxs("div",{className:"relative aspect-square",children:[i.jsx(U.div,{animate:{scale:[1,1.2,1],rotate:[0,90,0]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},className:"absolute inset-0 bg-gradient-to-r from-yellow-400/20 to-yellow-500/20 rounded-full"}),i.jsx(U.div,{animate:{scale:[1.2,1,1.2],rotate:[90,0,90]},transition:{duration:15,repeat:1/0,repeatType:"reverse"},className:"absolute inset-10 bg-gradient-to-l from-yellow-500/30 to-yellow-600/30 rounded-full"}),i.jsx(U.div,{animate:{y:[-10,10,-10]},transition:{duration:4,repeat:1/0,repeatType:"reverse"},className:"absolute inset-20 bg-yellow-500 rounded-3xl shadow-2xl flex items-center justify-center",children:i.jsx(ze,{className:"w-32 h-32 text-white"})})]})})]})}),i.jsx("footer",{className:"relative z-10 border-t border-zinc-200 py-8 mt-20",children:i.jsx("div",{className:"container mx-auto px-6",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"text-zinc-600",children:" 2025 AI CABY. All rights reserved."}),i.jsxs("div",{className:"flex space-x-6",children:[i.jsx("a",{href:"#",className:"text-zinc-600 hover:text-yellow-500",children:"Privacy"}),i.jsx("a",{href:"#",className:"text-zinc-600 hover:text-yellow-500",children:"Terms"}),i.jsx("a",{href:"#",className:"text-zinc-600 hover:text-yellow-500",children:"Contact"})]})]})})})]});function Tb(t,e){const s=()=>{if(typeof window>"u")return e;try{const o=window.localStorage.getItem(t);return o?JSON.parse(o):e}catch(o){return console.warn(`Error reading localStorage key "${t}":`,o),e}},[r,n]=f.useState(s),a=o=>{try{const l=o instanceof Function?o(r):o;n(l),typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(l))}catch(l){console.warn(`Error setting localStorage key "${t}":`,l)}};return f.useEffect(()=>{n(s())},[]),[r,a]}function Pb({title:t,titleId:e,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Eb=f.forwardRef(Pb);function Rb({title:t,titleId:e,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Ib=f.forwardRef(Rb);function Mb({title:t,titleId:e,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Db=f.forwardRef(Mb);function Vb({title:t,titleId:e,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Fb=f.forwardRef(Vb);function Lb({title:t,titleId:e,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Ob=f.forwardRef(Lb);function zb({title:t,titleId:e,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Bb=f.forwardRef(zb);function $b({title:t,titleId:e,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const fl=f.forwardRef($b);function Ub({title:t,titleId:e,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},s),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const qb=f.forwardRef(Ub),Zb=()=>{const t=di(),[e,s]=Tb("sidebarOpen",window.innerWidth>=1024),[r,n]=f.useState(e),{isDarkMode:a}=ld();f.useEffect(()=>{s(r)},[r,s]),f.useEffect(()=>{document.documentElement.classList.toggle("dark",a);const l=()=>{window.innerWidth>=1024?e&&n(!0):n(!1)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[a]);const o=[{path:"/",label:"Dashboard",icon:Ob},{path:"/rides",label:"Active Rides",icon:ze},{path:"/favourites",label:"Favourites",icon:Bb},{path:"/history",label:"Ride History",icon:Fb},{path:"/profile",label:"Profile",icon:fl},{path:"/support",label:"Support",icon:Db}];return i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:()=>n(!r),className:`
          fixed top-4 left-4 z-50 p-2.5 rounded-lg bg-[#F7C948] hover:bg-[#FFE17D] 
          transition-all duration-200 shadow-[0_4px_12px_rgba(247,201,72,0.3)] ml-2
          ${r?"hidden":"block"}
          transform hover:scale-105
        `,"aria-label":"Toggle Menu",children:i.jsx(Ib,{className:"w-6 h-6 text-[#2A2A2A]"})}),i.jsx(Ml,{children:r&&i.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1),className:`fixed inset-0 bg-black/50 backdrop-blur-sm z-40 ${window.innerWidth>=1024?"bg-opacity-0":""}`})}),i.jsxs(U.div,{initial:!1,animate:{x:r?0:"-100%"},transition:{type:"spring",bounce:0,duration:.4},className:"fixed left-0 top-0 h-full w-[280px] bg-[#1C1C1C] text-white shadow-2xl z-50",children:[i.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-[#F7C948] via-[#FFE17D] to-[#F7C948]"}),i.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-white/5 transition-colors z-[60]","aria-label":"Close Menu",children:i.jsx(qb,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"relative h-full flex flex-col px-4 py-6",children:[i.jsxs("div",{className:"flex items-center mb-12 px-2 mt-2",children:[i.jsx("div",{className:"bg-[#F7C948] p-2 rounded-xl shadow-lg",children:i.jsx(ze,{className:"w-8 h-8 text-white",strokeWidth:2.5})}),i.jsx("span",{className:"ml-3 text-2xl font-extrabold tracking-tight bg-gradient-to-r from-[#F7C948] to-[#FFE17D] bg-clip-text text-transparent",children:"AI CABY"})]}),i.jsx("nav",{className:"flex-1 space-y-2 overflow-y-auto scrollbar-thin scrollbar-track-[rgba(255,255,255,0.05)] scrollbar-thumb-[rgba(247,201,72,0.3)] hover:scrollbar-thumb-[rgba(247,201,72,0.5)] px-2",children:o.map(l=>{const c=l.icon,d=t.pathname===l.path;return i.jsx("div",{children:i.jsxs(le,{to:l.path,onClick:()=>n(!1),className:`
                      group flex items-center px-4 py-2.5 rounded-full transition-all duration-300
                      ${d?"bg-gradient-to-r from-[#F7C948] to-[#FFE17D] shadow-lg":"hover:bg-white/5"}
                    `,children:[i.jsx("div",{className:`
                      p-1.5 rounded-full transition-colors
                      ${d?"bg-black/20 text-white":"text-white group-hover:bg-black/20"}
                    `,children:i.jsx(c,{className:"w-5 h-5"})}),i.jsx("span",{className:`
                      ml-3 font-medium tracking-wide
                      ${d?"text-[#2A2A2A]":"text-white/80 group-hover:text-white"}
                    `,children:l.label})]})},l.path)})}),i.jsx("div",{className:"mt-auto mb-6"}),i.jsxs("div",{className:"border-t border-[#F7C948]/20 pt-6 mt-6",children:[i.jsxs("div",{className:"flex items-center px-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#F7C948] backdrop-blur-sm flex items-center justify-center",children:i.jsx(fl,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"ml-3 flex-1",children:[i.jsx("div",{className:"font-bold tracking-wide text-white",children:"John Doe"}),i.jsx("div",{className:"text-sm font-medium text-[#F7C948]/80",children:"Professional Driver"})]})]}),i.jsxs(le,{to:"/auth/signout",onClick:()=>n(!1),className:"flex items-center mt-4 px-3 py-2 text-white/70 hover:text-white transition-colors group",children:[i.jsx("div",{className:"p-2 rounded-lg text-white group-hover:bg-white/5",children:i.jsx(Eb,{className:"w-5 h-5"})}),i.jsx("span",{className:"ml-3 font-bold tracking-wide",children:"Sign Out"})]})]})]})]})]})},ln=({children:t})=>{const s=di().pathname==="/";return i.jsxs("div",{className:"min-h-screen bg-background",children:[!s&&i.jsx(i.Fragment,{children:i.jsx("div",{className:"fixed inset-y-0 left-0 z-40",children:i.jsx(Zb,{})})}),i.jsx("main",{className:`
        ${s?"":"pl-4 pt-20 md:pt-6 transition-all duration-300"}
        ${s?"":"md:pl-[280px]"}
        px-4 sm:px-6 lg:px-8
      `,children:t})]})},Wb=[{id:"cash",name:"Cash",icon:"",description:"Pay with cash directly to driver"},{id:"tikkie",name:"Tikkie",icon:"",description:"Pay via Tikkie payment request"},{id:"terminal",name:"Terminal",icon:"",description:"Pay with card via POS terminal"}],Hb=t=>t>=500?"gold":t>=200?"silver":t>=50?"bronze":"new",Yb=()=>{var v,k,T,C;const{user:t}=Be(),[e,s]=f.useState(null),[r,n]=f.useState(!1),[a,o]=f.useState(null),l=f.useRef(null),[c,d]=f.useState([]);f.useEffect(()=>{t!=null&&t.id&&u()},[t==null?void 0:t.id]);const u=async()=>{if(t!=null&&t.id){n(!0);try{const{data:w,error:P}=await $.from("profiles").select("*").eq("id",t.id).single();if(P)throw P;const{data:F,error:X}=await $.from("rides").select("id, distance, created_at, status").eq("user_id",t.id);if(X)throw X;const K=(F==null?void 0:F.filter(te=>te.status==="completed"))||[],ge=K.length,q=K.reduce((te,S)=>te+(S.distance||0),0),G={...w,email:t.email||"",total_rides:ge,total_distance:q,badge_level:Hb(ge)};s(G),d(w.payment_preferences||[])}catch(w){console.error("Error fetching profile:",w),b("error","Failed to load profile")}finally{n(!1)}}},h=async w=>{if(w.preventDefault(),!(!(t!=null&&t.id)||!e)){n(!0);try{const{error:P}=await $.from("profiles").update({first_name:e.first_name,phone_number:e.phone_number,payment_preferences:c,updated_at:new Date().toISOString()}).eq("id",t.id);if(P)throw P;b("success","Profile updated successfully")}catch(P){console.error("Error updating profile:",P),b("error","Failed to update profile")}finally{n(!1)}}},m=w=>{const{name:P,value:F}=w.target;s(X=>X?{...X,[P]:F}:null)},p=()=>{var w;(w=l.current)==null||w.click()},g=async w=>{var X;const P=(X=w.target.files)==null?void 0:X[0];if(!P||!(t!=null&&t.id))return;if(P.size>2*1024*1024){b("error","File size must be less than 2MB");return}if(!["image/jpeg","image/png","image/gif"].includes(P.type)){b("error","File must be JPG, PNG or GIF");return}try{if(n(!0),e!=null&&e.avatar_url){const S=e.avatar_url.split("/").pop();S&&await $.storage.from("avatars").remove([S])}const K=P.type.split("/")[1],ge=`${t.id}-${Date.now()}.${K}`,{error:q}=await $.storage.from("avatars").upload(ge,P,{cacheControl:"3600",upsert:!1,contentType:P.type});if(q)throw q;const{data:{publicUrl:G}}=$.storage.from("avatars").getPublicUrl(ge),{error:te}=await $.from("profiles").update({avatar_url:G,updated_at:new Date().toISOString()}).eq("id",t.id);if(te)throw te;s(S=>S?{...S,avatar_url:G}:null),b("success","Profile photo updated successfully"),l.current&&(l.current.value="")}catch(K){console.error("Error uploading photo:",K),b("error",K.message||"Failed to upload photo")}finally{n(!1)}},x=w=>{d(P=>P.includes(w)?P.filter(F=>F!==w):[...P,w])},b=(w,P)=>{o({type:w,message:P}),setTimeout(()=>o(null),5e3)},j=w=>{switch(w){case"new":return 50;case"bronze":return 200;case"silver":return 500;default:return 500}};return i.jsx(ln,{children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r&&i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs("div",{className:"animate-pulse space-y-8",children:[i.jsx("div",{className:"h-48 bg-zinc-800/50 rounded-xl"}),i.jsx("div",{className:"h-96 bg-zinc-800/50 rounded-xl"})]})}),!r&&e&&i.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[i.jsxs("div",{className:"bg-zinc-900/90 rounded-xl p-6 border border-[#F7C948]/10",children:[i.jsx("h2",{className:"text-xl font-semibold mb-6 text-white",children:"Ride Statistics"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4 flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-3xl font-bold text-[#F7C948] mb-2",children:e.total_rides}),i.jsx("span",{className:"text-sm text-zinc-400",children:"Total Rides"})]}),i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4 flex flex-col items-center justify-center",children:[i.jsxs("span",{className:"text-3xl font-bold text-[#F7C948] mb-2",children:[(e.total_distance/1e3).toFixed(1),"km"]}),i.jsx("span",{className:"text-sm text-zinc-400",children:"Total Distance"})]}),i.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4 flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-3xl mb-2",children:e.badge_level==="gold"?"":e.badge_level==="silver"?"":e.badge_level==="bronze"?"":""}),i.jsx("span",{className:"text-sm text-zinc-400",children:e.badge_level?`${e.badge_level.charAt(0).toUpperCase()}${e.badge_level.slice(1)} Member`:"Member"})]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-zinc-800/30 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-zinc-400",children:"Progress to next level"}),i.jsxs("span",{className:"text-sm text-[#F7C948]",children:[e.total_rides," / ",j(e.badge_level||"new")," rides"]})]}),i.jsx("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-[#F7C948] rounded-full transition-all duration-1000",style:{width:`${Math.min(100,e.total_rides/j(e.badge_level||"new")*100)}%`}})})]})]}),i.jsx("div",{className:"bg-zinc-900/90 rounded-xl border border-[#F7C948]/10 overflow-hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h1",{className:"text-2xl font-semibold text-white mb-6",children:"Profile Settings"}),i.jsxs("form",{onSubmit:h,className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-800 border-2 border-[#F7C948]/20 text-[#F7C948] flex items-center justify-center text-2xl font-bold shadow-lg transition-all duration-300 hover:border-[#F7C948]/40",children:e!=null&&e.avatar_url?i.jsx("img",{src:e.avatar_url,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):((k=(v=e==null?void 0:e.first_name)==null?void 0:v[0])==null?void 0:k.toUpperCase())||((C=(T=t==null?void 0:t.email)==null?void 0:T[0])==null?void 0:C.toUpperCase())||"?"}),i.jsxs("div",{children:[i.jsx("button",{type:"button",onClick:p,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 ${r?"bg-[#F7C948]/50 cursor-not-allowed":"bg-[#F7C948] hover:bg-[#F7C948]/90"} text-zinc-900`,disabled:r,children:i.jsx("span",{className:"flex items-center gap-2",children:r?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-zinc-900 border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):"Upload Photo"})}),i.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:g,className:"hidden"}),i.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"JPG, PNG or GIF (max. 2MB)"})]})]}),i.jsx(et,{label:"Name",name:"first_name",value:(e==null?void 0:e.first_name)||"",onChange:m,placeholder:"Enter your name"}),i.jsx(et,{label:"Email",type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"bg-gray-50"}),i.jsx(et,{label:"Phone Number",name:"phone_number",value:(e==null?void 0:e.phone_number)||"",onChange:m,placeholder:"Enter your phone number"}),i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-white",children:"Payment Preferences"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-sm text-zinc-400 mr-2",children:"Select multiple"}),i.jsxs("div",{className:"relative group",children:[i.jsx("button",{type:"button",className:"w-6 h-6 flex items-center justify-center rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors border border-[#F7C948]/20","aria-label":"Information about payment methods",children:i.jsx("span",{className:"text-[#F7C948]",children:""})}),i.jsx("div",{className:"absolute right-0 w-64 p-3 bg-zinc-800 border border-[#F7C948]/20 shadow-xl text-zinc-300 text-xs rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10 mt-2 backdrop-blur-sm",children:"Select your preferred payment methods. You can choose multiple options."})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Wb.map(w=>i.jsxs("button",{type:"button",onClick:()=>x(w.id),className:`
                            relative p-4 rounded-xl transition-all duration-300 text-left
                            ${c.includes(w.id)?"bg-[#F7C948]/10 border border-[#F7C948]":"bg-zinc-800/50 border border-[#F7C948]/20 hover:border-[#F7C948]/40"}
                          `,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"text-2xl",children:w.icon}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-white",children:w.name}),i.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:w.description})]})]}),c.includes(w.id)&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx("span",{className:"text-[#F7C948]",children:""})})]},w.id))})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"submit",disabled:r,className:`
                        w-full py-3 rounded-lg font-medium transition-all duration-300
                        ${r?"bg-[#F7C948]/50 cursor-not-allowed":"bg-[#F7C948] hover:bg-[#F7C948]/90"} text-zinc-900
                      `,children:i.jsx("span",{className:"flex items-center justify-center gap-2",children:r?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-zinc-900 border-t-transparent rounded-full animate-spin"}),"Saving..."]}):"Save Changes"})})})]})]})}),i.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl overflow-hidden border border-red-500/20",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-4",children:"Danger Zone"}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),i.jsx("button",{type:"button",className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Delete Account"})]})})]}),a&&i.jsx(qd,{type:a.type,message:a.message,onClose:()=>o(null)})]})})};function Gb(...t){return Ed(ta(t))}const mu=f.forwardRef(({className:t,type:e,error:s,...r},n)=>i.jsx("input",{type:e,className:Gb("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s&&"border-red-500",t),ref:n,...r}));mu.displayName="Input";const pa=f.forwardRef(({className:t,...e},s)=>i.jsx("textarea",{className:hr("flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...e}));pa.displayName="Textarea";const Kb=()=>{const{user:t}=Be(),e=Wt(),[s,r]=f.useState([]),[n,a]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(!1);f.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:m,error:p}=await $.from("support_tickets").select("*").eq("user_id",t==null?void 0:t.id).order("created_at",{ascending:!1});if(p)throw p;r(m||[])}catch(m){console.error("Error fetching tickets:",m),se.error("Failed to load support tickets")}},h=async m=>{if(m.preventDefault(),!n||!o){se.error("Please fill in all fields");return}d(!0);try{const{error:p}=await $.from("support_tickets").insert([{user_id:t==null?void 0:t.id,title:n,description:o,status:"open"}]);if(p)throw p;se.success("Support ticket created successfully"),a(""),l(""),u()}catch(p){console.error("Error creating ticket:",p),se.error("Failed to create support ticket")}finally{d(!1)}};return i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Support"}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New Ticket"}),i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"title",className:"block text-sm font-medium mb-1",children:"Title"}),i.jsx(mu,{id:"title",value:n,onChange:m=>a(m.target.value),placeholder:"Brief description of your issue",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",children:"Description"}),i.jsx(pa,{id:"description",value:o,onChange:m=>l(m.target.value),placeholder:"Detailed description of your issue",rows:4,required:!0})]}),i.jsx(Ws,{type:"submit",disabled:c,children:c?"Creating...":"Create Ticket"})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Tickets"}),i.jsxs("div",{className:"space-y-4",children:[s.map(m=>i.jsx("div",{className:"bg-gray-800 rounded-lg p-4 cursor-pointer hover:bg-gray-700 transition-colors",onClick:()=>e(`/support/ticket/${m.id}`),children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:m.title}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:new Date(m.created_at).toLocaleDateString()})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${m.status==="open"?"bg-blue-500":m.status==="in_progress"?"bg-yellow-500":"bg-green-500"}`,children:m.status.replace("_"," ")})]})},m.id)),s.length===0&&i.jsx("p",{className:"text-gray-400",children:"No support tickets yet"})]})]})]})},Jb=()=>{const{id:t}=Cu(),e=Wt(),{user:s}=Be(),[r,n]=f.useState(null),[a,o]=f.useState([]),[l,c]=f.useState(""),[d,u]=f.useState(!1);f.useEffect(()=>{t&&(h(),m())},[t]);const h=async()=>{try{const{data:g,error:x}=await $.from("support_tickets").select("*").eq("id",t).single();if(x)throw x;if(g.user_id!==(s==null?void 0:s.id)){se.error("You do not have permission to view this ticket"),e("/support");return}n(g)}catch(g){console.error("Error fetching ticket:",g),se.error("Failed to load ticket details")}},m=async()=>{try{const{data:g,error:x}=await $.from("support_messages").select("*").eq("ticket_id",t).order("created_at",{ascending:!0});if(x)throw x;o(g||[])}catch(g){console.error("Error fetching messages:",g),se.error("Failed to load messages")}},p=async g=>{if(g.preventDefault(),!!l.trim()){u(!0);try{const{error:x}=await $.from("support_messages").insert([{ticket_id:t,content:l.trim(),user_id:s==null?void 0:s.id,is_admin:!1}]);if(x)throw x;c(""),m(),se.success("Message sent successfully")}catch(x){console.error("Error sending message:",x),se.error("Failed to send message")}finally{u(!1)}}};return r?i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("button",{onClick:()=>e("/support"),className:"flex items-center text-gray-400 hover:text-white mb-6",children:[i.jsx(fi,{className:"w-4 h-4 mr-2"}),"Back to Support"]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-8",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:r.title}),i.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Created on ",new Date(r.created_at).toLocaleDateString()]})]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${r.status==="open"?"bg-blue-500":r.status==="in_progress"?"bg-yellow-500":"bg-green-500"}`,children:r.status.replace("_"," ")})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:r.description})]}),i.jsx("div",{className:"space-y-6",children:a.map(g=>i.jsx("div",{className:`flex ${g.user_id===(s==null?void 0:s.id)?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${g.user_id===(s==null?void 0:s.id)?"bg-blue-600":g.is_admin?"bg-purple-600":"bg-gray-700"}`,children:[i.jsx("p",{className:"text-sm",children:g.content}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(g.created_at).toLocaleTimeString()})]})},g.id))}),i.jsxs("form",{onSubmit:p,className:"mt-8",children:[i.jsx(pa,{value:l,onChange:g=>c(g.target.value),placeholder:"Type your message here...",rows:3,className:"mb-4"}),i.jsx(Ws,{type:"submit",disabled:d||!l.trim(),children:d?"Sending...":"Send Message"})]})]}):i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsx("div",{className:"text-center",children:"Loading ticket details..."})})},Xb=()=>{console.log("TrainingData component rendering");const[t,e]=f.useState([]),[s,r]=f.useState(!0),[n,a]=f.useState(null),[o,l]=f.useState({userInput:"",aiResponse:"",intent:"",entities:{},context:{lastQuestion:"",pendingLocation:void 0}});f.useEffect(()=>{console.log("TrainingData useEffect running"),(async()=>{try{console.log("Starting to load training data"),r(!0),a(null),console.log("Calling trainingService.loadTrainingData()"),await yt.loadTrainingData(),console.log("Getting examples from training service");const h=yt.getExamples();console.log("Loaded examples:",h),e(h)}catch(h){console.error("Error in loadData:",h),a(h instanceof Error?h.message:"Failed to load training data")}finally{r(!1)}})()},[]);const c=async()=>{if(!(!o.userInput||!o.aiResponse||!o.intent))try{r(!0),await yt.addExample(o),e(yt.getExamples()),l({userInput:"",aiResponse:"",intent:"",entities:{},context:{lastQuestion:"",pendingLocation:void 0}})}catch(u){console.error("Error adding example:",u),alert("Failed to add example. Please try again.")}finally{r(!1)}},d=async u=>{var p;const h=(p=u.target.files)==null?void 0:p[0];if(!h)return;const m=new FileReader;m.onload=async g=>{var x;try{r(!0);const b=JSON.parse((x=g.target)==null?void 0:x.result);await yt.loadTrainingData(b),e(yt.getExamples())}catch(b){console.error("Error loading training data:",b),alert("Error loading training data. Please check the file format.")}finally{r(!1)}},m.readAsText(h)};return s?i.jsx("div",{className:"max-w-4xl mx-auto p-6",children:i.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:i.jsx("div",{className:"text-lg",children:"Loading training data..."})})}):n?i.jsx("div",{className:"max-w-4xl mx-auto p-6",children:i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Error Loading Data"}),i.jsx("p",{children:n})]})}):i.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Training Data Management"}),i.jsxs("div",{className:"mb-8 p-4 border rounded-lg",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Upload Training Data"}),i.jsx("input",{type:"file",accept:".json",onChange:d,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-accent hover:file:bg-primary/90"})]}),i.jsxs("div",{className:"mb-8 p-4 border rounded-lg",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add New Example"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Input"}),i.jsx("input",{type:"text",value:o.userInput,onChange:u=>l({...o,userInput:u.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"What the user might say..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"AI Response"}),i.jsx("textarea",{value:o.aiResponse,onChange:u=>l({...o,aiResponse:u.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"How AICABY should respond..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Intent"}),i.jsx("input",{type:"text",value:o.intent,onChange:u=>l({...o,intent:u.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"e.g., book_ride, price_inquiry, etc."})]}),i.jsx("button",{onClick:c,disabled:!o.userInput||!o.aiResponse||!o.intent||s,className:`
              w-full py-2 rounded-lg font-medium
              ${!o.userInput||!o.aiResponse||!o.intent||s?"bg-gray-300 cursor-not-allowed":"bg-primary text-accent hover:bg-primary/90"}
            `,children:s?"Adding...":"Add Example"})]})]}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Training Examples (",t.length,")"]}),t.length===0?i.jsx("div",{className:"text-gray-500 text-center py-8",children:"No training examples yet. Add your first example above."}):i.jsx("div",{className:"space-y-4",children:t.map((u,h)=>i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("div",{className:"font-medium text-gray-700",children:"Input:"}),i.jsx("div",{className:"mb-2",children:u.userInput}),i.jsx("div",{className:"font-medium text-gray-700",children:"Response:"}),i.jsx("div",{className:"mb-2",children:u.aiResponse}),i.jsx("div",{className:"font-medium text-gray-700",children:"Intent:"}),i.jsx("div",{className:"text-sm text-gray-600",children:u.intent})]},h))})]})]})};function Qb(){const[t,e]=f.useState(!1),[s,r]=f.useState(null),[n,a]=f.useState(null),[o,l]=f.useState({deepseek:{present:!1,format:!1},openrouter:{present:!1,format:!1}});f.useEffect(()=>{const d="sk-392fb02915fa467cbb86905b64873062",u="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";l({deepseek:{present:!0,format:(d==null?void 0:d.startsWith("sk-"))||!1},openrouter:{present:!0,format:(u==null?void 0:u.length)>20||!1}})},[]);const c=async()=>{e(!0),r(null),a(null);try{const d=await vd("Hello, I need a taxi","detailed");a(d)}catch(d){r(d instanceof Error?d.message:"Unknown error occurred")}finally{e(!1)}};return i.jsxs("div",{className:"p-4",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"AI Service Test Page"}),i.jsxs("div",{className:"mb-6 p-4 border rounded",children:[i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"API Configuration Status"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"DeepSeek API:"}),i.jsxs("ul",{className:"list-disc ml-6",children:[i.jsxs("li",{className:o.deepseek.present?"text-green-600":"text-red-600",children:["Key Present: ",o.deepseek.present?"Yes":"No"]}),i.jsxs("li",{className:o.deepseek.format?"text-green-600":"text-red-600",children:["Key Format Valid: ",o.deepseek.format?"Yes":"No"]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"OpenRouter API:"}),i.jsxs("ul",{className:"list-disc ml-6",children:[i.jsxs("li",{className:o.openrouter.present?"text-green-600":"text-red-600",children:["Key Present: ",o.openrouter.present?"Yes":"No"]}),i.jsxs("li",{className:o.openrouter.format?"text-green-600":"text-red-600",children:["Key Format Valid: ",o.openrouter.format?"Yes":"No"]})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("button",{onClick:c,disabled:t||!o.deepseek.present&&!o.openrouter.present,className:`px-4 py-2 rounded ${t||!o.deepseek.present&&!o.openrouter.present?"bg-gray-400":"bg-blue-500 hover:bg-blue-600"} text-white`,children:t?"Testing...":"Test AI Response"}),s&&i.jsxs("div",{className:"p-4 bg-red-100 border border-red-400 rounded",children:[i.jsx("p",{className:"text-red-700 font-medium",children:"Error:"}),i.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:s})]}),n&&i.jsxs("div",{className:"p-4 bg-green-100 border border-green-400 rounded",children:[i.jsx("p",{className:"text-green-700 font-medium",children:"Response:"}),i.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:n})]})]})]})}const Dt=({children:t})=>{const{user:e,isLoading:s}=Be(),r=di();return s?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):e?i.jsx(i.Fragment,{children:t}):i.jsx(_s,{to:"/signin",state:{from:r},replace:!0})};class ml extends f.Component{constructor(){super(...arguments);Kt(this,"state",{hasError:!1,error:void 0})}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("Uncaught error:",s,r)}render(){return this.state.hasError?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{children:[i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Something went wrong"}),i.jsxs("div",{className:"mt-2 text-center text-sm text-gray-600",children:[i.jsx("p",{children:"We apologize for the inconvenience. Please try refreshing the page."}),this.state.error&&i.jsx("div",{className:"text-sm text-red-600 font-mono bg-red-50 p-4 rounded overflow-auto",children:i.jsx("pre",{children:this.state.error.toString()})})]})]})})}):this.props.children}}const ew=[{id:"loc-001",name:"Home",address:"Prinsengracht 263-267, Amsterdam",type:"home"},{id:"loc-002",name:"Office",address:"Gustav Mahlerplein 50, Amsterdam",type:"work"},{id:"loc-003",name:"Gym",address:"Weteringschans 85, Amsterdam",type:"favorite"}],tw=[{id:"contact-001",name:"Emma van der Berg",phone:"+31 6 1234 5678",relationship:"Partner"},{id:"contact-002",name:"Jan de Vries",phone:"+31 6 8765 4321",relationship:"Family"},{id:"contact-003",name:"Sophie Bakker",phone:"+31 6 9876 5432",relationship:"Emergency Contact"}],sw=()=>{const{user:t}=Be(),[e,s]=f.useState(ew),[r,n]=f.useState(tw),[a,o]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState([]),{register:h,handleSubmit:m,reset:p}=us({defaultValues:{name:"",type:"favorite"}}),{register:g,handleSubmit:x,reset:b}=us({defaultValues:{name:"",phone:"",relationship:""}});f.useEffect(()=>{j(),v()},[t]);const j=async()=>{if(!t)return;const{data:w,error:P}=await $.from("saved_locations").select("*").eq("user_id",t.id);w&&!P&&s(w)},v=async()=>{if(!t)return;const{data:w,error:P}=await $.from("emergency_contacts").select("*").eq("user_id",t.id);w&&!P&&n(w)},k=async w=>{if(w.length>2){const P=await od(w);u(P)}else u([])},T=async w=>{if(!t)return;const{error:P}=await $.from("saved_locations").insert([{user_id:t.id,...w}]);P||(j(),o(!1),p())},C=async w=>{if(!t)return;const{error:P}=await $.from("emergency_contacts").insert([{user_id:t.id,...w}]);P||(v(),c(!1),b())};return i.jsx(ln,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-accent/5 to-primary/5 p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsxs(U.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-lg",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Favourites"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your favourite locations and emergency contacts"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Saved Locations"}),i.jsx("p",{className:"text-3xl font-bold text-accent mt-2",children:e.length})]}),i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Emergency Contacts"}),i.jsx("p",{className:"text-3xl font-bold text-accent mt-2",children:r.length})]}),i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Access"}),i.jsx("p",{className:"text-3xl font-bold text-accent mt-2",children:"24/7"})]})]}),i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Saved Locations"}),i.jsx("button",{onClick:()=>o(!0),className:"bg-accent text-white hover:bg-accent/90 px-4 py-2 rounded-lg transition-colors",children:"Add Location"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((w,P)=>i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:P*.1},className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-gray-100 hover:border-primary/20",children:[i.jsx("div",{className:"text-4xl mb-3",children:w.name==="Home"?"":w.name==="Office"?"":""}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w.name}),i.jsx("p",{className:"text-gray-600 text-sm mt-2",children:w.address}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:i.jsx("button",{className:"bg-primary text-accent hover:bg-primary/90 px-4 py-2 rounded-lg text-sm transition-colors",children:"Set as destination"})})]},w.id))}),a&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Add New Location"}),i.jsxs("form",{onSubmit:m(T),className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("input",{type:"text",placeholder:"Search address...",onChange:w=>k(w.target.value),className:"w-full px-4 py-2 border rounded-lg"}),d.length>0&&i.jsx("div",{className:"mt-2 border rounded-lg max-h-40 overflow-y-auto",children:d.map(w=>i.jsx("div",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{u([])},children:w.address},w.coordinates.join(",")))})]}),i.jsx("input",{...h("name"),placeholder:"Label (e.g., Home, Office)",className:"w-full px-4 py-2 border rounded-lg"}),i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:()=>o(!1),className:"bg-gray-100 text-gray-600 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-primary text-accent hover:bg-primary/90 px-4 py-2 rounded-lg transition-colors",children:"Save Location"})]})]})]})})]}),i.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Emergency Contacts"}),i.jsx("button",{onClick:()=>c(!0),className:"bg-accent text-white hover:bg-accent/90 px-4 py-2 rounded-lg transition-colors",children:"Add Contact"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((w,P)=>i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:P*.1},className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 border border-gray-100 hover:border-primary/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center text-2xl",children:""}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:w.name}),i.jsx("p",{className:"text-sm text-primary",children:w.relationship})]})]}),i.jsx("p",{className:"text-gray-600 mt-2",children:w.phone}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex justify-between",children:[i.jsx("button",{className:"bg-primary text-accent hover:bg-primary/90 px-4 py-2 rounded-lg text-sm transition-colors",children:"Call Now"}),i.jsx("button",{className:"bg-accent text-white hover:bg-accent/90 px-4 py-2 rounded-lg text-sm transition-colors",children:"Share Location"})]})]},w.id))}),l&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Add Emergency Contact"}),i.jsxs("form",{onSubmit:x(C),className:"space-y-4",children:[i.jsx("input",{...g("name"),placeholder:"Contact Name",className:"w-full px-4 py-2 border rounded-lg"}),i.jsx("input",{...g("phone"),placeholder:"Phone Number",className:"w-full px-4 py-2 border rounded-lg"}),i.jsx("input",{...g("relationship"),placeholder:"Relationship",className:"w-full px-4 py-2 border rounded-lg"}),i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:()=>c(!1),className:"bg-gray-100 text-gray-600 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-primary text-accent hover:bg-primary/90 px-4 py-2 rounded-lg transition-colors",children:"Save Contact"})]})]})]})})]})]})})})},rw=[{id:"RIDE-001",date:new Date("2024-03-20T14:30:00"),pickup:"Amsterdam Central Station",dropoff:"Schiphol Airport",distance:15.7,duration:25,price:45.5,driver:{name:"Michael B.",rating:4.9,avatar:""},status:"completed",carType:"Tesla Model Y",paymentMethod:"Credit Card"},{id:"RIDE-002",date:new Date("2024-03-19T09:15:00"),pickup:"Rotterdam Business Center",dropoff:"Rotterdam Central",distance:3.2,duration:12,price:15.75,driver:{name:"Sarah K.",rating:4.8,avatar:""},status:"completed",carType:"BMW i4",paymentMethod:"PayPal"},{id:"RIDE-003",date:new Date("2024-03-18T18:45:00"),pickup:"The Hague Beach",dropoff:"City Center",distance:4.5,duration:15,price:18.9,driver:{name:"David L.",rating:4.7,avatar:""},status:"cancelled",carType:"Mercedes EQS",paymentMethod:"Apple Pay"}],nw=()=>{const[t,e]=f.useState(null),[s,r]=f.useState(!1),n=o=>{e(o),r(!0)},a=o=>{console.log("Downloading receipt for ride:",o.id)};return i.jsx(ln,{children:i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-accent/5 to-primary/5 p-6",children:[i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsxs(U.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-lg",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ride History"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"View and manage your past rides"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Rides"}),i.jsx("p",{className:"text-3xl font-bold text-accent mt-2",children:"24"})]}),i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Distance"}),i.jsx("p",{className:"text-3xl font-bold text-accent mt-2",children:"342 km"})]}),i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Spent"}),i.jsx("p",{className:"text-3xl font-bold text-accent mt-2",children:"825.50"})]})]}),i.jsx("div",{className:"space-y-6",children:rw.map((o,l)=>i.jsxs(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.1},className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center text-2xl",children:o.driver.avatar}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:In(o.date,"MMM d, yyyy")}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.status})]}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[In(o.date,"HH:mm"),"  ",o.distance," km  ",o.duration," min"]}),i.jsxs("div",{className:"mt-2 space-y-1",children:[i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"text-primary",children:"From:"})," ",o.pickup]}),i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"text-primary",children:"To:"})," ",o.dropoff]})]})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[i.jsxs("p",{className:"text-2xl font-bold text-accent",children:["",o.price.toFixed(2)]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>n(o),className:"px-3 py-1.5 text-sm bg-primary/10 hover:bg-primary/20 text-accent rounded-lg transition-colors",children:"Share"}),i.jsx("button",{onClick:()=>a(o),className:"px-3 py-1.5 text-sm bg-accent text-white rounded-lg hover:bg-accent/90 transition-colors",children:"Receipt"})]})]})]}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{children:["Driver: ",o.driver.name]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-yellow-400",children:""}),i.jsx("span",{className:"ml-1",children:o.driver.rating})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{children:o.carType}),i.jsx("span",{children:o.paymentMethod})]})]})})]},o.id))})]}),s&&t&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Share Ride Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("button",{onClick:()=>r(!1),className:"w-full py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Share on Facebook"}),i.jsx("button",{onClick:()=>r(!1),className:"w-full py-3 bg-sky-400 text-white rounded-lg hover:bg-sky-500 transition-colors",children:"Share on Twitter"}),i.jsx("button",{onClick:()=>r(!1),className:"w-full py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Share on WhatsApp"}),i.jsx("button",{onClick:()=>r(!1),className:"w-full py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})})]})})},iw=[{id:"RIDE-001",status:"ongoing",pickup:"Amsterdam Central Station",dropoff:"Schiphol Airport",date:new Date(Date.now()+1e3*60*5),price:45.5,distance:15.7,duration:25,eta:12,driver:{id:"D1",name:"Michael B.",phone:"+31 6 1234 5678",rating:4.9,avatar:"",carDetails:{model:"Tesla Model Y",color:"Midnight Silver",plate:"TX-123-AB"}},paymentMethod:"Credit Card"},{id:"RIDE-002",status:"upcoming",pickup:"Rotterdam Business Center",dropoff:"Rotterdam Central",date:new Date(Date.now()+1e3*60*15),price:22.75,distance:3.2,duration:12,eta:8,driver:{id:"D2",name:"Sarah K.",phone:"+31 6 8765 4321",rating:4.8,avatar:"",carDetails:{model:"BMW i4",color:"Alpine White",plate:"EV-456-CD"}},paymentMethod:"PayPal"},{id:"RIDE-003",status:"scheduled",pickup:"The Hague Beach",dropoff:"City Center",date:new Date(Date.now()+1e3*60*60*24),price:18.9,distance:4.5,duration:15,paymentMethod:"Apple Pay",notes:"Please pick up at the main entrance"}],aw=()=>{const[t]=f.useState(iw),[e,s]=f.useState(null),[r,n]=f.useState(!1),a=d=>{switch(d){case"ongoing":return"bg-green-500 text-white";case"upcoming":return"bg-blue-500 text-white";case"scheduled":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},o=d=>{window.location.href=`tel:${d}`},l=d=>{s(d),n(!0)},c=d=>{console.log("Cancelling ride:",d.id)};return i.jsx(ln,{children:i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-accent/5 to-primary/5 p-6",children:[i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsxs(U.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-lg",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Active Rides"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your ongoing and upcoming rides"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-gradient-to-br from-green-400/10 to-green-600/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ongoing Rides"}),i.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:t.filter(d=>d.status==="ongoing").length})]}),i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-br from-blue-400/10 to-blue-600/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Rides"}),i.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:t.filter(d=>d.status==="upcoming").length})]}),i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-gradient-to-br from-purple-400/10 to-purple-600/10 rounded-2xl p-6 backdrop-blur-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Scheduled Rides"}),i.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:t.filter(d=>d.status==="scheduled").length})]})]}),i.jsx("div",{className:"space-y-6",children:t.map((d,u)=>i.jsxs(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},className:"bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("span",{className:`px-4 py-1.5 rounded-full text-sm font-medium ${a(d.status)}`,children:d.status.charAt(0).toUpperCase()+d.status.slice(1)}),i.jsxs("p",{className:"text-2xl font-bold text-accent",children:["",d.price.toFixed(2)]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx("span",{className:"text-green-600",children:"A"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Pickup"}),i.jsx("p",{className:"font-medium",children:d.pickup})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx("span",{className:"text-red-600",children:"B"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Dropoff"}),i.jsx("p",{className:"font-medium",children:d.dropoff})]})]})]}),i.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[i.jsxs("span",{children:[d.distance," km"]}),i.jsx("span",{children:""}),i.jsxs("span",{children:[d.duration," min"]}),i.jsx("span",{children:""}),i.jsx("span",{children:In(d.date,"HH:mm")})]}),d.eta&&i.jsx("div",{className:"bg-accent/5 rounded-lg p-3",children:i.jsxs("p",{className:"text-accent font-medium",children:["ETA: ",d.eta," minutes"]})})]}),d.driver?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center text-3xl",children:d.driver.avatar}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:d.driver.name}),i.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[i.jsx("span",{className:"text-yellow-400",children:""}),i.jsx("span",{children:d.driver.rating})]}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[d.driver.carDetails.model,"  ",d.driver.carDetails.plate]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>d.driver&&o(d.driver.phone),className:"flex-1 bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Call Driver"}),i.jsx("button",{onClick:()=>l(d),className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Message"})]})]}):i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("p",{className:"text-gray-500",children:"Driver will be assigned soon"})})]}),i.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:d.paymentMethod}),d.notes&&i.jsxs("span",{className:"text-sm text-gray-600",children:[" ",d.notes]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>c(d),className:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Cancel Ride"}),i.jsx("button",{className:"px-4 py-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition-colors",children:"Track Ride"})]})]})]},d.id))})]}),r&&e&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs(U.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Message Driver"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("textarea",{className:"w-full h-32 px-4 py-2 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Type your message here..."}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900",children:"Cancel"}),i.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 bg-primary text-accent rounded-lg hover:bg-primary/90",children:"Send Message"})]})]})]})})]})})};yt.loadTrainingData().then(()=>{console.log("Training data loaded from Supabase successfully")}).catch(t=>{console.error("Error loading training data from Supabase:",t)});Ru.createRoot(document.getElementById("root")).render(i.jsx(ae.StrictMode,{children:i.jsx(ml,{children:i.jsx(gl,{children:i.jsxs(xl,{children:[i.jsx(he,{path:"/",element:i.jsx(bd,{})}),i.jsx(he,{path:"/welcome",element:i.jsx(T0,{})}),i.jsx(he,{path:"/landing",element:i.jsx(Ab,{})}),i.jsx(he,{path:"/test-ai",element:i.jsx(Qb,{})}),i.jsxs(he,{path:"/driver",children:[i.jsx(he,{index:!0,element:i.jsx(Sb,{})}),i.jsx(he,{path:"signup",element:i.jsx(hl,{})}),i.jsx(he,{path:"docs",element:i.jsx(ml,{children:i.jsx(Cb,{})})})]}),i.jsx(he,{path:"/signin",element:i.jsx($v,{})}),i.jsx(he,{path:"/signup",element:i.jsx(hl,{})}),i.jsx(he,{path:"/forgot-password",element:i.jsx(Zv,{})}),i.jsx(he,{path:"/profile",element:i.jsx(Dt,{children:i.jsx(Yb,{})})}),i.jsx(he,{path:"/support",element:i.jsx(Dt,{children:i.jsx(Kb,{})})}),i.jsx(he,{path:"/support/ticket/:id",element:i.jsx(Dt,{children:i.jsx(Jb,{})})}),i.jsx(he,{path:"/favourites",element:i.jsx(Dt,{children:i.jsx(sw,{})})}),i.jsx(he,{path:"/history",element:i.jsx(Dt,{children:i.jsx(nw,{})})}),i.jsx(he,{path:"/rides",element:i.jsx(Dt,{children:i.jsx(aw,{})})}),i.jsx(he,{path:"/admin/training",element:i.jsx(Dt,{children:i.jsx(Xb,{})})})]})})})}));
//# sourceMappingURL=index-OvAf7Cxo.js.map
